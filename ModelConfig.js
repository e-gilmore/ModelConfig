!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ModelConfigReactFlow={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=r(t),i=n(t);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(){const e={NODE_ENV:"production"};try{if(process)return process.env=Object.assign({},process.env),void Object.assign(process.env,e)}catch(e){}globalThis.process={env:e}}();!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".App {\n  width: 100vw;\n  height: 100vh;\n}\n\n.react-flow {\n  background: #202020;\n}\n\n.react-flow__node-default,.react-flow__node-input {\n  background: #3fcf8e!important;\n  color: white!important;\n}\n\n.react-flow__minimap {\n  background: #202020!important;\n}\n\n.ComponentNode {\n  background: grey;\n  color: white;\n  border-radius: 3px;\n  height: 100%;\n  padding: 0px;\n  width: 160px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n}\n\n.ComponentTitle {\n  background: #3fcf8e;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  justify-content: center;\n}\n\n.StatusCircle {\n  margin-left: 10px;\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  display: inline-block;\n  border: 1px solid grey;\n}\n\n.StatusCircleOk {\n  box-shadow:\n    0px 0px 10px 3px white,\n    0px 0px 20px 8px green;\n  background-color: rgb(35, 231, 35);\n}\n\n.StatusCircleWarning {\n  box-shadow:\n    0px 0px 10px 3px white,\n    0px 0px 20px 8px rgb(255, 161, 38);\n  background-color: rgb(240, 171, 93);\n}\n\n.ModelStatus {\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-between;\n  box-sizing: border-box;\n}\n\n.ComponentNode p {\n  font-size: 12px;\n  margin: 0px;\n}");var u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},u(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function f(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function d(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var v="Invariant Violation",y=Object.setPrototypeOf,g=void 0===y?function(e,t){return e.__proto__=t,e}:y,m=function(e){function t(n){void 0===n&&(n=v);var r=e.call(this,"number"==typeof n?v+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=v,g(r,t.prototype),r}return c(t,e),t}(Error);function b(e,t){if(!e)throw new m(t)}var w=["debug","log","warn","error","silent"],_=w.indexOf("log");function E(e){return function(){if(w.indexOf(e)>=_){var t=console[e]||console.log;return t.apply(console,arguments)}}}function O(e){try{return e()}catch(e){}}!function(e){e.debug=E("debug"),e.log=E("log"),e.warn=E("warn"),e.error=E("error")}(b||(b={}));var S=O((function(){return globalThis}))||O((function(){return window}))||O((function(){return self}))||O((function(){return global}))||O((function(){return O.constructor("return this")()})),x="__",k=[x,x].join("DEV");var N=function(){try{return Boolean(__DEV__)}catch(e){return Object.defineProperty(S,k,{value:"production"!==O((function(){return process.env.NODE_ENV})),enumerable:!1,configurable:!0,writable:!0}),S[k]}}();function C(e){try{return e()}catch(e){}}var D=C((function(){return globalThis}))||C((function(){return window}))||C((function(){return self}))||C((function(){return global}))||C((function(){return C.constructor("return this")()})),j=!1;function P(){j&&(delete D.process,j=!1)}function I(e,t){if(!Boolean(e))throw new Error(t)}function T(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}!D||C((function(){return process.env.NODE_ENV}))||C((function(){return process}))||(Object.defineProperty(D,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),j=!0);const M=/\r\n|[\n\r]/g;function A(e,t){let n=0,r=1;for(const o of e.body.matchAll(M)){if("number"==typeof o.index||T(!1),o.index>=t)break;n=o.index+o[0].length,r+=1}return{line:r,column:t+1-n}}function R(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,a=t.line+i,s=1===t.line?n:0,u=t.column+s,c=`${e.name}:${a}:${u}\n`,l=r.split(/\r\n|[\n\r]/g),f=l[o];if(f.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let e=0;e<f.length;e+=80)n.push(f.slice(e,e+80));return c+F([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return c+F([[a-1+" |",l[o-1]],[`${a} |`,f],["|","^".padStart(u)],[`${a+1} |`,l[o+1]]])}function F(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class L extends Error{constructor(e,...t){var n,r,o;const{nodes:i,source:a,positions:s,path:u,originalError:c,extensions:l}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=V(Array.isArray(i)?i:i?[i]:void 0);const f=V(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=a?a:null==f||null===(r=f[0])||void 0===r?void 0:r.source,this.positions=null!=s?s:null==f?void 0:f.map((e=>e.start)),this.locations=s&&a?s.map((e=>A(a,e))):null==f?void 0:f.map((e=>A(e.source,e.start)));const d="object"==typeof(h=null==c?void 0:c.extensions)&&null!==h?null==c?void 0:c.extensions:void 0;var h;this.extensions=null!==(o=null!=l?l:d)&&void 0!==o?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,L):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+R((t=n.loc).source,A(t.source,t.start)));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+R(this.source,t);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function V(e){return void 0===e||0===e.length?void 0:e}function z(e,t,n){return new L(`Syntax Error: ${n}`,{source:e,positions:[t]})}class q{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class B{constructor(e,t,n,r,o,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Q={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},U=new Set(Object.keys(Q));function Y(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&U.has(t)}let H,W,G,X;function K(e){return 9===e||32===e}function $(e){return e>=48&&e<=57}function Z(e){return e>=97&&e<=122||e>=65&&e<=90}function J(e){return Z(e)||95===e}function ee(e){return Z(e)||$(e)||95===e}function te(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let t=0;t<e.length;++t){var i;const a=e[t],s=ne(a);s!==a.length&&(r=null!==(i=r)&&void 0!==i?i:t,o=t,0!==t&&s<n&&(n=s))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,o+1)}function ne(e){let t=0;for(;t<e.length&&K(e.charCodeAt(t));)++t;return t}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(H||(H={})),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(W||(W={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(G||(G={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(X||(X={}));class re{constructor(e){const t=new B(X.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==X.EOF)do{if(e.next)e=e.next;else{const t=le(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===X.COMMENT);return e}}function oe(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ie(e,t){return ae(e.charCodeAt(t))&&se(e.charCodeAt(t+1))}function ae(e){return e>=55296&&e<=56319}function se(e){return e>=56320&&e<=57343}function ue(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return X.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function ce(e,t,n,r,o){const i=e.line,a=1+n-e.lineStart;return new B(t,n,r,i,a,o)}function le(e,t){const n=e.source.body,r=n.length;let o=t;for(;o<r;){const t=n.charCodeAt(o);switch(t){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===n.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 35:return fe(e,o);case 33:return ce(e,X.BANG,o,o+1);case 36:return ce(e,X.DOLLAR,o,o+1);case 38:return ce(e,X.AMP,o,o+1);case 40:return ce(e,X.PAREN_L,o,o+1);case 41:return ce(e,X.PAREN_R,o,o+1);case 46:if(46===n.charCodeAt(o+1)&&46===n.charCodeAt(o+2))return ce(e,X.SPREAD,o,o+3);break;case 58:return ce(e,X.COLON,o,o+1);case 61:return ce(e,X.EQUALS,o,o+1);case 64:return ce(e,X.AT,o,o+1);case 91:return ce(e,X.BRACKET_L,o,o+1);case 93:return ce(e,X.BRACKET_R,o,o+1);case 123:return ce(e,X.BRACE_L,o,o+1);case 124:return ce(e,X.PIPE,o,o+1);case 125:return ce(e,X.BRACE_R,o,o+1);case 34:return 34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)?we(e,o):pe(e,o)}if($(t)||45===t)return de(e,o,t);if(J(t))return _e(e,o);throw z(e.source,o,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":oe(t)||ie(n,o)?`Unexpected character: ${ue(e,o)}.`:`Invalid character: ${ue(e,o)}.`)}return ce(e,X.EOF,r,r)}function fe(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){const e=n.charCodeAt(o);if(10===e||13===e)break;if(oe(e))++o;else{if(!ie(n,o))break;o+=2}}return ce(e,X.COMMENT,t,o,n.slice(t+1,o))}function de(e,t,n){const r=e.source.body;let o=t,i=n,a=!1;if(45===i&&(i=r.charCodeAt(++o)),48===i){if(i=r.charCodeAt(++o),$(i))throw z(e.source,o,`Invalid number, unexpected digit after 0: ${ue(e,o)}.`)}else o=he(e,o,i),i=r.charCodeAt(o);if(46===i&&(a=!0,i=r.charCodeAt(++o),o=he(e,o,i),i=r.charCodeAt(o)),69!==i&&101!==i||(a=!0,i=r.charCodeAt(++o),43!==i&&45!==i||(i=r.charCodeAt(++o)),o=he(e,o,i),i=r.charCodeAt(o)),46===i||J(i))throw z(e.source,o,`Invalid number, expected digit but got: ${ue(e,o)}.`);return ce(e,a?X.FLOAT:X.INT,t,o,r.slice(t,o))}function he(e,t,n){if(!$(n))throw z(e.source,t,`Invalid number, expected digit but got: ${ue(e,t)}.`);const r=e.source.body;let o=t+1;for(;$(r.charCodeAt(o));)++o;return o}function pe(e,t){const n=e.source.body,r=n.length;let o=t+1,i=o,a="";for(;o<r;){const r=n.charCodeAt(o);if(34===r)return a+=n.slice(i,o),ce(e,X.STRING,t,o+1,a);if(92!==r){if(10===r||13===r)break;if(oe(r))++o;else{if(!ie(n,o))throw z(e.source,o,`Invalid character within String: ${ue(e,o)}.`);o+=2}}else{a+=n.slice(i,o);const t=117===n.charCodeAt(o+1)?123===n.charCodeAt(o+2)?ve(e,o):ye(e,o):be(e,o);a+=t.value,o+=t.size,i=o}}throw z(e.source,o,"Unterminated string.")}function ve(e,t){const n=e.source.body;let r=0,o=3;for(;o<12;){const e=n.charCodeAt(t+o++);if(125===e){if(o<5||!oe(r))break;return{value:String.fromCodePoint(r),size:o}}if(r=r<<4|me(e),r<0)break}throw z(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+o)}".`)}function ye(e,t){const n=e.source.body,r=ge(n,t+2);if(oe(r))return{value:String.fromCodePoint(r),size:6};if(ae(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=ge(n,t+8);if(se(e))return{value:String.fromCodePoint(r,e),size:12}}throw z(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function ge(e,t){return me(e.charCodeAt(t))<<12|me(e.charCodeAt(t+1))<<8|me(e.charCodeAt(t+2))<<4|me(e.charCodeAt(t+3))}function me(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function be(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw z(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function we(e,t){const n=e.source.body,r=n.length;let o=e.lineStart,i=t+3,a=i,s="";const u=[];for(;i<r;){const r=n.charCodeAt(i);if(34===r&&34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)){s+=n.slice(a,i),u.push(s);const r=ce(e,X.BLOCK_STRING,t,i+3,te(u).join("\n"));return e.line+=u.length-1,e.lineStart=o,r}if(92!==r||34!==n.charCodeAt(i+1)||34!==n.charCodeAt(i+2)||34!==n.charCodeAt(i+3))if(10!==r&&13!==r)if(oe(r))++i;else{if(!ie(n,i))throw z(e.source,i,`Invalid character within String: ${ue(e,i)}.`);i+=2}else s+=n.slice(a,i),u.push(s),13===r&&10===n.charCodeAt(i+1)?i+=2:++i,s="",a=i,o=i;else s+=n.slice(a,i),a=i+1,i+=4}throw z(e.source,i,"Unterminated string.")}function _e(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){if(!ee(n.charCodeAt(o)))break;++o}return ce(e,X.NAME,t,o,n.slice(t,o))}function Ee(e){return Oe(e,[])}function Oe(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Oe(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,o=[];for(let r=0;r<n;++r)o.push(Oe(e[r],t));1===r?o.push("... 1 more item"):r>1&&o.push(`... ${r} more items`);return"["+o.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+Oe(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}const Se="production"===process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var n;const r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){const t=Ee(e);throw new Error(`Cannot use ${r} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1};class xe{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||I(!1,`Body must be a string. Received: ${Ee(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||I(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||I(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class ke{constructor(e,t){const n=function(e){return Se(e,xe)}(e)?e:new xe(e);this._lexer=new re(n),this._options=t}parseName(){const e=this.expectToken(X.NAME);return this.node(e,{kind:G.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:G.DOCUMENT,definitions:this.many(X.SOF,this.parseDefinition,X.EOF)})}parseDefinition(){if(this.peek(X.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===X.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw z(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(X.BRACE_L))return this.node(e,{kind:G.OPERATION_DEFINITION,operation:H.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(X.NAME)&&(n=this.parseName()),this.node(e,{kind:G.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(X.NAME);switch(e.value){case"query":return H.QUERY;case"mutation":return H.MUTATION;case"subscription":return H.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(X.PAREN_L,this.parseVariableDefinition,X.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:G.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(X.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(X.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(X.DOLLAR),this.node(e,{kind:G.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:G.SELECTION_SET,selections:this.many(X.BRACE_L,this.parseSelection,X.BRACE_R)})}parseSelection(){return this.peek(X.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(X.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:G.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(X.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(X.PAREN_L,t,X.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(X.COLON),this.node(t,{kind:G.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(X.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(X.NAME)?this.node(e,{kind:G.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:G.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:G.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:G.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case X.BRACKET_L:return this.parseList(e);case X.BRACE_L:return this.parseObject(e);case X.INT:return this._lexer.advance(),this.node(t,{kind:G.INT,value:t.value});case X.FLOAT:return this._lexer.advance(),this.node(t,{kind:G.FLOAT,value:t.value});case X.STRING:case X.BLOCK_STRING:return this.parseStringLiteral();case X.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:G.BOOLEAN,value:!0});case"false":return this.node(t,{kind:G.BOOLEAN,value:!1});case"null":return this.node(t,{kind:G.NULL});default:return this.node(t,{kind:G.ENUM,value:t.value})}case X.DOLLAR:if(e){if(this.expectToken(X.DOLLAR),this._lexer.token.kind===X.NAME){const e=this._lexer.token.value;throw z(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:G.STRING,value:e.value,block:e.kind===X.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:G.LIST,values:this.any(X.BRACKET_L,(()=>this.parseValueLiteral(e)),X.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:G.OBJECT,fields:this.any(X.BRACE_L,(()=>this.parseObjectField(e)),X.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(X.COLON),this.node(t,{kind:G.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(X.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(X.AT),this.node(t,{kind:G.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(X.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(X.BRACKET_R),t=this.node(e,{kind:G.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(X.BANG)?this.node(e,{kind:G.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:G.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(X.STRING)||this.peek(X.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(X.BRACE_L,this.parseOperationTypeDefinition,X.BRACE_R);return this.node(e,{kind:G.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(X.COLON);const n=this.parseNamedType();return this.node(e,{kind:G.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:G.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:G.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(X.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(X.BRACE_L,this.parseFieldDefinition,X.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(X.COLON);const o=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:G.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i})}parseArgumentDefs(){return this.optionalMany(X.PAREN_L,this.parseInputValueDef,X.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(X.COLON);const r=this.parseTypeReference();let o;this.expectOptionalToken(X.EQUALS)&&(o=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:G.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:o,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:G.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:G.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(X.EQUALS)?this.delimitedMany(X.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:G.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany(X.BRACE_L,this.parseEnumValueDefinition,X.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:G.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw z(this._lexer.source,this._lexer.token.start,`${Ne(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:G.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(X.BRACE_L,this.parseInputValueDef,X.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===X.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(X.BRACE_L,this.parseOperationTypeDefinition,X.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:G.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:G.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:G.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:G.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:G.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:G.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:G.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(X.AT);const n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:G.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i})}parseDirectiveLocations(){return this.delimitedMany(X.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(W,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new q(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw z(this._lexer.source,t.start,`Expected ${Ce(e)}, found ${Ne(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==X.NAME||t.value!==e)throw z(this._lexer.source,t.start,`Expected "${e}", found ${Ne(t)}.`);this._lexer.advance()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===X.NAME&&t.value===e&&(this._lexer.advance(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return z(this._lexer.source,t.start,`Unexpected ${Ne(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}function Ne(e){const t=e.value;return Ce(e.kind)+(null!=t?` "${t}"`:"")}function Ce(e){return function(e){return e===X.BANG||e===X.DOLLAR||e===X.AMP||e===X.PAREN_L||e===X.PAREN_R||e===X.SPREAD||e===X.COLON||e===X.EQUALS||e===X.AT||e===X.BRACKET_L||e===X.BRACKET_R||e===X.BRACE_L||e===X.PIPE||e===X.BRACE_R}(e)?`"${e}"`:e}const De=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function je(e){return Pe[e.charCodeAt(0)]}const Pe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Ie=Object.freeze({});function Te(e,t,n=Q){const r=new Map;for(const e of Object.values(G))r.set(e,Me(t,e));let o,i,a,s=Array.isArray(e),u=[e],c=-1,l=[],f=e;const d=[],h=[];do{c++;const e=c===u.length,g=e&&0!==l.length;if(e){if(i=0===h.length?void 0:d[d.length-1],f=a,a=h.pop(),g)if(s){f=f.slice();let e=0;for(const[t,n]of l){const r=t-e;null===n?(f.splice(r,1),e++):f[r]=n}}else{f=Object.defineProperties({},Object.getOwnPropertyDescriptors(f));for(const[e,t]of l)f[e]=t}c=o.index,u=o.keys,l=o.edits,s=o.inArray,o=o.prev}else if(a){if(i=s?c:u[c],f=a[i],null==f)continue;d.push(i)}let m;if(!Array.isArray(f)){var p,v;Y(f)||I(!1,`Invalid AST Node: ${Ee(f)}.`);const n=e?null===(p=r.get(f.kind))||void 0===p?void 0:p.leave:null===(v=r.get(f.kind))||void 0===v?void 0:v.enter;if(m=null==n?void 0:n.call(t,f,i,a,d,h),m===Ie)break;if(!1===m){if(!e){d.pop();continue}}else if(void 0!==m&&(l.push([i,m]),!e)){if(!Y(m)){d.pop();continue}f=m}}var y;if(void 0===m&&g&&l.push([i,f]),e)d.pop();else o={inArray:s,index:c,keys:u,edits:l,prev:o},s=Array.isArray(f),u=s?f:null!==(y=n[f.kind])&&void 0!==y?y:[],c=-1,l=[],a&&h.push(a),a=f}while(void 0!==o);return 0!==l.length?l[l.length-1][1]:e}function Me(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Ae(e){return Te(e,Re)}const Re={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Fe(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Ve("(",Fe(e.variableDefinitions,", "),")"),n=Fe([e.operation,Fe([e.name,t]),Fe(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Ve(" = ",n)+Ve(" ",Fe(r," "))},SelectionSet:{leave:({selections:e})=>Le(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:o}){const i=Ve("",e,": ")+t;let a=i+Ve("(",Fe(n,", "),")");return a.length>80&&(a=i+Ve("(\n",ze(Fe(n,"\n")),"\n)")),Fe([a,Fe(r," "),o]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Ve(" ",Fe(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Fe(["...",Ve("on ",e),Fe(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:o})=>`fragment ${e}${Ve("(",Fe(n,", "),")")} on ${t} ${Ve("",Fe(r," ")," ")}`+o},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),o=1===r.length,i=r.length>1&&r.slice(1).every((e=>0===e.length||K(e.charCodeAt(0)))),a=n.endsWith('\\"""'),s=e.endsWith('"')&&!a,u=e.endsWith("\\"),c=s||u,l=!(null!=t&&t.minimize)&&(!o||e.length>70||c||i||a);let f="";const d=o&&K(e.charCodeAt(0));return(l&&!d||i)&&(f+="\n"),f+=n,(l||c)&&(f+="\n"),'"""'+f+'"""'}(e):`"${e.replace(De,je)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Fe(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Fe(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Ve("(",Fe(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>Ve("",e,"\n")+Fe(["schema",Fe(t," "),Le(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>Ve("",e,"\n")+Fe(["scalar",t,Fe(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>Ve("",e,"\n")+Fe(["type",t,Ve("implements ",Fe(n," & ")),Fe(r," "),Le(o)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:o})=>Ve("",e,"\n")+t+(qe(n)?Ve("(\n",ze(Fe(n,"\n")),"\n)"):Ve("(",Fe(n,", "),")"))+": "+r+Ve(" ",Fe(o," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:o})=>Ve("",e,"\n")+Fe([t+": "+n,Ve("= ",r),Fe(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:o})=>Ve("",e,"\n")+Fe(["interface",t,Ve("implements ",Fe(n," & ")),Fe(r," "),Le(o)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>Ve("",e,"\n")+Fe(["union",t,Fe(n," "),Ve("= ",Fe(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>Ve("",e,"\n")+Fe(["enum",t,Fe(n," "),Le(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>Ve("",e,"\n")+Fe([t,Fe(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>Ve("",e,"\n")+Fe(["input",t,Fe(n," "),Le(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:o})=>Ve("",e,"\n")+"directive @"+t+(qe(n)?Ve("(\n",ze(Fe(n,"\n")),"\n)"):Ve("(",Fe(n,", "),")"))+(r?" repeatable":"")+" on "+Fe(o," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Fe(["extend schema",Fe(e," "),Le(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Fe(["extend scalar",e,Fe(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Fe(["extend type",e,Ve("implements ",Fe(t," & ")),Fe(n," "),Le(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Fe(["extend interface",e,Ve("implements ",Fe(t," & ")),Fe(n," "),Le(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Fe(["extend union",e,Fe(t," "),Ve("= ",Fe(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Fe(["extend enum",e,Fe(t," "),Le(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Fe(["extend input",e,Fe(t," "),Le(n)]," ")}};function Fe(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function Le(e){return Ve("{\n",ze(Fe(e,"\n")),"\n}")}function Ve(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function ze(e){return Ve("  ",e.replace(/\n/g,"\n  "))}function qe(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}function Be(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?b(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):b(n&&1===n.length,38);var o=n[0];__DEV__?b(o.name&&"if"===o.name.value,"Invalid argument for the @".concat(r," directive.")):b(o.name&&"if"===o.name.value,39);var i=o.value;__DEV__?b(i&&("Variable"===i.kind||"BooleanValue"===i.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):b(i&&("Variable"===i.kind||"BooleanValue"===i.kind),40),t.push({directive:e,ifArgument:o})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t&&t[r.value.name.value],__DEV__?b(void 0!==o,"Invalid variable referenced in @".concat(n.name.value," directive.")):b(void 0!==o,37)):o=r.value.value,"skip"===n.name.value?!o:o}))}function Qe(e,t){return function(e){var t=[];return Te(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function Ue(e){return e&&Qe(["client"],e)&&Qe(["export"],e)}function Ye(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new m("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new m(41);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(__DEV__?b(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):b(1===r.length,42),n=r[0].name.value),l(l({},e),{definitions:p([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function He(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function We(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?b(n,"No fragment named ".concat(e.name.value,".")):b(n,43),n;default:return null}}function Ge(e){return null!==e&&"object"==typeof e}function Xe(e){return{__ref:String(e)}}function Ke(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function $e(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return $e(o,e.name,e.value,r)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return $e(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new m('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new m(52);e[t.value]=null}}P(),__DEV__?b("boolean"==typeof N,N):b("boolean"==typeof N,36);var Ze=["connection","include","skip","client","rest","export"],Je=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(e){o[e]=t[e]})),"".concat(n.connection.key,"(").concat(et(o),")")}return n.connection.key}var i=e;if(t){var a=et(t);i+="(".concat(a,")")}return n&&Object.keys(n).forEach((function(e){-1===Ze.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?i+="@".concat(e,"(").concat(et(n[e]),")"):i+="@".concat(e))})),i}),{setStringify:function(e){var t=et;return et=e,t}}),et=function(e){return JSON.stringify(e,tt)};function tt(e,t){return Ge(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function nt(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return $e(n,r,o,t)})),n}return null}function rt(e){return e.alias?e.alias.value:e.name.value}function ot(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,o=t.selections;r<o.length;r++){var i=o[r];if(it(i)){if("__typename"===i.name.value)return e[rt(i)]}else{var a=ot(e,We(i,n).selectionSet,n);if("string"==typeof a)return a}}}function it(e){return"Field"===e.kind}function at(e){return"InlineFragment"===e.kind}function st(e){__DEV__?b(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):b(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new m('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new m(45);return e}));return __DEV__?b(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):b(t.length<=1,46),e}function ut(e){return st(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function ct(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function lt(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function ft(e){var t=ut(e);return __DEV__?b(t&&"query"===t.operation,"Must contain a query definition."):b(t&&"query"===t.operation,47),t}function dt(e){var t;st(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw __DEV__?new m("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new m(51)}function ht(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&$e(t,e.variable.name,e.defaultValue)})),t}function pt(e,t,n){var r=0;return e.forEach((function(n,o){t.call(this,n,o,e)&&(e[r++]=n)}),n),e.length=r,e}var vt={kind:"Field",name:{kind:"Name",value:"__typename"}};function yt(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&yt(t[e.name.value],t)}))}function gt(e){return yt(ut(e)||function(e){__DEV__?b("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):b("Document"===e.kind,48),__DEV__?b(e.definitions.length<=1,"Fragment must have exactly one definition."):b(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?b("FragmentDefinition"===t.kind,"Must be a fragment definition."):b("FragmentDefinition"===t.kind,50),t}(e),He(lt(e)))?null:e}function mt(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function bt(e,t){var n=Object.create(null),r=[],o=Object.create(null),i=[],a=gt(Te(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(mt(e))))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&Et(t.selectionSet).forEach((function(e){i.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){o[e.name.value]=!0}},Directive:{enter:function(t){if(mt(e)(t))return null}}}));return a&&pt(r,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return gt(Te(t,{OperationDefinition:{enter:function(t){return l(l({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&pt(i,(function(e){return!!e.name&&!o[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return gt(Te(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(i,a)),a}var wt=Object.assign((function(e){return Te(e,{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r){var o=r.some((function(e){return it(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}));if(!o){var i=n;if(!(it(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return l(l({},e),{selections:p(p([],r,!0),[vt],!1)})}}}}}})}),{added:function(e){return e===vt}}),_t={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&b.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function Et(e){var t=[];return e.selections.forEach((function(e){(it(e)||at(e))&&e.selectionSet?Et(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function Ot(e){return"query"===dt(e).operation?e:Te(e,{OperationDefinition:{enter:function(e){return l(l({},e),{operation:"query"})}}})}var St=Object.prototype.hasOwnProperty;function xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return kt(e)}function kt(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Ct,o=1;o<n;++o)t=r.merge(t,e[o]);return t}var Nt=function(e,t,n){return this.merge(e[n],t[n])},Ct=function(){function e(e){void 0===e&&(e=Nt),this.reconciler=e,this.isObject=Ge,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return Ge(t)&&Ge(e)?(Object.keys(t).forEach((function(o){if(St.call(e,o)){var i=e[o];if(t[o]!==i){var a=n.reconciler.apply(n,p([e,t,o],r,!1));a!==i&&((e=n.shallowCopyForMerge(e))[o]=a)}}else(e=n.shallowCopyForMerge(e))[o]=t[o]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Ge(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):l({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function Dt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t,n){return t&&Pt(e.prototype,t),n&&Pt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Tt=function(){return"function"==typeof Symbol},Mt=function(e){return Tt()&&Boolean(Symbol[e])},At=function(e){return Mt(e)?Symbol[e]:"@@"+e};Tt()&&!Mt("observable")&&(Symbol.observable=Symbol("observable"));var Rt=At("iterator"),Ft=At("observable"),Lt=At("species");function Vt(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function zt(e){var t=e.constructor;return void 0!==t&&null===(t=t[Lt])&&(t=void 0),void 0!==t?t:Kt}function qt(e){return e instanceof Kt}function Bt(e){Bt.log?Bt.log(e):setTimeout((function(){throw e}))}function Qt(e){Promise.resolve().then((function(){try{e()}catch(e){Bt(e)}}))}function Ut(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=Vt(t,"unsubscribe");n&&n.call(t)}}catch(e){Bt(e)}}function Yt(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Ht(e,t,n){e._state="running";var r=e._observer;try{var o=Vt(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(Yt(e),!o)throw n;o.call(r,n);break;case"complete":Yt(e),o&&o.call(r)}}catch(e){Bt(e)}"closed"===e._state?Ut(e):"running"===e._state&&(e._state="ready")}function Wt(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void Qt((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(Ht(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void Ht(e,t,n);e._queue.push({type:t,value:n})}}var Gt=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new Xt(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(Yt(this),Ut(this))},It(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Xt=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){Wt(this._subscription,"next",e)},t.error=function(e){Wt(this._subscription,"error",e)},t.complete=function(){Wt(this._subscription,"complete")},It(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),Kt=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Gt(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(zt(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(zt(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=zt(this),r=arguments.length>1,o=!1,i=arguments[1],a=i;return new n((function(n){return t.subscribe({next:function(t){var i=!o;if(o=!0,!i||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=zt(this);return new o((function(t){var r,i=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=zt(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),a()}});o.push(i)},error:function(e){r.error(e)},complete:function(){a()}});function a(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))},t[Ft]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=Vt(t,Ft);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return qt(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(Mt("iterator")&&(r=Vt(t,Rt)))return new n((function(e){Qt((function(){if(!e.closed){for(var n,o=Dt(r.call(t));!(n=o()).done;){var i=n.value;if(e.next(i),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){Qt((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o="function"==typeof this?this:e;return new o((function(e){Qt((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},It(e,null,[{key:Lt,get:function(){return this}}]),e}();Tt()&&Object.defineProperty(Kt,Symbol("extensions"),{value:{symbol:Ft,hostReportError:Bt},configurable:!0}),function(e){var t,n=e.Symbol;if("function"==typeof n)if(n.observable)t=n.observable;else{t="function"==typeof n.for?n.for("https://github.com/benlesh/symbol-observable"):n("https://github.com/benlesh/symbol-observable");try{n.observable=t}catch(e){}}else t="@@observable"}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());var $t=Kt.prototype,Zt="@@observable";$t[Zt]||($t[Zt]=function(){return this});var Jt=Object.prototype.toString;function en(e){return tn(e)}function tn(e,t){switch(Jt.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=tn(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=tn(e[n],t)})),r;default:return e}}function nn(e){var t=new Set([e]);return t.forEach((function(e){Ge(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){Ge(e[n])&&t.add(e[n])}))})),e}function rn(e){return __DEV__&&nn(e),e}function on(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function an(e,t,n){return new Kt((function(r){var o=r.next,i=r.error,a=r.complete,s=0,u=!1,c={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++s;var n=function(){return e(t)};c=c.then(n,n).then((function(e){--s,o&&o.call(r,e),u&&f.complete()}),(function(e){throw--s,e})).catch((function(e){i&&i.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var f={next:l(t,o),error:l(n,i),complete:function(){u=!0,s||a&&a.call(r)}},d=e.subscribe(f);return function(){return d.unsubscribe()}}))}var sn="function"==typeof WeakMap&&"ReactNative"!==O((function(){return navigator.product})),un="function"==typeof WeakSet,cn="function"==typeof Symbol&&"function"==typeof Symbol.for,ln="function"==typeof O((function(){return window.document.createElement})),fn=O((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,dn=ln&&!fn;function hn(e){function t(t){Object.defineProperty(e,t,{value:Kt})}return cn&&Symbol.species&&t(Symbol.species),t("@@species"),e}function pn(e){return e&&"function"==typeof e.then}var vn=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],on(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),on(n.observers,"error",e))},complete:function(){var e=n.sub;if(null!==e){var t=n.sources.shift();t?pn(t)?t.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=t.subscribe(n.handlers):(e&&setTimeout((function(){return e.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),on(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new Kt(t)]),pn(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return c(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.complete()},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(o),e())},o={next:r,error:r,complete:r},i=this.addCount;this.addObserver(o),this.addCount=i},t}(Kt);function yn(e){return Array.isArray(e)&&e.length>0}function gn(e){return e.errors&&e.errors.length>0||!1}function mn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}hn(vn);var bn=new Map;function wn(e){var t=bn.get(e)||1;return bn.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function _n(e,t){return mn(e,t,t.variables&&{variables:l(l({},e&&e.variables),t.variables)})}function En(e){return new Kt((function(t){t.error(e)}))}var On=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r};function Sn(e,t){return t?t(e):Kt.of()}function xn(e){return"function"==typeof e?new Cn(e):e}function kn(e){return e.request.length<=1}var Nn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return c(t,e),t}(Error),Cn=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Kt.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(xn).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var o=xn(n),i=xn(r||new e(Sn));return kn(o)&&kn(i)?new e((function(e){return t(e)?o.request(e)||Kt.of():i.request(e)||Kt.of()})):new e((function(e,n){return t(e)?o.request(e,n)||Kt.of():i.request(e,n)||Kt.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=l({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=l(l({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return l({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?ct(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw __DEV__?new m("illegal argument: ".concat(o)):new m(24)}return e}(t))))||Kt.of()},e.concat=function(t,n){var r=xn(t);if(kn(r))return __DEV__&&b.warn(new Nn("You are calling concat on a terminating link, which will have no effect",r)),r;var o=xn(n);return kn(o)?new e((function(e){return r.request(e,(function(e){return o.request(e)||Kt.of()}))||Kt.of()})):new e((function(e,t){return r.request(e,(function(e){return o.request(e,t)||Kt.of()}))||Kt.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(Sn)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new m("request is not implemented"):new m(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}();Cn.empty,Cn.from,Cn.split,Cn.concat;var Dn=Cn.execute,jn=Object.prototype.hasOwnProperty;var Pn=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=__DEV__?new m("Network request failed. ".concat(t," is not serializable: ").concat(e.message)):new m(21);throw r.parseError=e,r}return n},In={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Tn=function(e,t){return t(e)};function Mn(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={},i={};n.forEach((function(e){o=l(l(l({},o),e.options),{headers:l(l({},o.headers),An(e.headers))}),e.credentials&&(o.credentials=e.credentials),i=l(l({},i),e.http)}));var a=e.operationName,s=e.extensions,u=e.variables,c=e.query,f={operationName:a,variables:u};return i.includeExtensions&&(f.extensions=s),i.includeQuery&&(f.query=t(c,Ae)),{options:o,body:f}}function An(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}var Rn=O((function(){return fetch})),Fn=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.print,i=void 0===o?Tn:o,a=e.includeExtensions,s=e.useGETForQueries,u=e.includeUnusedVariables,c=void 0!==u&&u,d=f(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw __DEV__?new m("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new m(20)}(r||Rn);var h={http:{includeExtensions:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Cn((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),a={};if(o.clientAwareness){var u=o.clientAwareness,f=u.name,d=u.version;f&&(a["apollographql-client-name"]=f),d&&(a["apollographql-client-version"]=d)}var p,v=l(l({},a),o.headers),y={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:v},g=Mn(e,i,In,h,y),m=g.options,b=g.body;if(b.variables&&!c){var w=new Set(Object.keys(b.variables));Te(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&w.delete(e.name.value)}}),w.size&&(b.variables=l({},b.variables),w.forEach((function(e){delete b.variables[e]})))}if(!m.signal){var _=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),E=_.controller,S=_.signal;(p=E)&&(m.signal=S)}if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),"GET"===m.method){var x=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var o=void 0;try{o=Pn(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",o)}if(t.extensions){var i=void 0;try{i=Pn(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",i)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+n.join("&")+a}}(t,b),k=x.newURI,N=x.parseError;if(N)return En(N);t=k}else try{m.body=Pn(b,"Payload")}catch(N){return En(N)}return new Kt((function(n){var o;return(r||O((function(){return fetch}))||Rn)(t,m).then((function(t){return e.setContext({response:t}),t})).then((o=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&On(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||jn.call(t,"data")||jn.call(t,"errors")||On(e,t,"Server response was missing for query '".concat(Array.isArray(o)?o.map((function(e){return e.operationName})):o.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){p&&p.abort()}}))}))},Ln=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Fn(t).request)||this;return n.options=t,n}return c(t,e),t}(Cn),Vn=Object.prototype,zn=Vn.toString,qn=Vn.hasOwnProperty,Bn=Function.prototype.toString,Qn=new Map;function Un(e,t){try{return Yn(e,t)}finally{Qn.clear()}}function Yn(e,t){if(e===t)return!0;var n,r,o,i=zn.call(e);if(i!==zn.call(t))return!1;switch(i){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(Xn(e,t))return!0;var a=Hn(e),s=Hn(t),u=a.length;if(u!==s.length)return!1;for(var c=0;c<u;++c)if(!qn.call(t,a[c]))return!1;for(c=0;c<u;++c){var l=a[c];if(!Yn(e[l],t[l]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(Xn(e,t))return!0;for(var f=e.entries(),d="[object Map]"===i;;){var h=f.next();if(h.done)break;var p=h.value,v=p[0],y=p[1];if(!t.has(v))return!1;if(d&&!Yn(y,t.get(v)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var g=e.byteLength;if(g===t.byteLength)for(;g--&&e[g]===t[g];);return-1===g;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var m=Bn.call(e);return m===Bn.call(t)&&(r=Gn,!((o=(n=m).length-r.length)>=0&&n.indexOf(r,o)===o))}return!1}function Hn(e){return Object.keys(e).filter(Wn,e)}function Wn(e){return void 0!==this[e]}var Gn="{ [native code] }";function Xn(e,t){var n=Qn.get(e);if(n){if(n.has(t))return!0}else Qn.set(e,n=new Set);return n.add(t),!1}var Kn=function(){return Object.create(null)},$n=Array.prototype,Zn=$n.forEach,Jn=$n.slice,er=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=Kn),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return Zn.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(Jn.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}();var tr=null,nr={},rr=1,or="@wry/context:Slot",ir=Array,ar=ir[or]||function(){var e=function(){function e(){this.id=["slot",rr++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=tr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===nr)break;return e!==tr&&(tr.slots[this.id]=t),!0}return tr&&(tr.slots[this.id]=nr),!1},e.prototype.getValue=function(){if(this.hasValue())return tr.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var o,i=((o={__proto__:null})[this.id]=e,o),a=tr;tr={parent:a,slots:i};try{return t.apply(r,n)}finally{tr=a}},e.bind=function(e){var t=tr;return function(){var n=tr;try{return tr=t,e.apply(this,arguments)}finally{tr=n}}},e.noContext=function(e,t,n){if(!tr)return e.apply(n,t);var r=tr;try{return tr=null,e.apply(n,t)}finally{tr=r}},e}();try{Object.defineProperty(ir,or,{value:ir[or]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function sr(){}ar.bind,ar.noContext;var ur,cr=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=sr),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),lr=new ar,fr=Object.prototype.hasOwnProperty,dr=void 0===(ur=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:ur;function hr(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var pr=[];function vr(e,t){if(!e)throw new Error(t||"assertion failure")}function yr(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var gr=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!wr(this))return mr(this),this.value[0]},e.prototype.recompute=function(e){return vr(!this.recomputing,"already recomputing"),mr(this),wr(this)?function(e,t){Nr(e),lr.withValue(e,br,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{hr(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,wr(e))return;Er(e)}(e);return yr(e.value)}(this,e):yr(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,_r(this),hr(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),Nr(this),Or(this,(function(t,n){t.setDirty(),Cr(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=pr.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(dr(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),pr.push(this.deps),this.deps=null)},e.count=0,e}();function mr(e){var t=lr.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),wr(e)?Sr(t,e):xr(t,e),t}function br(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function wr(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function _r(e){Or(e,Sr)}function Er(e){Or(e,xr)}function Or(e,t){var n=e.parents.size;if(n)for(var r=dr(e.parents),o=0;o<n;++o)t(r[o],e)}function Sr(e,t){vr(e.childValues.has(t)),vr(wr(t));var n=!wr(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=pr.pop()||new Set;e.dirtyChildren.add(t),n&&_r(e)}function xr(e,t){vr(e.childValues.has(t)),vr(!wr(t));var n,r,o,i=e.childValues.get(t);0===i.length?e.childValues.set(t,t.value.slice(0)):(n=i,r=t.value,(o=n.length)>0&&o===r.length&&n[o-1]===r[o-1]||e.setDirty()),kr(e,t),wr(e)||Er(e)}function kr(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(pr.length<100&&pr.push(n),e.dirtyChildren=null))}function Nr(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){Cr(e,n)})),e.forgetDeps(),vr(null===e.dirtyChildren)}function Cr(e,t){t.parents.delete(e),e.childValues.delete(t),kr(e,t)}var Dr={setDirty:!0,dispose:!0,forget:!0};function jr(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=lr.getValue();if(r){var o=t.get(e);o||t.set(e,o=new Set),r.dependOn(o),"function"==typeof n&&(hr(o),o.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var o=n&&fr.call(Dr,n)?n:"setDirty";dr(r).forEach((function(e){return e[o]()})),t.delete(e),hr(r)}},r}function Pr(){var e=new er("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}Pr();var Ir=new Set;function Tr(e,t){void 0===t&&(t=Object.create(null));var n=new cr(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,o=t.makeCacheKey||Pr(),i=function(){var i=o.apply(null,r?r.apply(null,arguments):arguments);if(void 0===i)return e.apply(null,arguments);var a=n.get(i);a||(n.set(i,a=new gr(e)),a.subscribe=t.subscribe,a.forget=function(){return n.delete(i)});var s=a.recompute(Array.prototype.slice.call(arguments));return n.set(i,a),Ir.add(n),lr.hasValue()||(Ir.forEach((function(e){return e.clean()})),Ir.clear()),s};function a(e){var t=n.get(e);t&&t.setDirty()}function s(e){var t=n.get(e);if(t)return t.peek()}function u(e){return n.delete(e)}return Object.defineProperty(i,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),i.dirtyKey=a,i.dirty=function(){a(o.apply(null,arguments))},i.peekKey=s,i.peek=function(){return s(o.apply(null,arguments))},i.forgetKey=u,i.forget=function(){return u(o.apply(null,arguments))},i.makeCacheKey=o,i.getKey=r?function(){return o.apply(null,r.apply(null,arguments))}:o,Object.freeze(i)}var Mr=function(){function e(){this.getFragmentDoc=Tr(Ye)}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(l(l({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(l(l({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=f(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,o=e.fragmentName,i=f(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(i,{query:this.getFragmentDoc(r,o),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),o=t(r);return null==o?r:(n.writeQuery(l(l({},e),{data:o})),o)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),o=t(r);return null==o?r:(n.writeFragment(l(l({},e),{data:o})),o)}})},e}(),Ar=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r},Rr=Object.prototype.hasOwnProperty;function Fr(e,t){var n=e.__typename,r=e.id,o=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==o?{_id:o}:void 0),void 0===r&&(r=o),void 0!==r))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var Lr={dataIdFromObject:Fr,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Vr(e){var t=e.canonizeResults;return void 0===t?Lr.canonizeResults:t}var zr=/^[_a-z][_0-9a-z]*/i;function qr(e){var t=e.match(zr);return t?t[0]:e}function Br(e,t,n){return!!Ge(t)&&(Ur(t)?t.every((function(t){return Br(e,t,n)})):e.selections.every((function(e){if(it(e)&&Be(e,n)){var r=rt(e);return Rr.call(t,r)&&(!e.selectionSet||Br(e.selectionSet,t[r],n))}return!0})))}function Qr(e){return Ge(e)&&!Ke(e)&&!Ur(e)}var Ur=function(e){return Array.isArray(e)},Yr=Object.create(null),Hr=function(){return Yr},Wr=Object.create(null),Gr=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return rn(Ke(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Ke(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Xe(e);if(Ke(e))return e;var r=n.policies.identify(e)[0];if(r){var o=Xe(r);return t&&n.merge(r,e),o}}}return e.prototype.toObject=function(){return l({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Rr.call(this.data,e)){var n=this.data[e];if(n&&Rr.call(n,t))return n[t]}return"__typename"===t&&Rr.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof Zr?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Rr.call(this.data,e)?this.data[e]:this instanceof Zr?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;Ke(e)&&(e=e.__ref),Ke(t)&&(t=t.__ref);var o="string"==typeof e?this.lookup(n=e):e,i="string"==typeof t?this.lookup(n=t):t;if(i){__DEV__?b("string"==typeof n,"store.merge expects a string ID"):b("string"==typeof n,1);var a=new Ct(eo).merge(o,i);if(this.data[n]=a,a!==o&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);o||(s.__exists=1),Object.keys(i).forEach((function(e){if(!o||o[e]!==a[e]){s[e]=1;var t=qr(e);t===e||r.policies.hasKeyArgs(a.__typename,t)||(s[t]=1),void 0!==a[e]||r instanceof Zr||delete a[e]}})),!s.__typename||o&&o.__typename||this.policies.rootTypenamesById[n]!==a.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var o=Object.create(null),i=!1,a=!0,s={DELETE:Yr,INVALIDATE:Wr,isReference:Ke,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||Xe(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var c=qr(u),f=r[u];if(void 0!==f){var d="function"==typeof t?t:t[u]||t[c];if(d){var h=d===Hr?Yr:d(rn(f),l(l({},s),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));h===Wr?n.group.dirty(e,u):(h===Yr&&(h=void 0),h!==f&&(o[u]=h,i=!0,f=h))}void 0!==f&&(a=!1)}})),i)return this.merge(e,o),a&&(this instanceof Zr?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,o=this.lookup(e);if(o){var i=this.getFieldValue(o,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:i,fieldName:t,args:n}):t;return this.modify(e,a?((r={})[a]=Hr,r):Hr)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(Rr.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof Zr&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){Rr.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&Rr.call(e,n)||t.delete(n)})),e){var n=e.__META,r=f(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Zr?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){Rr.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var o=this;o instanceof Zr;)o=o.parent;r.forEach((function(e){return o.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!Rr.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){Ke(e)&&(t[e.__ref]=!0),Ge(e)&&Object.keys(e).forEach((function(t){var n=e[t];Ge(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),Xr=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?jr():null,this.keyMaker=new er(sn)},e.prototype.depend=function(e,t){if(this.d){this.d(Kr(e,t));var n=qr(t);n!==t&&this.d(Kr(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(Kr(e,t),"__exists"===t?"forget":"setDirty")},e}();function Kr(e,t){return t+"#"+e}function $r(e,t){to(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,o=void 0===r||r,i=t.seed,a=e.call(this,n,new Xr(o))||this;return a.stump=new Jr(a),a.storageTrie=new er(sn),i&&a.replace(i),a}return c(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(Gr||(Gr={}));var Zr=function(e){function t(t,n,r,o){var i=e.call(this,n.policies,o)||this;return i.id=t,i.parent=n,i.replay=r,i.group=o,r(i),i}return c(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],o=n.lookup(e);o?r?r!==o&&Object.keys(r).forEach((function(n){Un(r[n],o[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(o).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return l(l({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Rr.call(this.data,t)?l(l({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(Gr),Jr=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new Xr(t.group.caching,t.group))||this}return c(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(Zr);function eo(e,t,n){var r=e[n],o=t[n];return Un(r,o)?r:o}function to(e){return!!(e instanceof Gr&&e.group.caching)}var no,ro,oo=function(){function e(){this.known=new(un?WeakSet:Set),this.pool=new er(sn),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Ge(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Ge(e)){var t=function(e){return Ge(e)?Ur(e)?e.slice(0):l({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Ge(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var o=Object.getPrototypeOf(e),i=[o],a=this.sortedKeys(e);i.push(a.json);var s,u=i.length;if(a.sorted.forEach((function(n){i.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(i)).object){var c=s.object=Object.create(o);this.known.add(c),a.sorted.forEach((function(e,t){c[e]=i[u+t]})),__DEV__&&Object.freeze(c)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),io=Object.assign((function(e){if(Ge(e)){void 0===no&&ao();var t=no.admit(e),n=ro.get(t);return void 0===n&&ro.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:ao});function ao(){no=new oo,ro=new(sn?WeakMap:Map)}function so(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var uo=function(){function e(e){var t=this;this.knownResults=new(sn?WeakMap:Map),this.config=mn(e,{addTypename:!1!==e.addTypename,canonizeResults:Vr(e)}),this.canon=e.canon||new oo,this.executeSelectionSet=Tr((function(e){var n,r=e.context.canonizeResults,o=so(e);o[3]=!r;var i=(n=t.executeSelectionSet).peek.apply(n,o);return i?r?l(l({},i),{result:t.canon.admit(i.result)}):i:($r(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:so,makeCacheKey:function(e,t,n,r){if(to(n.store))return n.store.makeCacheKey(e,Ke(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=Tr((function(e){return $r(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(to(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new oo},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,o=void 0===r?"ROOT_QUERY":r,i=e.variables,a=e.returnPartialData,s=void 0===a||a,u=e.canonizeResults,c=void 0===u?this.config.canonizeResults:u,f=this.config.cache.policies;i=l(l({},ht(ft(n))),i);var d,h=Xe(o),p=this.executeSelectionSet({selectionSet:dt(n).selectionSet,objectOrReference:h,enclosingRef:h,context:{store:t,query:n,policies:f,variables:i,varString:io(i),canonizeResults:c,fragmentMap:He(lt(n))}});if(p.missing&&(d=[new Ar(co(p.missing),p.missing,n,i)],!s))throw d[0];return{result:p.result,complete:!d,missing:d}},e.prototype.isFresh=function(e,t,n,r){if(to(r.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,o=e.enclosingRef,i=e.context;if(Ke(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var a,s=i.variables,u=i.policies,c=i.store.getFieldValue(r,"__typename"),l=[],f=new Ct;function d(e,t){var n;return e.missing&&(a=f.merge(a,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof c&&!u.rootIdsByTypename[c]&&l.push({__typename:c});var h=new Set(n.selections);h.forEach((function(e){var n,p;if(Be(e,s))if(it(e)){var v=u.readField({fieldName:e.name.value,field:e,variables:i.variables,from:r},i),y=rt(e);void 0===v?wt.added(e)||(a=f.merge(a,((n={})[y]="Can't find field '".concat(e.name.value,"' on ").concat(Ke(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Ur(v)?v=d(t.executeSubSelectedArray({field:e,array:v,enclosingRef:o,context:i}),y):e.selectionSet?null!=v&&(v=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:v,enclosingRef:Ke(v)?v:o,context:i}),y)):i.canonizeResults&&(v=t.canon.pass(v)),void 0!==v&&l.push(((p={})[y]=v,p))}else{var g=We(e,i.fragmentMap);g&&u.fragmentMatches(g,c)&&g.selectionSet.selections.forEach(h.add,h)}}));var p={result:kt(l),missing:a},v=i.canonizeResults?this.canon.admit(p):rn(p);return v.result&&this.knownResults.set(v.result,n),v},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,o=e.array,i=e.enclosingRef,a=e.context,s=new Ct;function u(e,n){var r;return e.missing&&(t=s.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(o=o.filter(a.store.canRead)),o=o.map((function(e,t){return null===e?null:Ur(e)?u(n.executeSubSelectedArray({field:r,array:e,enclosingRef:i,context:a}),t):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:Ke(e)?e:i,context:a}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){Ge(n)&&(__DEV__?b(!Ke(n),"Missing selection set for object of type ".concat(function(e,t){return Ke(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):b(!Ke(n),5),Object.values(n).forEach(r.add,r))}))}}(a.store,r,e),e)})),{result:a.canonizeResults?this.canon.admit(o):o,missing:t}},e}();function co(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var lo=new ar,fo=new WeakMap;function ho(e){var t=fo.get(e);return t||fo.set(e,t={vars:new Set,dep:jr()}),t}function po(e){ho(e).vars.forEach((function(t){return t.forgetCache(e)}))}function vo(e){var t=new Set,n=new Set,r=function(i){if(arguments.length>0){if(e!==i){e=i,t.forEach((function(e){ho(e).dep.dirty(r),yo(e)}));var a=Array.from(n);n.clear(),a.forEach((function(t){return t(e)}))}}else{var s=lo.getValue();s&&(o(s),ho(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var o=r.attachCache=function(e){return t.add(e),ho(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function yo(e){e.broadcastWatches&&e.broadcastWatches()}var go=Object.create(null);function mo(e){var t=JSON.stringify(e);return go[t]||(go[t]=Object.create(null))}function bo(e){var t=mo(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},o=n.keyObject=_o(e,(function(e){var o=So(n.storeObject,e,r);return void 0===o&&t!==n.storeObject&&Rr.call(t,e[0])&&(o=So(t,e,Oo)),__DEV__?b(void 0!==o,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):b(void 0!==o,2),o}));return"".concat(n.typename,":").concat(JSON.stringify(o))})}function wo(e){var t=mo(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,o=n.variables,i=n.fieldName,a=_o(e,(function(e){var n=e[0],i=n.charAt(0);if("@"!==i)if("$"!==i){if(t)return So(t,e)}else{var a=n.slice(1);if(o&&Rr.call(o,a)){var s=e.slice(0);return s[0]=a,So(o,s)}}else if(r&&yn(r.directives)){var u=n.slice(1),c=r.directives.find((function(e){return e.name.value===u})),l=c&&nt(c,o);return l&&So(l,e.slice(1))}})),s=JSON.stringify(a);return(t||"{}"!==s)&&(i+=":"+s),i})}function _o(e,t){var n=new Ct;return Eo(e).reduce((function(e,r){var o,i=t(r);if(void 0!==i){for(var a=r.length-1;a>=0;--a)(o={})[r[a]]=i,i=o;e=n.merge(e,i)}return e}),Object.create(null))}function Eo(e){var t=mo(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,o){Ur(t)?(Eo(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Ur(e[o+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function Oo(e,t){return e[t]}function So(e,t,n){return n=n||Oo,xo(t.reduce((function e(t,r){return Ur(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function xo(e){return Ge(e)?Ur(e)?e.map(xo):_o(Object.keys(e).sort(),(function(t){return So(e,t)})):e}function ko(e){return void 0!==e.args?e.args:e.field?nt(e.field,e.variables):null}Je.setStringify(io);var No=function(){},Co=function(e,t){return t.fieldName},Do=function(e,t,n){return(0,n.mergeObjects)(e,t)},jo=function(e,t){return t},Po=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=l({dataIdFromObject:Fr},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,o=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var i,a=t&&t.storeObject||e,s=l(l({},t),{typename:o,storeObject:a,readField:t&&t.readField||function(){var e=To(arguments,a);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),u=o&&this.getTypePolicy(o),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(e,s);if(!Ur(f)){i=f;break}c=bo(f)}return i=i?String(i):void 0,s.keyObject?[i,s.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],o=r.queryType,i=r.mutationType,a=r.subscriptionType,s=f(r,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",n),i&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),Rr.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),o=t.keyFields,i=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?Do:!1===t?jo:e.merge}a(r,t.merge),r.keyFn=!1===o?No:Ur(o)?bo(o):"function"==typeof o?o:r.keyFn,i&&Object.keys(i).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),o=i[t];if("function"==typeof o)r.read=o;else{var s=o.keyArgs,u=o.read,c=o.merge;r.keyFn=!1===s?Co:Ur(s)?wo(s):"function"==typeof s?s:r.keyFn,"function"==typeof u&&(r.read=u),a(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||Co)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?b(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):b(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(zr);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!Rr.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),o=r.fields,i=f(r,["fields"]);Object.assign(n,i),Object.assign(n.fields,o)}))}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var i=e.typeCondition.name.value;if(t===i)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(i))for(var a=this.getSupertypeSet(t,!0),s=[a],u=function(e){var t=o.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},c=!(!n||!this.fuzzySubtypes.size),l=!1,f=0;f<s.length;++f){var d=s[f];if(d.has(i))return a.has(i)||(l&&__DEV__&&b.warn("Inferring subtype ".concat(t," of supertype ").concat(i)),a.add(i)),!0;d.forEach(u),c&&f===s.length-1&&Br(e.selectionSet,n,r)&&(c=!1,l=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,o=this.getFieldPolicy(n,r,!1),i=o&&o.keyFn;if(i&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=ko(e);i;){var u=i(s,a);if(!Ur(u)){t=u||r;break}i=wo(u)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var o=r.name,i=r.value;return $e(n[e.name.value],o,i,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,o=e.value;return $e(r,n,o,t)}))),Je(e.name.value,r,n)}(e.field,e.variables):Je(r,ko(e))),!1===t?r:r===qr(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var o=this.getStoreFieldName(e),i=qr(o),a=t.store.getFieldValue(n,o),s=this.getFieldPolicy(e.typename,i,!1),u=s&&s.read;if(u){var c=Io(this,n,e,t,t.store.getStorage(Ke(n)?n.__ref:n,o));return lo.withValue(this.cache,u,[a,c])}return a}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),o=r&&r.merge;return!o&&n&&(o=(r=this.getTypePolicy(n))&&r.merge),o},e.prototype.runMergeFunction=function(e,t,n,r,o){var i=n.field,a=n.typename,s=n.merge;return s===Do?Mo(r.store)(e,t):s===jo?t:(r.overwrite&&(e=void 0),s(e,t,Io(this,void 0,{typename:a,fieldName:i.name.value,field:i,variables:r.variables},r,o||Object.create(null))))},e}();function Io(e,t,n,r,o){var i=e.getStoreFieldName(n),a=qr(i),s=n.variables||r.variables,u=r.store,c=u.toReference,l=u.canRead;return{args:ko(n),field:n.field||null,fieldName:a,storeFieldName:i,variables:s,isReference:Ke,toReference:c,storage:o,cache:e.cache,canRead:l,readField:function(){return e.readField(To(arguments,t,s),r)},mergeObjects:Mo(r.store)}}function To(e,t,n){var r,o,i,a=e[0],s=e[1],u=e.length;return"string"==typeof a?r={fieldName:a,from:u>1?s:t}:(r=l({},a),Rr.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&b.warn("Undefined 'from' passed to readField with arguments ".concat((o=Array.from(e),i=wn("stringifyForDisplay"),JSON.stringify(o,(function(e,t){return void 0===t?i:t})).split(JSON.stringify(i)).join("<undefined>")))),void 0===r.variables&&(r.variables=n),r}function Mo(e){return function(t,n){if(Ur(t)||Ur(n))throw __DEV__?new m("Cannot automatically merge arrays"):new m(4);if(Ge(t)&&Ge(n)){var r=e.getFieldValue(t,"__typename"),o=e.getFieldValue(n,"__typename");if(r&&o&&r!==o)return n;if(Ke(t)&&Qr(n))return e.merge(t.__ref,n),t;if(Qr(t)&&Ke(n))return e.merge(t,n.__ref),n;if(Qr(t)&&Qr(n))return l(l({},t),n)}return n}}function Ao(e,t,n){var r="".concat(t).concat(n),o=e.flavors.get(r);return o||e.flavors.set(r,o=e.clientOnly===t&&e.deferred===n?e:l(l({},e),{clientOnly:t,deferred:n})),o}var Ro=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,o=t.result,i=t.dataId,a=t.variables,s=t.overwrite,u=ut(r),c=new Ct;a=l(l({},ht(u)),a);var f={store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:a,varString:io(a),fragmentMap:He(lt(r)),overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:o||Object.create(null),dataId:i,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!Ke(d))throw __DEV__?new m("Could not identify object ".concat(JSON.stringify(o))):new m(6);return f.incomingById.forEach((function(t,r){var o=t.storeObject,i=t.mergeTree,a=t.fieldNodeSet,s=Xe(r);if(i&&i.map.size){var u=n.applyMerges(i,s,o,f);if(Ke(u))return;o=u}if(__DEV__&&!f.overwrite){var c=Object.create(null);a.forEach((function(e){e.selectionSet&&(c[e.name.value]=!0)}));Object.keys(o).forEach((function(e){(function(e){return!0===c[qr(e)]})(e)&&!function(e){var t=i&&i.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var o=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},i=o(e);if(!i)return;var a=o(t);if(!a)return;if(Ke(i))return;if(Un(i,a))return;if(Object.keys(i).every((function(e){return void 0!==r.getFieldValue(a,e)})))return;var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=qr(n),c="".concat(s,".").concat(u);if(Bo.has(c))return;Bo.add(c);var l=[];Ur(i)||Ur(a)||[i,a].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||l.includes(t)||l.push(t)}));__DEV__&&b.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(s," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(i).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(a).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}(s,o,e,f.store)}))}e.merge(r,o)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,o=e.selectionSet,i=e.context,a=e.mergeTree,s=this.cache.policies,u=Object.create(null),c=n&&s.rootTypenamesById[n]||ot(r,o,i.fragmentMap)||n&&i.store.get(n,"__typename");"string"==typeof c&&(u.__typename=c);var f=function(){var e=To(arguments,u,i.variables);if(Ke(e.from)){var t=i.incomingById.get(e.from.__ref);if(t){var n=s.readField(l(l({},e),{from:t.storeObject}),i);if(void 0!==n)return n}}return s.readField(e,i)},d=new Set;this.flattenFields(o,r,i,c).forEach((function(e,n){var o,i=rt(n),l=r[i];if(d.add(n),void 0!==l){var h=s.getStoreFieldName({typename:c,fieldName:n.name.value,field:n,variables:e.variables}),p=Lo(a,h),v=t.processFieldValue(l,n,n.selectionSet?Ao(e,!1,!1):e,p),y=void 0;n.selectionSet&&(Ke(v)||Qr(v))&&(y=f("__typename",v));var g=s.getMergeFunction(c,n.name.value,y);g?p.info={field:n,typename:c,merge:g}:qo(a,h),u=e.merge(u,((o={})[h]=v,o))}else!__DEV__||e.clientOnly||e.deferred||wt.added(n)||s.getReadFunction(c,n.name.value)||__DEV__&&b.error("Missing field '".concat(rt(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var h=s.identify(r,{typename:c,selectionSet:o,fragmentMap:i.fragmentMap,storeObject:u,readField:f}),p=h[0],v=h[1];n=n||p,v&&(u=i.merge(u,v))}catch(e){if(!n)throw e}if("string"==typeof n){var y=Xe(n),g=i.written[n]||(i.written[n]=[]);if(g.indexOf(o)>=0)return y;if(g.push(o),this.reader&&this.reader.isFresh(r,y,o,i))return y;var m=i.incomingById.get(n);return m?(m.storeObject=i.merge(m.storeObject,u),m.mergeTree=Vo(m.mergeTree,a),d.forEach((function(e){return m.fieldNodeSet.add(e)}))):i.incomingById.set(n,{storeObject:u,mergeTree:zo(a)?void 0:a,fieldNodeSet:d}),y}return u},e.prototype.processFieldValue=function(e,t,n,r){var o=this;return t.selectionSet&&null!==e?Ur(e)?e.map((function(e,i){var a=o.processFieldValue(e,t,n,Lo(r,i));return qo(r,i),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?en(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=ot(t,e,n.fragmentMap));var o=new Map,i=this.cache.policies,a=new er(!1);return function e(s,u){var c=a.lookup(s,u.clientOnly,u.deferred);c.visited||(c.visited=!0,s.selections.forEach((function(a){if(Be(a,n.variables)){var s=u.clientOnly,c=u.deferred;if(s&&c||!yn(a.directives)||a.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var r=nt(e,n.variables);r&&!1===r.if||(c=!0)}})),it(a)){var l=o.get(a);l&&(s=s&&l.clientOnly,c=c&&l.deferred),o.set(a,Ao(n,s,c))}else{var f=We(a,n.fragmentMap);f&&i.fragmentMatches(f,r,t,n.variables)&&e(f.selectionSet,Ao(n,s,c))}}})))}(e,n),o},e.prototype.applyMerges=function(e,t,n,r,o){var i,a=this;if(e.map.size&&!Ke(n)){var s,u=Ur(n)||!Ke(t)&&!Qr(t)?void 0:t,c=n;u&&!o&&(o=[Ke(u)?u.__ref:u]);var f=function(e,t){return Ur(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=f(u,t),i=f(c,t);if(void 0!==i){o&&o.push(t);var l=a.applyMerges(e,n,i,r,o);l!==i&&(s=s||new Map).set(t,l),o&&b(o.pop()===t)}})),s&&(n=Ur(c)?c.slice(0):l({},c),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,o&&(i=r.store).getStorage.apply(i,o)):n},e}(),Fo=[];function Lo(e,t){var n=e.map;return n.has(t)||n.set(t,Fo.pop()||{map:new Map}),n.get(t)}function Vo(e,t){if(e===t||!t||zo(t))return e;if(!e||zo(e))return t;var n=e.info&&t.info?l(l({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,o={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var i=new Set(t.map.keys());e.map.forEach((function(e,n){o.map.set(n,Vo(e,t.map.get(n))),i.delete(n)})),i.forEach((function(n){o.map.set(n,Vo(t.map.get(n),e.map.get(n)))}))}return o}function zo(e){return!e||!(e.info||e.map.size)}function qo(e,t){var n=e.map,r=n.get(t);r&&zo(r)&&(Fo.push(r),n.delete(t))}var Bo=new Set;var Qo=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=vo,n.txCount=0,n.config=function(e){return mn(Lr,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Po({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return c(t,e),t.prototype.init=function(){var e=this.data=new Gr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new Ro(this,this.storeReader=new uo({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Vr(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=Tr((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(to(n)){var r=e.optimistic,o=e.rootId,i=e.variables;return n.makeCacheKey(e.query,e.callback,io({optimistic:r,rootId:o,variables:i}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(l(l({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof Ar)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(Rr.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(l(l({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||function(e){ho(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&po(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){io.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(Ke(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){__DEV__&&b.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(Rr.call(e,"id"))return!1;e=l(l({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),io.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),po(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,o=e.optimistic,i=void 0===o||o,a=e.removeOptimistic,s=e.onWatchUpdated,u=function(e){var o=n,i=o.data,a=o.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=i,n.optimisticData=a}},c=new Set;return s&&!this.txCount&&this.broadcastWatches(l(l({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"==typeof i?this.optimisticData=this.optimisticData.addLayer(i,u):!1===i?u(this.data):u(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&c.size?(this.broadcastWatches(l(l({},e),{onWatchUpdated:function(e,t){var n=s.call(this,e,t);return!1!==n&&c.delete(e),n}})),c.size&&c.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=wt(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&Un(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(Mr);var Uo,Yo=function(e){function t(n){var r,o,i=n.graphQLErrors,a=n.clientErrors,s=n.networkError,u=n.errorMessage,c=n.extraInfo,l=e.call(this,u)||this;return l.graphQLErrors=i||[],l.clientErrors=a||[],l.networkError=s||null,l.message=u||(o="",(yn((r=l).graphQLErrors)||yn(r.clientErrors))&&(r.graphQLErrors||[]).concat(r.clientErrors||[]).forEach((function(e){var t=e?e.message:"Error message not found.";o+="".concat(t,"\n")})),r.networkError&&(o+="".concat(r.networkError.message,"\n")),o=o.replace(/\n$/,"")),l.extraInfo=c,l.__proto__=t.prototype,l}return c(t,e),t}(Error);function Ho(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Uo||(Uo={}));var Wo=Object.assign,Go=Object.hasOwnProperty,Xo=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,o=t.options,i=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=$o)}catch(e){}var n=!i.observers.size;i.observers.add(e);var r=i.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&i.reobserve().catch((function(){})),function(){i.observers.delete(e)&&!i.observers.size&&i.tearDownQuery()}}))||this;i.observers=new Set,i.subscriptions=new Set,i.queryInfo=r,i.queryManager=n,i.isTornDown=!1;var a=n.defaultOptions.watchQuery,s=(void 0===a?{}:a).fetchPolicy,u=void 0===s?"cache-first":s,c=o.fetchPolicy,f=void 0===c?u:c,d=o.initialFetchPolicy,h=void 0===d?"standby"===f?u:f:d;i.options=l(l({},o),{initialFetchPolicy:h,fetchPolicy:f}),i.queryId=r.queryId||n.generateQueryId();var p=ut(i.query);return i.queryName=p&&p.name&&p.name.value,i}return c(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Uo.ready,r=l(l({},t),{loading:Ho(n),networkStatus:n}),o=this.options.fetchPolicy,i=void 0===o?"cache-first":o;if("network-only"===i||"no-cache"===i||"standby"===i||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),Un(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,!a.complete||r.networkStatus!==Uo.loading||"cache-first"!==i&&"cache-only"!==i||(r.networkStatus=Uo.ready,r.loading=!1)):r.partial=!0,!__DEV__||a.complete||this.options.partialRefetch||r.loading||r.data||r.error||Zo(a.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!Un(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Un(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&Go.call(e,"variables")){var o=ft(this.query),i=o.variableDefinitions;i&&i.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&b.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=o.name)||void 0===t?void 0:t.value)||JSON.stringify(o),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!Un(this.options.variables,e)&&(n.variables=this.options.variables=l(l({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Uo.refetch)},t.prototype.fetchMore=function(e){var t=this,n=l(l({},e.query?e:l(l(l(l({},this.options),{query:this.query}),e),{variables:l(l({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId(),o=this.queryInfo,i=o.networkStatus;o.networkStatus=Uo.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var a=new Set;return this.queryManager.fetchQuery(r,n,Uo.fetchMore).then((function(s){return t.queryManager.removeQuery(r),o.networkStatus===Uo.fetchMore&&(o.networkStatus=i),t.queryManager.cache.batch({update:function(r){var o=e.updateQuery;o?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return o(e,{fetchMoreResult:s.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:s.data})},onWatchUpdated:function(e){a.add(e.query)}}),s})).finally((function(){a.has(t.query)||Ko(t)}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var o=t.variables;return r(e,{subscriptionData:n,variables:o})}))},error:function(t){e.onError?e.onError(t):__DEV__&&b.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return Un(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},Uo.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,o=t.initialFetchPolicy,i=void 0===o?r:o;"standby"===r||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:i}):t.fetchPolicy="variables-changed"===e?i:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?b(n,"Attempted to start a polling query without a polling interval."):b(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Ho(e.queryInfo.networkStatus)?o():e.reobserve({fetchPolicy:"network-only"},Uo.poll).then(o,o))},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=l(l({},this.last),{result:this.queryManager.assumeImmutableResults?e:en(e),variables:t}),yn(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===Uo.refetch||t===Uo.fetchMore||t===Uo.poll,o=this.options.variables,i=this.options.fetchPolicy,a=mn(this.options,e||{}),s=r?a:Wo(this.options,a);r||(this.updatePolling(),e&&e.variables&&!Un(e.variables,o)&&"standby"!==s.fetchPolicy&&s.fetchPolicy===i&&(this.applyNextFetchPolicy("variables-changed",s),void 0===t&&(t=Uo.setVariables)));var u=s.variables&&l({},s.variables),c=this.fetch(s,t),f={next:function(e){n.reportResult(e,u)},error:function(e){n.reportError(e,u)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=c,this.observer=f),c.addObserver(f),c.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError();(n||this.isDifferentFromLastResult(e))&&((n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),on(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=l(l({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Uo.error,loading:!1});this.updateLastResult(n,t),on(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(Kt);function Ko(e){var t=e.options,n=t.fetchPolicy,r=t.nextFetchPolicy;return"cache-and-network"===n||"network-only"===n?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,"function"==typeof r?r.apply(this,arguments):n}}):e.reobserve()}function $o(e){__DEV__&&b.error("Unhandled error",e.message,e.stack)}function Zo(e){__DEV__&&e&&__DEV__&&b.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}hn(Xo);var Jo=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=xt(t.resolvers,e)})):this.resolvers=xt(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,a=void 0!==i&&i;return d(this,void 0,void 0,(function(){return h(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,a).then((function(e){return l(l({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Qe(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){st(e);var t=bt([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=Te(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet){var t=e.selectionSet.selections.every((function(e){return it(e)&&"__typename"===e.name.value}));if(t)return null}}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return l(l({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),d(this,void 0,void 0,(function(){return h(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return l(l({},t),e.exportedVariables)}))]:[2,l({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Te(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Ie}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Ot(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,o,i){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),d(this,void 0,void 0,(function(){var a,s,u,c,f,d,p,v,y;return h(this,(function(h){return a=dt(e),s=lt(e),u=He(s),c=a.operation,f=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",p=(d=this).cache,v=d.client,y={fragmentMap:u,context:l(l({},n),{cache:p,client:v}),variables:r,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},onlyRunForcedResolvers:i},[2,this.resolveSelectionSet(a.selectionSet,t,y).then((function(e){return{result:e,exportedVariables:y.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return d(this,void 0,void 0,(function(){var r,o,i,a,s,u=this;return h(this,(function(c){return r=n.fragmentMap,o=n.context,i=n.variables,a=[t],s=function(e){return d(u,void 0,void 0,(function(){var s,u;return h(this,(function(c){return Be(e,i)?it(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&a.push(((n={})[rt(e)]=t,n))}))]:(at(e)?s=e:(s=r[e.name.value],__DEV__?b(s,"No fragment named ".concat(e.name.value)):b(s,9)),s&&s.typeCondition&&(u=s.typeCondition.name.value,n.fragmentMatcher(t,u,o))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return kt(a)}))]}))}))},e.prototype.resolveField=function(e,t,n){return d(this,void 0,void 0,(function(){var r,o,i,a,s,u,c,l,f,d=this;return h(this,(function(h){return r=n.variables,o=e.name.value,i=rt(e),a=o!==i,s=t[i]||t[o],u=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(f=l[a?o:i])&&(u=Promise.resolve(lo.withValue(this.cache,f,[t,nt(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?d.resolveSubSelectedArray(e,t,n):e.selectionSet?d.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),ei=new(sn?WeakMap:Map);function ti(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return ei.set(e,(ei.get(e)+1)%1e15),n.apply(this,arguments)})}function ni(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var ri=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;ei.has(n)||(ei.set(n,0),ti(n,"evict"),ti(n,"modify"),ti(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Uo.loading;return this.variables&&this.networkStatus!==Uo.loading&&!Un(this.variables,e.variables)&&(t=Uo.setVariables),Un(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){ni(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Un(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||Un(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():Ko(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;ni(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Ho(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=l(l({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Un(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===ei.get(this.cache)&&Un(t,n.variables)&&Un(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=yn(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(oi(e,t.errorPolicy)?this.cache.performTransaction((function(o){if(r.shouldWrite(e,t.variables))o.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:ei.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var i=r.getDiffOptions(t.variables),a=o.diff(i);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(a,i),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Uo.ready},e.prototype.markError=function(e){return this.networkStatus=Uo.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function oi(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!gn(e);return!r&&n&&e.data&&(r=!0),r}var ii=Object.prototype.hasOwnProperty,ai=function(){function e(e){var t=e.cache,n=e.link,r=e.defaultOptions,o=e.queryDeduplication,i=void 0!==o&&o,a=e.onBroadcast,s=e.ssrMode,u=void 0!==s&&s,c=e.clientAwareness,l=void 0===c?{}:c,f=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(sn?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.defaultOptions=r||Object.create(null),this.queryDeduplication=i,this.clientAwareness=l,this.localState=f||new Jo({cache:t}),this.ssrMode=u,this.assumeImmutableResults=!!d,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new m("QueryManager stopped while query was in flight"):new m(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t,n,r=e.mutation,o=e.variables,i=e.optimisticResponse,a=e.updateQueries,s=e.refetchQueries,u=void 0===s?[]:s,c=e.awaitRefetchQueries,f=void 0!==c&&c,p=e.update,v=e.onQueryUpdated,y=e.fetchPolicy,g=void 0===y?(null===(t=this.defaultOptions.mutate)||void 0===t?void 0:t.fetchPolicy)||"network-only":y,m=e.errorPolicy,w=void 0===m?(null===(n=this.defaultOptions.mutate)||void 0===n?void 0:n.errorPolicy)||"none":m,_=e.keepRootFields,E=e.context;return d(this,void 0,void 0,(function(){var e,t,n;return h(this,(function(s){switch(s.label){case 0:return __DEV__?b(r,"mutation option is required. You must specify your GraphQL document in the mutation option."):b(r,12),__DEV__?b("network-only"===g||"no-cache"===g,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):b("network-only"===g||"no-cache"===g,13),e=this.generateMutationId(),r=this.transform(r).document,o=this.getVariables(r,o),this.transform(r).hasClientExports?[4,this.localState.addExportedVariables(r,o,E)]:[3,2];case 1:o=s.sent(),s.label=2;case 2:return t=this.mutationStore&&(this.mutationStore[e]={mutation:r,variables:o,loading:!0,error:null}),i&&this.markMutationOptimistic(i,{mutationId:e,document:r,variables:o,fetchPolicy:g,errorPolicy:w,context:E,updateQueries:a,update:p,keepRootFields:_}),this.broadcastQueries(),n=this,[2,new Promise((function(s,c){return an(n.getObservableFromLink(r,l(l({},E),{optimisticResponse:i}),o,!1),(function(s){if(gn(s)&&"none"===w)throw new Yo({graphQLErrors:s.errors});t&&(t.loading=!1,t.error=null);var c=l({},s);return"function"==typeof u&&(u=u(c)),"ignore"===w&&gn(c)&&delete c.errors,n.markMutationResult({mutationId:e,result:c,document:r,variables:o,fetchPolicy:g,errorPolicy:w,context:E,update:p,updateQueries:a,awaitRefetchQueries:f,refetchQueries:u,removeOptimistic:i?e:void 0,onQueryUpdated:v,keepRootFields:_})})).subscribe({next:function(e){n.broadcastQueries(),s(e)},error:function(r){t&&(t.loading=!1,t.error=r),i&&n.cache.removeOptimistic(e),n.broadcastQueries(),c(r instanceof Yo?r:new Yo({networkError:r}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,o=[],i="no-cache"===e.fetchPolicy;if(!i&&oi(r,e.errorPolicy)){o.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var a=e.updateQueries;a&&this.queries.forEach((function(e,i){var s=e.observableQuery,u=s&&s.queryName;if(u&&ii.call(a,u)){var c=a[u],l=n.queries.get(i),f=l.document,d=l.variables,h=t.diff({query:f,variables:d,returnPartialData:!0,optimistic:!1}),p=h.result;if(h.complete&&p){var v=c(p,{mutationResult:r,queryName:f&&ct(f)||void 0,queryVariables:d});v&&o.push({result:v,dataId:"ROOT_QUERY",query:f,variables:d})}}}))}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var s=[];if(this.refetchQueries({updateCache:function(t){i||o.forEach((function(e){return t.write(e)}));var a=e.update;if(a){if(!i){var s=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});s.complete&&(r=l(l({},r),{data:s.result}))}a(t,r,{context:e.context,variables:e.variables})}i||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return s.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(s).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(l(l({},t),{result:{data:r}}),e)}catch(e){__DEV__&&b.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var n=this.cache.transformDocument(e),r=function(e){return bt([_t],st(e))}(this.cache.transformForLink(n)),o=this.localState.clientQuery(n),i=r&&this.localState.serverQuery(r),a={document:n,hasClientExports:Ue(n),hasForcedResolvers:this.localState.shouldForceResolvers(n),clientQuery:o,serverQuery:i,defaultVars:ht(ut(n)),asQuery:l(l({},n),{definitions:n.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?l(l({},e),{operation:"query"}):e}))})},s=function(e){e&&!t.has(e)&&t.set(e,a)};s(e),s(n),s(o),s(i)}return t.get(e)},e.prototype.getVariables=function(e,t){return l(l({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=l(l({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new ri(this),n=new Xo({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:n.query,observableQuery:n,variables:n.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?b(e.query,"query option is required. You must specify your GraphQL document in the query option."):b(e.query,14),__DEV__?b("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):b("Document"===e.query.kind,15),__DEV__?b(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):b(!e.returnPartialData,16),__DEV__?b(!e.pollInterval,"pollInterval option only supported on watchQuery."):b(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new m("Store reset while query was in flight (not completed in link chain)"):new m(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Uo.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,o=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"==typeof e?r.set(e,!1):Ge(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):Ge(e)&&e.query&&o.add(e)})),this.queries.forEach((function(t,o){var i=t.observableQuery,a=t.document;if(i){if("all"===e)return void n.set(o,i);var s=i.queryName;if("standby"===i.options.fetchPolicy||"active"===e&&!i.hasObservers())return;("active"===e||s&&r.has(s)||a&&r.has(a))&&(n.set(o,i),s&&r.set(s,!0),a&&r.set(a,!0))}})),o.size&&o.forEach((function(e){var r=wn("legacyOneTimeQuery"),o=t.getQuery(r).init({document:e.query,variables:e.variables}),i=new Xo({queryManager:t,queryInfo:o,options:l(l({},e),{fetchPolicy:"network-only"})});b(i.queryId===r),o.setObservableQuery(i),n.set(r,i)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&b.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,o){var i=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==i&&"cache-only"!==i)&&n.push(r.refetch()),t.getQuery(o).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,o=e.errorPolicy,i=e.variables,a=e.context,s=void 0===a?{}:a;n=this.transform(n).document,i=this.getVariables(n,i);var u=function(e){return t.getObservableFromLink(n,s,e).map((function(i){if("no-cache"!==r&&(oi(i,o)&&t.cache.write({query:n,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),gn(i))throw new Yo({graphQLErrors:i.errors});return i}))};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,i,s).then(u);return new Kt((function(e){var t=null;return c.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var o,i,a=this;void 0===r&&(r=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var u=this.inFlightLinkObservables,c=this.link,f={query:s,variables:n,operationName:ct(s)||void 0,context:this.prepareContext(l(l({},t),{forceFetch:!r}))};if(t=f.context,r){var d=u.get(s)||new Map;u.set(s,d);var h=io(n);if(!(i=d.get(h))){var p=new vn([Dn(c,f)]);d.set(h,i=p),p.cleanup((function(){d.delete(h)&&d.size<1&&u.delete(s)}))}}else i=new vn([Dn(c,f)])}else i=new vn([Kt.of({data:{}})]),t=this.prepareContext(t);var v=this.transform(e).clientQuery;return v&&(i=an(i,(function(e){return a.localState.runResolvers({document:v,remoteResult:e,context:t,variables:n})}))),i},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return an(this.getObservableFromLink(e.document,n.context,n.variables),(function(o){var i=yn(o.errors);if(r>=e.lastRequestId){if(i&&"none"===n.errorPolicy)throw e.markError(new Yo({graphQLErrors:o.errors}));e.markResult(o,n,t),e.markReady()}var a={data:o.data,loading:!1,networkStatus:Uo.ready};return i&&"ignore"!==n.errorPolicy&&(a.errors=o.errors,a.networkStatus=Uo.error),a}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new Yo({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Uo.loading);var o=this.transform(t.query).document,i=this.getVariables(o,t.variables),a=this.getQuery(e),s=this.defaultOptions.watchQuery,u=t.fetchPolicy,c=void 0===u?s&&s.fetchPolicy||"cache-first":u,l=t.errorPolicy,f=void 0===l?s&&s.errorPolicy||"none":l,d=t.returnPartialData,h=void 0!==d&&d,p=t.notifyOnNetworkStatusChange,v=void 0!==p&&p,y=t.context,g=void 0===y?{}:y,m=Object.assign({},t,{query:o,variables:i,fetchPolicy:c,errorPolicy:f,returnPartialData:h,notifyOnNetworkStatusChange:v,context:g}),b=function(e){m.variables=e;var o=r.fetchQueryByPolicy(a,m,n);return"standby"!==m.fetchPolicy&&o.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",t),o},w=function(){return r.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,(function(e){w(),setTimeout((function(){return _.cancel(e)}))}));var _=new vn(this.transform(m.query).hasClientExports?this.localState.addExportedVariables(m.query,m.variables,m.context).then(b):b(m.variables));return _.promise.then(w,w),_},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,o=e.optimistic,i=void 0!==o&&o,a=e.removeOptimistic,s=void 0===a?i?wn("refetchQueries"):void 0:a,u=e.onQueryUpdated,c=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){c.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:i&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof ri&&e.watcher.observableQuery;if(r){if(u){c.delete(r.queryId);var o=u(r,t,n);return!0===o&&(o=r.refetch()),!1!==o&&l.set(r,o),o}null!==u&&c.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var r,o=e.oq,i=e.lastDiff,a=e.diff;if(u){if(!a){var s=o.queryInfo;s.reset(),a=s.getDiff()}r=u(o,a,i)}u&&!0!==r||(r=o.refetch()),!1!==r&&l.set(o,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,o=t.query,i=t.variables,a=t.fetchPolicy,s=t.refetchWritePolicy,u=t.errorPolicy,c=t.returnPartialData,f=t.context,d=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:this.transform(o).document,variables:i,networkStatus:n});var p=function(){return e.getDiff(i)},v=function(t,n){void 0===n&&(n=e.networkStatus||Uo.loading);var a=t.result;!__DEV__||c||Un(a,{})||Zo(t.missing);var s=function(e){return Kt.of(l({data:e,loading:Ho(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&r.transform(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:a},context:f,variables:i,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):s(a)},y="no-cache"===a?0:n===Uo.refetch&&"merge"!==s?1:2,g=function(){return r.getResultsFromLink(e,y,{variables:i,context:f,fetchPolicy:a,errorPolicy:u})},m=d&&"number"==typeof h&&h!==n&&Ho(n);switch(a){default:case"cache-first":return(b=p()).complete?[v(b,e.markReady())]:c||m?[v(b),g()]:[g()];case"cache-and-network":var b;return(b=p()).complete||c||m?[v(b),g()]:[g()];case"cache-only":return[v(p(),e.markReady())];case"network-only":return m?[v(p()),g()]:[g()];case"no-cache":return m?[v(e.getDiff()),g()]:[g()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new ri(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return l(l({},t),{clientAwareness:this.clientAwareness})},e}(),si=!1,ui=function(){function e(e){var t=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,o=e.headers,i=e.cache,a=e.ssrMode,s=void 0!==a&&a,u=e.ssrForceFetchDelay,c=void 0===u?0:u,l=e.connectToDevTools,f=void 0===l?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:l,d=e.queryDeduplication,h=void 0===d||d,p=e.defaultOptions,v=e.assumeImmutableResults,y=void 0!==v&&v,g=e.resolvers,w=e.typeDefs,_=e.fragmentMatcher,E=e.name,O=e.version,S=e.link;if(S||(S=n?new Ln({uri:n,credentials:r,headers:o}):Cn.empty()),!i)throw __DEV__?new m("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new m(7);if(this.link=S,this.cache=i,this.disableNetworkFetches=s||c>0,this.queryDeduplication=h,this.defaultOptions=p||Object.create(null),this.typeDefs=w,c&&setTimeout((function(){return t.disableNetworkFetches=!1}),c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!si&&__DEV__&&(si=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var x=window.navigator,k=x&&x.userAgent,N=void 0;"string"==typeof k&&(k.indexOf("Chrome/")>-1?N="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":k.indexOf("Firefox/")>-1&&(N="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),N&&__DEV__&&b.log("Download the Apollo DevTools for a better development experience: "+N)}this.version="3.6.9",this.localState=new Jo({cache:i,client:this,resolvers:g,fragmentMatcher:_}),this.queryManager=new ai({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:h,ssrMode:s,clientAwareness:{name:E,version:O},localState:this.localState,assumeImmutableResults:y,onBroadcast:f?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=_n(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=l(l({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=_n(this.defaultOptions.query,e)),__DEV__?b("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):b("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=l(l({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=_n(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Dn(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var o=Promise.all(r);return o.queries=n,o.results=r,o.catch((function(e){__DEV__&&b.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),o},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),ci=new Map,li=new Map,fi=!0,di=!1;function hi(e){return e.replace(/[\s,]+/g," ").trim()}function pi(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,o=hi((a=e.loc).source.body.substring(a.start,a.end)),i=li.get(r);i&&!i.has(o)?fi&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):i||li.set(r,i=new Set),i.add(o),t.has(o)||(t.add(o),n.push(e))}else n.push(e);var a})),l(l({},e),{definitions:n})}function vi(e){var t=hi(e);if(!ci.has(t)){var n=function(e,t){return new ke(e,t).parseDocument()}(e,{experimentalFragmentVariables:di,allowLegacyFragmentVariables:di});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");ci.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(pi(n)))}return ci.get(t)}function yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),vi(r)}var gi,mi,bi=yi,wi=function(){ci.clear(),li.clear()},_i=function(){fi=!1},Ei=function(){di=!0},Oi=function(){di=!1};(gi=yi||(yi={})).gql=bi,gi.resetCaches=wi,gi.disableFragmentWarnings=_i,gi.enableExperimentalFragmentVariables=Ei,gi.disableExperimentalFragmentVariables=Oi,yi.default=yi,mi=N?"log":"silent",w[_],_=Math.max(0,w.indexOf(mi));var Si=cn?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function xi(){var e=o.createContext[Si];return e||(Object.defineProperty(o.createContext,Si,{value:e=o.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}var ki=function(e){var t=e.client,n=e.children,r=xi();return o.createElement(r.Consumer,null,(function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),__DEV__?b(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):b(e.client,26),o.createElement(r.Provider,{value:e},n)}))};var Ni,Ci=!1,Di=o.useSyncExternalStore||function(e,t,n){var r=t();__DEV__&&!Ci&&r!==t()&&(Ci=!0,__DEV__&&b.error("The result of getSnapshot should be cached to avoid an infinite loop"));var i=o.useState({inst:{value:r,getSnapshot:t}}),a=i[0].inst,s=i[1];return dn?o.useLayoutEffect((function(){Object.assign(a,{value:r,getSnapshot:t}),ji(a)&&s({inst:a})}),[e,r,t]):Object.assign(a,{value:r,getSnapshot:t}),o.useEffect((function(){return ji(a)&&s({inst:a}),e((function(){ji(a)&&s({inst:a})}))}),[e]),r};function ji(e){var t=e.value,n=e.getSnapshot;try{return t!==n()}catch(e){return!0}}!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(Ni||(Ni={}));var Pi=new Map;function Ii(e){var t;switch(e){case Ni.Query:t="Query";break;case Ni.Mutation:t="Mutation";break;case Ni.Subscription:t="Subscription"}return t}function Ti(e,t){var n=function(e){var t,n,r=Pi.get(e);if(r)return r;__DEV__?b(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):b(!!e&&!!e.kind,30);for(var o=[],i=[],a=[],s=[],u=0,c=e.definitions;u<c.length;u++){var l=c[u];if("FragmentDefinition"!==l.kind){if("OperationDefinition"===l.kind)switch(l.operation){case"query":i.push(l);break;case"mutation":a.push(l);break;case"subscription":s.push(l)}}else o.push(l)}__DEV__?b(!o.length||i.length||a.length||s.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):b(!o.length||i.length||a.length||s.length,31),__DEV__?b(i.length+a.length+s.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(i.length," queries, ").concat(s.length," ")+"subscriptions and ".concat(a.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):b(i.length+a.length+s.length<=1,32),n=i.length?Ni.Query:Ni.Mutation,i.length||a.length||(n=Ni.Subscription);var f=i.length?i:a.length?a:s;__DEV__?b(1===f.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(f.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):b(1===f.length,33);var d=f[0];t=d.variableDefinitions||[];var h={name:d.name&&"Name"===d.name.kind?d.name.value:"data",type:n,variables:t};return Pi.set(e,h),h}(e),r=Ii(t),o=Ii(n.type);__DEV__?b(n.type===t,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(o," was used instead.")):b(n.type===t,34)}var Mi=Object.prototype.hasOwnProperty;function Ai(e,n){return void 0===n&&(n=Object.create(null)),function(e,n){var r=t.useRef();r.current&&e===r.current.client&&n===r.current.query||(r.current=new Ri(e,n,r.current));var o=r.current,i=t.useState(0);i[0];var a=i[1];return o.forceUpdate=function(){a((function(e){return e+1}))},o}((r=n.client,o=t.useContext(xi()),i=r||o.client,__DEV__?b(!!i,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):b(!!i,29),i),e).useQuery(n);var r,o,i}var Ri=function(){function e(e,t,n){this.client=e,this.query=t,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(un?WeakSet:Set),this.ssrDisabledResult=rn({loading:!0,data:void 0,error:void 0,networkStatus:Uo.loading}),this.skipStandbyResult=rn({loading:!1,data:void 0,error:void 0,networkStatus:Uo.ready}),this.toQueryResultCache=new(sn?WeakMap:Map),Ti(t,Ni.Query);var r=n&&n.result,o=r&&r.data;o&&(this.previousData=o)}return e.prototype.forceUpdate=function(){__DEV__&&b.warn("Calling default no-op implementation of InternalState#forceUpdate")},e.prototype.asyncUpdate=function(){var e=this;return new Promise((function(t){e.asyncResolveFns.add(t),e.optionsToIgnoreOnce.add(e.watchQueryOptions),e.forceUpdate()}))},e.prototype.useQuery=function(e){var n=this;this.renderPromises=t.useContext(xi()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),o=Di(t.useCallback((function(){if(n.renderPromises)return function(){};var e=function(){var e=n.result,t=r.getCurrentResult();e&&e.loading===t.loading&&e.networkStatus===t.networkStatus&&Un(e.data,t.data)||n.setResult(t)},t=function(i){var a=r.last;o.unsubscribe();try{r.resetLastResults(),o=r.subscribe(e,t)}finally{r.last=a}if(!Mi.call(i,"graphQLErrors"))throw i;var s=n.result;(!s||s&&s.loading||!Un(i,s.error))&&n.setResult({data:s&&s.data,error:i,loading:!1,networkStatus:Uo.error})},o=r.subscribe(e,t);return function(){return o.unsubscribe()}}),[r,this.renderPromises,this.client.disableNetworkFetches]),(function(){return n.getCurrentResult()}),(function(){return n.getCurrentResult()}));this.unsafeHandlePartialRefetch(o);var i=this.toQueryResult(o);return!i.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach((function(e){return e(i)})),this.asyncResolveFns.clear()),i},e.prototype.useOptions=function(t){var n,r=this.createWatchQueryOptions(this.queryHookOptions=t),o=this.watchQueryOptions;!this.optionsToIgnoreOnce.has(o)&&Un(r,o)||(this.watchQueryOptions=r,o&&this.observable&&(this.optionsToIgnoreOnce.delete(o),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=(null===(n=this.result)||void 0===n?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=t.onCompleted||e.prototype.onCompleted,this.onError=t.onError||e.prototype.onError,!this.renderPromises&&!this.client.disableNetworkFetches||!1!==this.queryHookOptions.ssr||this.queryHookOptions.skip?this.queryHookOptions.skip||"standby"===this.watchQueryOptions.fetchPolicy?this.result=this.skipStandbyResult:this.result!==this.ssrDisabledResult&&this.result!==this.skipStandbyResult||(this.result=void 0):this.result=this.ssrDisabledResult},e.prototype.getObsQueryOptions=function(){var e=[],t=this.client.defaultOptions.watchQuery;return t&&e.push(t),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(mn(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(_n)},e.prototype.createWatchQueryOptions=function(e){var t;void 0===e&&(e={});var n=e.skip;e.ssr,e.onCompleted,e.onError,e.displayName,e.defaultOptions;var r=f(e,["skip","ssr","onCompleted","onError","displayName","defaultOptions"]),o=Object.assign(r,{query:this.query});if(!this.renderPromises||"network-only"!==o.fetchPolicy&&"cache-and-network"!==o.fetchPolicy||(o.fetchPolicy="cache-first"),o.variables||(o.variables={}),n){var i=o.fetchPolicy,a=void 0===i?this.getDefaultFetchPolicy():i,s=o.initialFetchPolicy,u=void 0===s?a:s;Object.assign(o,{initialFetchPolicy:u,fetchPolicy:"standby"})}else o.fetchPolicy||(o.fetchPolicy=(null===(t=this.observable)||void 0===t?void 0:t.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return o},e.prototype.getDefaultFetchPolicy=function(){var e,t;return(null===(e=this.queryHookOptions.defaultOptions)||void 0===e?void 0:e.fetchPolicy)||(null===(t=this.client.defaultOptions.watchQuery)||void 0===t?void 0:t.fetchPolicy)||"cache-first"},e.prototype.onCompleted=function(e){},e.prototype.onError=function(e){},e.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=t.useMemo((function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}),[e]);var n=!(!1===this.queryHookOptions.ssr||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},e.prototype.setResult=function(e){var t=this.result;t&&t.data&&(this.previousData=t.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},e.prototype.handleErrorOrCompleted=function(e){e.loading||(e.error?this.onError(e.error):e.data&&this.onCompleted(e.data))},e.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},e.prototype.toQueryResult=function(e){var t=this.toQueryResultCache.get(e);if(t)return t;var n=e.data;e.partial;var r=f(e,["data","partial"]);return this.toQueryResultCache.set(e,t=l(l(l({data:n},r),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!t.error&&yn(e.errors)&&(t.error=new Yo({graphQLErrors:e.errors})),t},e.prototype.unsafeHandlePartialRefetch=function(e){!e.partial||!this.queryHookOptions.partialRefetch||e.loading||e.data&&0!==Object.keys(e.data).length||"cache-only"===this.observable.options.fetchPolicy||(Object.assign(e,{loading:!0,networkStatus:Uo.refetch}),this.observable.refetch())},e}();function Fi(e){let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(o!==t){const e=t;t=r?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,subscribe:(e,r,i)=>r||i?((e,r=o,i=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function s(){const n=r(t);if(!i(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,i):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,o,i),i}const Li="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?t.useEffect:t.useLayoutEffect;var Vi={value:()=>{}};function zi(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new qi(r)}function qi(e){this._=e}function Bi(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Qi(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Ui(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Vi,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}qi.prototype=zi.prototype={constructor:qi,on:function(e,t){var n,r=this._,o=Bi(e+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=Ui(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Ui(r[n],e.name,null);return this}for(;++i<a;)if((n=(e=o[i]).type)&&(n=Qi(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qi(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var Yi="http://www.w3.org/1999/xhtml",Hi={svg:"http://www.w3.org/2000/svg",xhtml:Yi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wi(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Hi.hasOwnProperty(t)?{space:Hi[t],local:e}:e}function Gi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Yi&&t.documentElement.namespaceURI===Yi?t.createElement(e):t.createElementNS(n,e)}}function Xi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ki(e){var t=Wi(e);return(t.local?Xi:Gi)(t)}function $i(){}function Zi(e){return null==e?$i:function(){return this.querySelector(e)}}function Ji(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function ea(){return[]}function ta(e){return null==e?ea:function(){return this.querySelectorAll(e)}}function na(e){return function(){return this.matches(e)}}function ra(e){return function(t){return t.matches(e)}}var oa=Array.prototype.find;function ia(){return this.firstElementChild}var aa=Array.prototype.filter;function sa(){return Array.from(this.children)}function ua(e){return new Array(e.length)}function ca(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function la(e){return function(){return e}}function fa(e,t,n,r,o,i){for(var a,s=0,u=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new ca(e,i[s]);for(;s<u;++s)(a=t[s])&&(o[s]=a)}function da(e,t,n,r,o,i,a){var s,u,c,l=new Map,f=t.length,d=i.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=c=a.call(u,u.__data__,s,t)+"",l.has(c)?o[s]=u:l.set(c,u));for(s=0;s<d;++s)c=a.call(e,i[s],s,i)+"",(u=l.get(c))?(r[s]=u,u.__data__=i[s],l.delete(c)):n[s]=new ca(e,i[s]);for(s=0;s<f;++s)(u=t[s])&&l.get(h[s])===u&&(o[s]=u)}function ha(e){return e.__data__}function pa(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function va(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ya(e){return function(){this.removeAttribute(e)}}function ga(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ma(e,t){return function(){this.setAttribute(e,t)}}function ba(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wa(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function _a(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ea(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Oa(e){return function(){this.style.removeProperty(e)}}function Sa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xa(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ka(e,t){return e.style.getPropertyValue(t)||Ea(e).getComputedStyle(e,null).getPropertyValue(t)}function Na(e){return function(){delete this[e]}}function Ca(e,t){return function(){this[e]=t}}function Da(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ja(e){return e.trim().split(/^|\s+/)}function Pa(e){return e.classList||new Ia(e)}function Ia(e){this._node=e,this._names=ja(e.getAttribute("class")||"")}function Ta(e,t){for(var n=Pa(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Ma(e,t){for(var n=Pa(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Aa(e){return function(){Ta(this,e)}}function Ra(e){return function(){Ma(this,e)}}function Fa(e,t){return function(){(t.apply(this,arguments)?Ta:Ma)(this,e)}}function La(){this.textContent=""}function Va(e){return function(){this.textContent=e}}function za(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function qa(){this.innerHTML=""}function Ba(e){return function(){this.innerHTML=e}}function Qa(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Ua(){this.nextSibling&&this.parentNode.appendChild(this)}function Ya(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ha(){return null}function Wa(){var e=this.parentNode;e&&e.removeChild(this)}function Ga(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xa(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ka(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function $a(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function Za(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Ja(e,t,n){var r=Ea(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function es(e,t){return function(){return Ja(this,e,t)}}function ts(e,t){return function(){return Ja(this,e,t.apply(this,arguments))}}ca.prototype={constructor:ca,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Ia.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ns=[null];function rs(e,t){this._groups=e,this._parents=t}function os(){return new rs([[document.documentElement]],ns)}function is(e){return"string"==typeof e?new rs([[document.querySelector(e)]],[document.documentElement]):new rs([[e]],ns)}rs.prototype=os.prototype={constructor:rs,select:function(e){"function"!=typeof e&&(e=Zi(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],u=s.length,c=r[o]=new Array(u),l=0;l<u;++l)(i=s[l])&&(a=e.call(i,i.__data__,l,s))&&("__data__"in i&&(a.__data__=i.__data__),c[l]=a);return new rs(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return Ji(e.apply(this,arguments))}}(e):ta(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new rs(r,o)},selectChild:function(e){return this.select(null==e?ia:function(e){return function(){return oa.call(this.children,e)}}("function"==typeof e?e:ra(e)))},selectChildren:function(e){return this.selectAll(null==e?sa:function(e){return function(){return aa.call(this.children,e)}}("function"==typeof e?e:ra(e)))},filter:function(e){"function"!=typeof e&&(e=na(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&u.push(i);return new rs(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,ha);var n=t?da:fa,r=this._parents,o=this._groups;"function"!=typeof e&&(e=la(e));for(var i=o.length,a=new Array(i),s=new Array(i),u=new Array(i),c=0;c<i;++c){var l=r[c],f=o[c],d=f.length,h=pa(e.call(l,l&&l.__data__,c,r)),p=h.length,v=s[c]=new Array(p),y=a[c]=new Array(p),g=u[c]=new Array(d);n(l,f,v,y,g,h,t);for(var m,b,w=0,_=0;w<p;++w)if(m=v[w]){for(w>=_&&(_=w+1);!(b=y[_])&&++_<p;);m._next=b||null}}return(a=new rs(a,r))._enter=s,a._exit=u,a},enter:function(){return new rs(this._enter||this._groups.map(ua),this._parents)},exit:function(){return new rs(this._exit||this._groups.map(ua),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var c,l=n[u],f=r[u],d=l.length,h=s[u]=new Array(d),p=0;p<d;++p)(c=l[p]||f[p])&&(h[p]=c);for(;u<o;++u)s[u]=n[u];return new rs(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=va);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(t)}return new rs(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=Wi(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?ga:ya:"function"==typeof t?n.local?_a:wa:n.local?ba:ma)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Oa:"function"==typeof t?xa:Sa)(e,t,null==n?"":n)):ka(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Na:"function"==typeof t?Da:Ca)(e,t)):this.node()[e]},classed:function(e,t){var n=ja(e+"");if(arguments.length<2){for(var r=Pa(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?Fa:t?Aa:Ra)(n,t))},text:function(e){return arguments.length?this.each(null==e?La:("function"==typeof e?za:Va)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?qa:("function"==typeof e?Qa:Ba)(e)):this.node().innerHTML},raise:function(){return this.each(Ua)},lower:function(){return this.each(Ya)},append:function(e){var t="function"==typeof e?e:Ki(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Ki(e),r=null==t?Ha:"function"==typeof t?t:Zi(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Wa)},clone:function(e){return this.select(e?Xa:Ga)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=Ka(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Za:$a,r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?ts:es)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var as=0;function ss(){this._="@"+(++as).toString(36)}function us(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}ss.prototype={constructor:ss,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const cs={passive:!1},ls={capture:!0,passive:!1};function fs(e){e.stopImmediatePropagation()}function ds(e){e.preventDefault(),e.stopImmediatePropagation()}function hs(e){var t=e.document.documentElement,n=is(e).on("dragstart.drag",ds,ls);"onselectstart"in t?n.on("selectstart.drag",ds,ls):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ps(e,t){var n=e.document.documentElement,r=is(e).on("dragstart.drag",null);t&&(r.on("click.drag",ds,ls),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var vs=e=>()=>e;function ys(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function gs(e){return!e.ctrlKey&&!e.button}function ms(){return this.parentNode}function bs(e,t){return null==t?{x:e.x,y:e.y}:t}function ws(){return navigator.maxTouchPoints||"ontouchstart"in this}function _s(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Es(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Os(){}ys.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Ss=.7,xs=1/Ss,ks="\\s*([+-]?\\d+)\\s*",Ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ds=/^#([0-9a-f]{3,8})$/,js=new RegExp(`^rgb\\(${ks},${ks},${ks}\\)$`),Ps=new RegExp(`^rgb\\(${Cs},${Cs},${Cs}\\)$`),Is=new RegExp(`^rgba\\(${ks},${ks},${ks},${Ns}\\)$`),Ts=new RegExp(`^rgba\\(${Cs},${Cs},${Cs},${Ns}\\)$`),Ms=new RegExp(`^hsl\\(${Ns},${Cs},${Cs}\\)$`),As=new RegExp(`^hsla\\(${Ns},${Cs},${Cs},${Ns}\\)$`),Rs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fs(){return this.rgb().formatHex()}function Ls(){return this.rgb().formatRgb()}function Vs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ds.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?zs(t):3===n?new Us(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?qs(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?qs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=js.exec(e))?new Us(t[1],t[2],t[3],1):(t=Ps.exec(e))?new Us(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Is.exec(e))?qs(t[1],t[2],t[3],t[4]):(t=Ts.exec(e))?qs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ms.exec(e))?Ks(t[1],t[2]/100,t[3]/100,1):(t=As.exec(e))?Ks(t[1],t[2]/100,t[3]/100,t[4]):Rs.hasOwnProperty(e)?zs(Rs[e]):"transparent"===e?new Us(NaN,NaN,NaN,0):null}function zs(e){return new Us(e>>16&255,e>>8&255,255&e,1)}function qs(e,t,n,r){return r<=0&&(e=t=n=NaN),new Us(e,t,n,r)}function Bs(e){return e instanceof Os||(e=Vs(e)),e?new Us((e=e.rgb()).r,e.g,e.b,e.opacity):new Us}function Qs(e,t,n,r){return 1===arguments.length?Bs(e):new Us(e,t,n,null==r?1:r)}function Us(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ys(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}`}function Hs(){const e=Ws(this.opacity);return`${1===e?"rgb(":"rgba("}${Gs(this.r)}, ${Gs(this.g)}, ${Gs(this.b)}${1===e?")":`, ${e})`}`}function Ws(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xs(e){return((e=Gs(e))<16?"0":"")+e.toString(16)}function Ks(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zs(e,t,n,r)}function $s(e){if(e instanceof Zs)return new Zs(e.h,e.s,e.l,e.opacity);if(e instanceof Os||(e=Vs(e)),!e)return new Zs;if(e instanceof Zs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Zs(a,s,u,e.opacity)}function Zs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Js(e){return(e=(e||0)%360)<0?e+360:e}function eu(e){return Math.max(0,Math.min(1,e||0))}function tu(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}_s(Os,Vs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fs,formatHex:Fs,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $s(this).formatHsl()},formatRgb:Ls,toString:Ls}),_s(Us,Qs,Es(Os,{brighter(e){return e=null==e?xs:Math.pow(xs,e),new Us(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ss:Math.pow(Ss,e),new Us(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Us(Gs(this.r),Gs(this.g),Gs(this.b),Ws(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ys,formatHex:Ys,formatHex8:function(){return`#${Xs(this.r)}${Xs(this.g)}${Xs(this.b)}${Xs(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Hs,toString:Hs})),_s(Zs,(function(e,t,n,r){return 1===arguments.length?$s(e):new Zs(e,t,n,null==r?1:r)}),Es(Os,{brighter(e){return e=null==e?xs:Math.pow(xs,e),new Zs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ss:Math.pow(Ss,e),new Zs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Us(tu(e>=240?e-240:e+120,o,r),tu(e,o,r),tu(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new Zs(Js(this.h),eu(this.s),eu(this.l),Ws(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ws(this.opacity);return`${1===e?"hsl(":"hsla("}${Js(this.h)}, ${100*eu(this.s)}%, ${100*eu(this.l)}%${1===e?")":`, ${e})`}`}}));const nu=Math.PI/180,ru=180/Math.PI,ou=.96422,iu=.82521,au=4/29,su=6/29,uu=3*su*su;function cu(e){if(e instanceof lu)return new lu(e.l,e.a,e.b,e.opacity);if(e instanceof yu)return gu(e);e instanceof Us||(e=Bs(e));var t,n,r=pu(e.r),o=pu(e.g),i=pu(e.b),a=fu((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?t=n=a:(t=fu((.4360747*r+.3850649*o+.1430804*i)/ou),n=fu((.0139322*r+.0971045*o+.7141733*i)/iu)),new lu(116*a-16,500*(t-a),200*(a-n),e.opacity)}function lu(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function fu(e){return e>.008856451679035631?Math.pow(e,1/3):e/uu+au}function du(e){return e>su?e*e*e:uu*(e-au)}function hu(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pu(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vu(e){if(e instanceof yu)return new yu(e.h,e.c,e.l,e.opacity);if(e instanceof lu||(e=cu(e)),0===e.a&&0===e.b)return new yu(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ru;return new yu(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function yu(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function gu(e){if(isNaN(e.h))return new lu(e.l,0,0,e.opacity);var t=e.h*nu;return new lu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}_s(lu,(function(e,t,n,r){return 1===arguments.length?cu(e):new lu(e,t,n,null==r?1:r)}),Es(Os,{brighter(e){return new lu(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new lu(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Us(hu(3.1338561*(t=ou*du(t))-1.6168667*(e=1*du(e))-.4906146*(n=iu*du(n))),hu(-.9787684*t+1.9161415*e+.033454*n),hu(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),_s(yu,(function(e,t,n,r){return 1===arguments.length?vu(e):new yu(e,t,n,null==r?1:r)}),Es(Os,{brighter(e){return new yu(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new yu(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return gu(this).rgb()}}));var mu=-.14861,bu=1.78277,wu=-.29227,_u=-.90649,Eu=1.97294,Ou=Eu*_u,Su=Eu*bu,xu=bu*wu-_u*mu;function ku(e){if(e instanceof Cu)return new Cu(e.h,e.s,e.l,e.opacity);e instanceof Us||(e=Bs(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(xu*r+Ou*t-Su*n)/(xu+Ou-Su),i=r-o,a=(Eu*(n-o)-wu*i)/_u,s=Math.sqrt(a*a+i*i)/(Eu*o*(1-o)),u=s?Math.atan2(a,i)*ru-120:NaN;return new Cu(u<0?u+360:u,s,o,e.opacity)}function Nu(e,t,n,r){return 1===arguments.length?ku(e):new Cu(e,t,n,null==r?1:r)}function Cu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_s(Cu,Nu,Es(Os,{brighter(e){return e=null==e?xs:Math.pow(xs,e),new Cu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ss:Math.pow(Ss,e),new Cu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*nu,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new Us(255*(t+n*(mu*r+bu*o)),255*(t+n*(wu*r+_u*o)),255*(t+n*(Eu*r)),this.opacity)}}));var Du=e=>()=>e;function ju(e,t){return function(n){return e+n*t}}function Pu(e){return 1==(e=+e)?Iu:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Du(isNaN(t)?n:t)}}function Iu(e,t){var n=t-e;return n?ju(e,n):Du(isNaN(e)?t:e)}var Tu=function e(t){var n=Pu(t);function r(e,t){var r=n((e=Qs(e)).r,(t=Qs(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=Iu(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Mu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Au=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ru=new RegExp(Au.source,"g");function Fu(e,t){var n,r,o,i=Au.lastIndex=Ru.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Au.exec(e))&&(r=Ru.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Mu(n,r)})),i=Ru.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}var Lu,Vu=180/Math.PI,zu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qu(e,t,n,r,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Vu,skewX:Math.atan(u)*Vu,scaleX:a,scaleY:s}}function Bu(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],u=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:Mu(e,o)},{i:u-2,x:Mu(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Mu(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,u),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Mu(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,u),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:Mu(e,n)},{i:s-2,x:Mu(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var Qu=Bu((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zu:qu(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Uu=Bu((function(e){return null==e?zu:(Lu||(Lu=document.createElementNS("http://www.w3.org/2000/svg","g")),Lu.setAttribute("transform",e),(e=Lu.transform.baseVal.consolidate())?qu((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):zu)}),", ",")",")");function Yu(e){return((e=Math.exp(e))+1/e)/2}var Hu=function e(t,n,r){function o(e,o){var i,a,s=e[0],u=e[1],c=e[2],l=o[0],f=o[1],d=o[2],h=l-s,p=f-u,v=h*h+p*p;if(v<1e-12)a=Math.log(d/c)/t,i=function(e){return[s+e*h,u+e*p,c*Math.exp(t*e*a)]};else{var y=Math.sqrt(v),g=(d*d-c*c+r*v)/(2*c*n*y),m=(d*d-c*c-r*v)/(2*d*n*y),b=Math.log(Math.sqrt(g*g+1)-g),w=Math.log(Math.sqrt(m*m+1)-m);a=(w-b)/t,i=function(e){var r,o=e*a,i=Yu(b),l=c/(n*y)*(i*(r=t*o+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+l*h,u+l*p,c*i/Yu(t*o+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function Wu(e){return function t(n){function r(t,r){var o=e((t=Nu(t)).h,(r=Nu(r)).h),i=Iu(t.s,r.s),a=Iu(t.l,r.l),s=Iu(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}Wu((function(e,t){var n=t-e;return n?ju(e,n>180||n<-180?n-360*Math.round(n/360):n):Du(isNaN(e)?t:e)})),Wu(Iu);var Gu,Xu,Ku=0,$u=0,Zu=0,Ju=0,ec=0,tc=0,nc="object"==typeof performance&&performance.now?performance:Date,rc="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function oc(){return ec||(rc(ic),ec=nc.now()+tc)}function ic(){ec=0}function ac(){this._call=this._time=this._next=null}function sc(e,t,n){var r=new ac;return r.restart(e,t,n),r}function uc(){ec=(Ju=nc.now())+tc,Ku=$u=0;try{!function(){oc(),++Ku;for(var e,t=Gu;t;)(e=ec-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ku}()}finally{Ku=0,function(){var e,t,n=Gu,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Gu=t);Xu=e,lc(r)}(),ec=0}}function cc(){var e=nc.now(),t=e-Ju;t>1e3&&(tc-=t,Ju=e)}function lc(e){Ku||($u&&($u=clearTimeout($u)),e-ec>24?(e<1/0&&($u=setTimeout(uc,e-nc.now()-tc)),Zu&&(Zu=clearInterval(Zu))):(Zu||(Ju=nc.now(),Zu=setInterval(cc,1e3)),Ku=1,rc(uc)))}function fc(e,t,n){var r=new ac;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}ac.prototype=sc.prototype={constructor:ac,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?oc():+n)+(null==t?0:+t),this._next||Xu===this||(Xu?Xu._next=this:Gu=this,Xu=this),this._call=e,this._time=n,lc()},stop:function(){this._call&&(this._call=null,this._time=1/0,lc())}};var dc=zi("start","end","cancel","interrupt"),hc=[];function pc(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var c,l,f,d;if(1!==n.state)return u();for(c in o)if((d=o[c]).name===n.name){if(3===d.state)return fc(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[c]):+c<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete o[c])}if(fc((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function s(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=sc(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:dc,tween:hc,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function vc(e,t){var n=gc(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function yc(e,t){var n=gc(e,t);if(n.state>3)throw new Error("too late; already running");return n}function gc(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function mc(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function bc(e,t){var n,r;return function(){var o=yc(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function wc(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=yc(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function _c(e,t,n){var r=e._id;return e.each((function(){var e=yc(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return gc(e,r).value[t]}}function Ec(e,t){var n;return("number"==typeof t?Mu:t instanceof Vs?Tu:(n=Vs(t))?(t=n,Tu):Fu)(e,t)}function Oc(e){return function(){this.removeAttribute(e)}}function Sc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xc(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function kc(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function Nc(e,t,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,u));this.removeAttribute(e)}}function Cc(e,t,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,u));this.removeAttributeNS(e.space,e.local)}}function Dc(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function jc(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Pc(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&jc(e,o)),n}return o._value=t,o}function Ic(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Dc(e,o)),n}return o._value=t,o}function Tc(e,t){return function(){vc(this,e).delay=+t.apply(this,arguments)}}function Mc(e,t){return t=+t,function(){vc(this,e).delay=t}}function Ac(e,t){return function(){yc(this,e).duration=+t.apply(this,arguments)}}function Rc(e,t){return t=+t,function(){yc(this,e).duration=t}}function Fc(e,t){if("function"!=typeof t)throw new Error;return function(){yc(this,e).ease=t}}function Lc(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?vc:yc;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}var Vc=os.prototype.constructor;function zc(e){return function(){this.style.removeProperty(e)}}function qc(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Bc(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&qc(e,i,n)),r}return i._value=t,i}function Qc(e){return function(t){this.textContent=e.call(this,t)}}function Uc(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Qc(r)),t}return r._value=e,r}var Yc=0;function Hc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Wc(){return++Yc}var Gc=os.prototype;Hc.prototype={constructor:Hc,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Zi(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,u,c=r[a],l=c.length,f=i[a]=new Array(l),d=0;d<l;++d)(s=c[d])&&(u=e.call(s,s.__data__,d,c))&&("__data__"in s&&(u.__data__=s.__data__),f[d]=u,pc(f[d],t,n,d,f,gc(s,n)));return new Hc(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=ta(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var d,h=e.call(u,u.__data__,f,c),p=gc(u,n),v=0,y=h.length;v<y;++v)(d=h[v])&&pc(d,t,n,v,h,p);i.push(h),a.push(u)}return new Hc(i,a,t,n)},selectChild:Gc.selectChild,selectChildren:Gc.selectChildren,filter:function(e){"function"!=typeof e&&(e=na(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&u.push(i);return new Hc(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=t[s],l=n[s],f=c.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new Hc(a,this._parents,this._name,this._id)},selection:function(){return new Vc(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Wc(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=gc(a,t);pc(a,e,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Hc(r,this._parents,e,n)},call:Gc.call,nodes:Gc.nodes,node:Gc.node,size:Gc.size,empty:Gc.empty,each:Gc.each,on:function(e,t){var n=this._id;return arguments.length<2?gc(this.node(),n).on.on(e):this.each(Lc(n,e,t))},attr:function(e,t){var n=Wi(e),r="transform"===n?Uu:Ec;return this.attrTween(e,"function"==typeof t?(n.local?Cc:Nc)(n,r,_c(this,"attr."+e,t)):null==t?(n.local?Sc:Oc)(n):(n.local?kc:xc)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Wi(e);return this.tween(n,(r.local?Pc:Ic)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Qu:Ec;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=ka(this,e),a=(this.style.removeProperty(e),ka(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}(e,r)).on("end.style."+e,zc(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var a=ka(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=ka(this,e)),a===u?null:a===r&&u===o?i:(o=u,i=t(r=a,s))}}(e,r,_c(this,"style."+e,t))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var u=yc(this,e),c=u.on,l=null==u.value[a]?i||(i=zc(t)):void 0;c===n&&o===l||(r=(n=c).copy()).on(s,o=l),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var a=ka(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Bc(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(_c(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Uc(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=gc(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?bc:wc)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Tc:Mc)(t,e)):gc(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ac:Rc)(t,e)):gc(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Fc(t,e)):gc(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;yc(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};n.each((function(){var n=yc(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:Gc[Symbol.iterator]};function Xc(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}!function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3);var Kc=1.70158;!function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(Kc),function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(Kc),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(Kc);var $c=2*Math.PI;!function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=$c);function o(e){return t*Xc(- --e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*$c)},o.period=function(n){return e(t,n)},o}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=$c);function o(e){return 1-t*Xc(e=+e)*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*$c)},o.period=function(n){return e(t,n)},o}(1,.3),function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=$c);function o(e){return((e=2*e-1)<0?t*Xc(-e)*Math.sin((r-e)/n):2-t*Xc(e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*$c)},o.period=function(n){return e(t,n)},o}(1,.3);var Zc={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Jc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}os.prototype.interrupt=function(e){return this.each((function(){mc(this,e)}))},os.prototype.transition=function(e){var t,n;e instanceof Hc?(t=e._id,e=e._name):(t=Wc(),(n=Zc).time=oc(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)(a=s[c])&&pc(a,e,t,c,s,n||Jc(a,t));return new Hc(r,this._parents,e,t)};var el=e=>()=>e;function tl(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function nl(e,t,n){this.k=e,this.x=t,this.y=n}nl.prototype={constructor:nl,scale:function(e){return 1===e?this:new nl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new nl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rl,ol,il,al,sl,ul,cl=new nl(1,0,0);function ll(e){e.stopImmediatePropagation()}function fl(e){e.preventDefault(),e.stopImmediatePropagation()}function dl(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function hl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function pl(){return this.__zoom||cl}function vl(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function yl(){return navigator.maxTouchPoints||"ontouchstart"in this}function gl(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wl(e,t){if(e){if("string"==typeof e)return bl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bl(e,t):void 0}}function _l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||wl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}nl.prototype,function(e){e.Strict="strict",e.Loose="loose"}(rl||(rl={})),function(e){e.Lines="lines",e.Dots="dots"}(ol||(ol={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(il||(il={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(al||(al={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(sl||(sl={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(ul||(ul={}));var El=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},Ol=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Sl=function(e,t){return{x:Ol(e.x,t[0][0],t[1][0]),y:Ol(e.y,t[0][1],t[1][1])}},xl=function(e){var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},kl=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},Nl=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},Cl=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},Dl=function(e){return!isNaN(e)&&isFinite(e)},jl=Symbol("internals");function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tl(e,t){var n=e.find((function(e){return e.id===t.parentNode}));if(n){var r=t.position.x+t.width-n.width,o=t.position.y+t.height-n.height;if(r>0||o>0||t.position.x<0||t.position.y<0){if(n.style=Il({},n.style)||{},r>0&&(n.style.width||(n.style.width=n.width),n.style.width+=r),o>0&&(n.style.height||(n.style.height=n.height),n.style.height+=o),t.position.x<0){var i=Math.abs(t.position.x);n.position.x=n.position.x-i,n.style.width+=i,t.position.x=0}if(t.position.y<0){var a=Math.abs(t.position.y);n.position.y=n.position.y-a,n.style.height+=a,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Ml(e,t){return function(e,t){if(e.some((function(e){return"reset"===e.type})))return e.filter((function(e){return"reset"===e.type})).map((function(e){return e.item}));var n=e.filter((function(e){return"add"===e.type})).map((function(e){return e.item}));return t.reduce((function(t,n){var r=e.find((function(e){return e.id===n.id}));if(r)switch(r.type){case"select":return t.push(Il(Il({},n),{},{selected:r.selected})),t;case"position":var o=Il({},n);return void 0!==r.position&&(o.position=r.position),void 0!==r.positionAbsolute&&(o.positionAbsolute=r.positionAbsolute),void 0!==r.dragging&&(o.dragging=r.dragging),o.expandParent&&Tl(t,o),t.push(o),t;case"dimensions":var i=Il({},n);return void 0!==r.dimensions&&(i.width=r.dimensions.width,i.height=r.dimensions.height),i.expandParent&&Tl(t,i),t.push(i),t;case"remove":return t}return t.push(n),t}),n)}(e,t)}var Al=function(e,t){return{id:e,type:"select",selected:t}};function Rl(e,t){return e.reduce((function(e,n){var r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(Al(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(Al(n.id,!1))),e}),[])}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vl=function(e,t,n,r){var o=t.querySelectorAll(e);return o&&o.length?Array.from(o).map((function(e){var t=e.getBoundingClientRect(),o=El(e);return Ll({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-n.left)/r,y:(t.top-n.top)/r},o)})):null};function zl(e,t,n){return void 0===n?n:function(r){var o=t().nodeInternals.get(e);n(r,Ll({},o))}}function ql(e){var t=e.id,n=e.store,r=n.getState(),o=r.addSelectedNodes,i=r.unselectNodesAndEdges,a=r.multiSelectionActive,s=r.nodeInternals.get(t);n.setState({nodesSelectionActive:!1}),s.selected?s.selected&&a&&i({nodes:[s]}):o([t])}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ul=function(e,t){if(void 0===e)return"";if("string"==typeof e)return e;var n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"))},Yl=function(e,t){return e.source&&e.target?function(e,t){return t.some((function(t){return!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle))}))}(n="id"in(u=e)&&"source"in u&&"target"in u?Ql({},e):Ql(Ql({},e),{},{id:(r=e,o=r.source,i=r.sourceHandle,a=r.target,s=r.targetHandle,"reactflow__edge-".concat(o).concat(i||"","-").concat(a).concat(s||""))}),t)?t:t.concat(n):("development"===process.env.NODE_ENV&&console.warn("[React Flow]: Can't create edge. An edge needs a source and a target. Help: https://reactflow.dev/error#600"),t);var n,r,o,i,a,s,u},Hl=function(e,t,n,r){var o=e.x,i=e.y,a=_l(t,3),s=a[0],u=a[1],c=a[2],l=_l(r,2),f=l[0],d=l[1],h={x:(o-s)/c,y:(i-u)/c};return n?{x:f*Math.round(h.x/f),y:d*Math.round(h.y/d)}:h},Wl=function(e){if(0===e.length)return{x:0,y:0,width:0,height:0};var t=e.reduce((function(e,t){var n=t.positionAbsolute,r=t.position,o=t.width,i=t.height;return kl(e,Nl({x:n?n.x:r.x,y:n?n.y:r.y,width:o||0,height:i||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Cl(t)},Gl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],r=_l(n,3),o=r[0],i=r[1],a=r[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=Nl({x:(t.x-o)/a,y:(t.y-i)/a,width:t.width/a,height:t.height/a}),l=[];return e.forEach((function(e){var t=e.positionAbsolute,n=e.width,r=e.height,o=e.selectable;if(u&&!(void 0===o||o))return!1;var i=Nl(Ql(Ql({},t),{},{width:n||0,height:r||0})),a=Math.max(0,Math.min(c.x2,i.x2)-Math.max(c.x,i.x)),f=Math.max(0,Math.min(c.y2,i.y2)-Math.max(c.y,i.y)),d=Math.ceil(a*f);(void 0===n||void 0===r||null===n||null===r||s&&d>0||d>=(n||0)*(r||0))&&l.push(e)})),l},Xl=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},Kl=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),u=Math.min(a,s),c=Ol(u,r,o),l=e.x+e.width/2,f=e.y+e.height/2,d=t/2-l*c,h=n/2-f*c;return[d,h,c]},$l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ef(e,t,n,r){var o,i,a,s,u,c,l,f,d,h,p,v;if(!e.parentNode)return r;var y=t.get(e.parentNode);return ef(y,t,n,{x:(null!==(o=r.x)&&void 0!==o?o:0)+(null!==(i=null===(a=y.position)||void 0===a?void 0:a.x)&&void 0!==i?i:0),y:(null!==(s=r.y)&&void 0!==s?s:0)+(null!==(u=null===(c=y.position)||void 0===c?void 0:c.y)&&void 0!==u?u:0),z:(null!==(l=null===(f=y[jl])||void 0===f?void 0:f.z)&&void 0!==l?l:0)>(null!==(d=r.z)&&void 0!==d?d:0)?null!==(h=null===(p=y[jl])||void 0===p?void 0:p.z)&&void 0!==h?h:0:null!==(v=r.z)&&void 0!==v?v:0})}function tf(e,t){var n=new Map,r={};return e.forEach((function(e){var o,i=Dl(e.zIndex)?e.zIndex:e.selected?1e3:0,a=t.get(e.id),s=Jl(Jl({width:null==a?void 0:a.width,height:null==a?void 0:a.height},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}});e.parentNode&&(s.parentNode=e.parentNode,r[e.parentNode]=!0),Object.defineProperty(s,jl,{enumerable:!1,value:{handleBounds:null==a||null===(o=a[jl])||void 0===o?void 0:o.handleBounds,z:i}}),n.set(e.id,s)})),n.forEach((function(e){if(e.parentNode&&!n.has(e.parentNode))throw new Error("Parent node ".concat(e.parentNode," not found"));if(e.parentNode||r[e.id]){var t,o,i=ef(e,n,r,Jl(Jl({},e.position),{},{z:null!==(t=null===(o=e[jl])||void 0===o?void 0:o.z)&&void 0!==t?t:0})),a=i.x,s=i.y,u=i.z;e.positionAbsolute={x:a,y:s},e[jl].z=u,r[e.id]&&(e[jl].isParent=!0)}})),n}function nf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e(),r=n.nodeInternals,o=n.width,i=n.height,a=n.minZoom,s=n.maxZoom,u=n.d3Zoom,c=n.d3Selection,l=n.fitViewOnInitDone,f=n.fitViewOnInit;if((t.initial&&!l&&f||!t.initial)&&u&&c){var d=Array.from(r.values()).filter((function(e){return t.includeHiddenNodes?e.width&&e.height:!e.hidden})),h=d.every((function(e){return e.width&&e.height}));if(d.length>0&&h){var p,v,y,g=Wl(d),m=Kl(g,o,i,null!==(p=t.minZoom)&&void 0!==p?p:a,null!==(v=t.maxZoom)&&void 0!==v?v:s,null!==(y=t.padding)&&void 0!==y?y:.1),b=_l(m,3),w=b[0],_=b[1],E=b[2],O=cl.translate(w,_).scale(E);return"number"==typeof t.duration&&t.duration>0?u.transform($l(c,t.duration),O):u.transform(c,O),!0}}return!1}function rf(e,t){return e.forEach((function(e){var n,r=t.get(e.id);r&&t.set(r.id,Jl(Jl({},r),{},(ml(n={},jl,r[jl]),ml(n,"selected",e.selected),n)))})),new Map(t)}function of(e,t){return t.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n&&(t.selected=n.selected),t}))}function af(e){var t=e.changedNodes,n=e.changedEdges,r=e.get,o=e.set,i=r(),a=i.nodeInternals,s=i.edges,u=i.onNodesChange,c=i.onEdgesChange,l=i.hasDefaultNodes,f=i.hasDefaultEdges;null!=t&&t.length&&(l&&o({nodeInternals:rf(t,a)}),null==u||u(t)),null!=n&&n.length&&(f&&o({edges:of(n,s)}),null==c||c(n))}var sf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],uf={width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sf,nodeExtent:sf,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:rl.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,reactFlowVersion:"10.3.8",connectionStartHandle:null,connectOnClick:!0};function cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ff=function(){const e=t.createContext(void 0);return{Provider:({initialStore:n,createStore:r,children:o})=>{const i=t.useRef();return i.current||(n&&(console.warn("Provider initialStore is deprecated and will be removed in the next version."),r||(r=()=>n)),i.current=r()),t.createElement(e.Provider,{value:i.current},o)},useStore:(n,r=Object.is)=>{const o=t.useContext(e);if(!o)throw new Error("Seems like you have not used zustand provider as an ancestor.");return o(n,r)},useStoreApi:()=>{const n=t.useContext(e);if(!n)throw new Error("Seems like you have not used zustand provider as an ancestor.");return t.useMemo((()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy})),[n])}}}(),df=ff.Provider,hf=ff.useStore,pf=ff.useStoreApi,vf=function(){return function(e){const n="function"==typeof e?Fi(e):e,r=(e=n.getState,r=Object.is)=>{const[,o]=t.useReducer((e=>e+1),0),i=n.getState(),a=t.useRef(i),s=t.useRef(e),u=t.useRef(r),c=t.useRef(!1),l=t.useRef();let f;void 0===l.current&&(l.current=e(i));let d=!1;(a.current!==i||s.current!==e||u.current!==r||c.current)&&(f=e(i),d=!r(l.current,f)),Li((()=>{d&&(l.current=f),a.current=i,s.current=e,u.current=r,c.current=!1}));const h=t.useRef(i);Li((()=>{const e=()=>{try{const e=n.getState(),t=s.current(e);u.current(l.current,t)||(a.current=e,l.current=t,o())}catch(e){c.current=!0,o()}},t=n.subscribe(e);return n.getState()!==h.current&&e(),t}),[]);const p=d?f:l.current;return t.useDebugValue(p),p};return Object.assign(r,n),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[r,n];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},r}((function(e,t){return lf(lf({},uf),{},{setNodes:function(n){e({nodeInternals:tf(n,t().nodeInternals)})},setEdges:function(n){var r=t().defaultEdgeOptions,o=void 0===r?{}:r;e({edges:n.map((function(e){return lf(lf({},o),e)}))})},setDefaultNodesAndEdges:function(t,n){var r=void 0!==t,o=void 0!==n,i=r?tf(t,new Map):new Map;e({nodeInternals:i,edges:o?n:[],hasDefaultNodes:r,hasDefaultEdges:o})},updateNodeDimensions:function(n){var r=t(),o=r.onNodesChange,i=r.transform,a=r.nodeInternals,s=r.fitViewOnInit,u=r.fitViewOnInitDone,c=r.fitViewOnInitOptions,l=n.reduce((function(e,t){var n,r,o,s=a.get(t.id);if(s){var u=El(t.nodeElement);if(!(!u.width||!u.height||s.width===u.width&&s.height===u.height&&!t.forceUpdate)){var c=(n=t.nodeElement,r=i[2],o=n.getBoundingClientRect(),{source:Vl(".source",n,o,r),target:Vl(".target",n,o,r)});a.set(s.id,lf(lf({},s),{},ml({},jl,lf(lf({},s[jl]),{},{handleBounds:c})),u)),e.push({id:s.id,type:"dimensions",dimensions:u})}}return e}),[]),f=u||s&&!u&&nf(t,lf({initial:!0},c));e({nodeInternals:new Map(a),fitViewOnInitDone:f}),(null==l?void 0:l.length)>0&&(null==o||o(l))},updateNodePositions:function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t(),a=i.onNodesChange,s=i.nodeInternals,u=i.hasDefaultNodes;if(u||a){var c=n.map((function(e){var t={id:e.id,type:"position",dragging:o};if(r&&(t.positionAbsolute=e.position,t.position=e.position,e.parentNode)){var n,i,a,u,c=s.get(e.parentNode);t.position={x:t.position.x-(null!==(n=null==c||null===(i=c.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==n?n:0),y:t.position.y-(null!==(a=null==c||null===(u=c.positionAbsolute)||void 0===u?void 0:u.y)&&void 0!==a?a:0)}}return t}));if(null!=c&&c.length){if(u){var l=Ml(c,Array.from(s.values())),f=tf(l,s);e({nodeInternals:f})}null==a||a(c)}}},addSelectedNodes:function(n){var r,o=t(),i=o.multiSelectionActive,a=o.nodeInternals,s=o.edges,u=null;i?r=n.map((function(e){return Al(e,!0)})):(r=Rl(Array.from(a.values()),n),u=Rl(s,[])),af({changedNodes:r,changedEdges:u,get:t,set:e})},addSelectedEdges:function(n){var r,o=t(),i=o.multiSelectionActive,a=o.edges,s=o.nodeInternals,u=null;i?r=n.map((function(e){return Al(e,!0)})):(r=Rl(a,n),u=Rl(Array.from(s.values()),[])),af({changedNodes:u,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nodes,o=n.edges,i=t(),a=i.nodeInternals,s=i.edges,u=r||Array.from(a.values()),c=o||s,l=u.map((function(e){return e.selected=!1,Al(e.id,!1)})),f=c.map((function(e){return Al(e.id,!1)}));af({changedNodes:l,changedEdges:f,get:t,set:e})},setMinZoom:function(n){var r=t(),o=r.d3Zoom,i=r.maxZoom;null==o||o.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:function(n){var r=t(),o=r.d3Zoom,i=r.minZoom;null==o||o.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:function(n){var r=t().d3Zoom;null==r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:function(){var n=t(),r=n.nodeInternals,o=n.edges;af({changedNodes:Array.from(r.values()).filter((function(e){return e.selected})).map((function(e){return Al(e.id,!1)})),changedEdges:o.filter((function(e){return e.selected})).map((function(e){return Al(e.id,!1)})),get:t,set:e})},setNodeExtent:function(n){var r=t().nodeInternals;r.forEach((function(e){e.positionAbsolute=Sl(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(r)})},reset:function(){return e(lf({},uf))}})}))};function yf(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function gf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function mf(e){return function(e){if(Array.isArray(e))return bl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bf={zoomIn:function(){},zoomOut:function(){},zoomTo:function(e){},getZoom:function(){return 1},setViewport:function(e){},getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){},setCenter:function(e,t){},fitBounds:function(e){},project:function(e){return e},initialized:!1},wf=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}},_f=["initialized"];function Ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ef(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sf(){var e=function(){var e=pf(),n=hf(wf,yf),r=n.d3Zoom,o=n.d3Selection,i=t.useMemo((function(){return o&&r?{zoomIn:function(e){return r.scaleBy($l(o,null==e?void 0:e.duration),1.2)},zoomOut:function(e){return r.scaleBy($l(o,null==e?void 0:e.duration),1/1.2)},zoomTo:function(e,t){return r.scaleTo($l(o,null==t?void 0:t.duration),e)},getZoom:function(){return _l(e.getState().transform,3)[2]},setViewport:function(e,t){var n=cl.translate(e.x,e.y).scale(e.zoom);r.transform($l(o,null==t?void 0:t.duration),n)},getViewport:function(){var t=_l(e.getState().transform,3);return{x:t[0],y:t[1],zoom:t[2]}},fitView:function(t){return nf(e.getState,t)},setCenter:function(t,n,i){var a=e.getState(),s=a.width,u=a.height,c=a.maxZoom,l=void 0!==(null==i?void 0:i.zoom)?i.zoom:c,f=s/2-t*l,d=u/2-n*l,h=cl.translate(f,d).scale(l);r.transform($l(o,null==i?void 0:i.duration),h)},fitBounds:function(t,n){var i,a=e.getState(),s=a.width,u=a.height,c=a.minZoom,l=a.maxZoom,f=_l(Kl(t,s,u,c,l,null!==(i=null==n?void 0:n.padding)&&void 0!==i?i:.1),3),d=f[0],h=f[1],p=f[2],v=cl.translate(d,h).scale(p);r.transform($l(o,null==n?void 0:n.duration),v)},project:function(t){var n=e.getState(),r=n.transform,o=n.snapToGrid,i=n.snapGrid;return Hl(t,r,o,i)},initialized:!0}:bf}),[r,o]);return i}(),n=e.initialized,r=gf(e,_f),o=pf(),i=t.useCallback((function(){var e=o.getState().nodeInternals;return Array.from(e.values()).map((function(e){return Of({},e)}))}),[]),a=t.useCallback((function(e){return o.getState().nodeInternals.get(e)}),[]),s=t.useCallback((function(){var e=o.getState().edges;return(void 0===e?[]:e).map((function(e){return Of({},e)}))}),[]),u=t.useCallback((function(e){var t=o.getState().edges;return(void 0===t?[]:t).find((function(t){return t.id===e}))}),[]),c=t.useCallback((function(e){var t=o.getState(),n=t.nodeInternals,r=t.setNodes,i=t.hasDefaultNodes,a=t.onNodesChange,s=Array.from(n.values()),u="function"==typeof e?e(s):e;if(i)r(u);else if(a){a(0===u.length?s.map((function(e){return{type:"remove",id:e.id}})):u.map((function(e){return{item:e,type:"reset"}})))}}),[]),l=t.useCallback((function(e){var t=o.getState(),n=t.edges,r=void 0===n?[]:n,i=t.setEdges,a=t.hasDefaultEdges,s=t.onEdgesChange,u="function"==typeof e?e(r):e;if(a)i(u);else if(s){s(0===u.length?r.map((function(e){return{type:"remove",id:e.id}})):u.map((function(e){return{item:e,type:"reset"}})))}}),[]),f=t.useCallback((function(e){var t=Array.isArray(e)?e:[e],n=o.getState(),r=n.nodeInternals,i=n.setNodes,a=n.hasDefaultNodes,s=n.onNodesChange;if(a){var u=Array.from(r.values());i([].concat(mf(u),mf(t)))}else if(s){s(t.map((function(e){return{item:e,type:"add"}})))}}),[]),d=t.useCallback((function(e){var t=Array.isArray(e)?e:[e],n=o.getState(),r=n.edges,i=void 0===r?[]:r,a=n.setEdges,s=n.hasDefaultEdges,u=n.onEdgesChange;if(s)a([].concat(mf(i),mf(t)));else if(u){u(t.map((function(e){return{item:e,type:"add"}})))}}),[]),h=t.useCallback((function(){var e=o.getState(),t=e.nodeInternals,n=e.edges,r=void 0===n?[]:n,i=e.transform,a=Array.from(t.values()),s=_l(i,3),u=s[0],c=s[1],l=s[2];return{nodes:a.map((function(e){return Of({},e)})),edges:r.map((function(e){return Of({},e)})),viewport:{x:u,y:c,zoom:l}}}),[]);return Of(Of({},r),{},{viewportInitialized:n,getNodes:i,getNode:a,getEdges:s,getEdge:u,setNodes:c,setEdges:l,addNodes:f,addEdges:d,toObject:h})}function xf(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=xf(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var kf=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.style,s=e.color,u=e.strokeColor,c=e.strokeWidth,l=e.className,f=e.borderRadius,d=e.shapeRendering,h=a||{},p=h.background,v=h.backgroundColor,y=s||p||v;return i.default.createElement("rect",{className:xf(["react-flow__minimap-node",l]),x:t,y:n,rx:f,ry:f,width:r,height:o,fill:y,stroke:u,strokeWidth:c,shapeRendering:d})};kf.displayName="MiniMapNode";var Nf=t.memo(kf),Cf=function(e){return{width:e.width,height:e.height,transform:e.transform,nodes:Array.from(e.nodeInternals.values())}},Df=function(e){return e instanceof Function?e:function(){return e}},jf=function(e){var t,n,r,o,a=e.style,s=e.className,u=e.nodeStrokeColor,c=void 0===u?"#555":u,l=e.nodeColor,f=void 0===l?"#fff":l,d=e.nodeClassName,h=void 0===d?"":d,p=e.nodeBorderRadius,v=void 0===p?5:p,y=e.nodeStrokeWidth,g=void 0===y?2:y,m=e.maskColor,b=void 0===m?"rgb(240, 242, 243, 0.7)":m,w=hf(Cf,yf),_=w.width,E=w.height,O=w.transform,S=w.nodes,x=null!==(t=null==a?void 0:a.width)&&void 0!==t?t:200,k=null!==(n=null==a?void 0:a.height)&&void 0!==n?n:150,N=Df(f),C=Df(c),D=Df(h),j={x:-O[0]/O[2],y:-O[1]/O[2],width:_/O[2],height:E/O[2]},P=S.length>0?(r=Wl(S),o=j,Cl(kl(Nl(r),Nl(o)))):j,I=P.width/x,T=P.height/k,M=Math.max(I,T),A=M*x,R=M*k,F=5*M,L=P.x-(A-P.width)/2-F,V=P.y-(R-P.height)/2-F,z=A+2*F,q=R+2*F,B="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return i.default.createElement("svg",{width:x,height:k,viewBox:"".concat(L," ").concat(V," ").concat(z," ").concat(q),style:a,className:xf(["react-flow__minimap",s])},S.filter((function(e){return!e.hidden&&e.width&&e.height})).map((function(e){var t,n,r,o;return i.default.createElement(Nf,{key:e.id,x:null!==(t=null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(o=e.positionAbsolute)||void 0===o?void 0:o.y)&&void 0!==r?r:0,width:e.width,height:e.height,style:e.style,className:D(e),color:N(e),borderRadius:v,strokeColor:C(e),strokeWidth:g,shapeRendering:B})})),i.default.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(L-F,",").concat(V-F,"h").concat(z+2*F,"v").concat(q+2*F,"h").concat(-z-2*F,"z\n        M").concat(j.x,",").concat(j.y,"h").concat(j.width,"v").concat(j.height,"h").concat(-j.width,"z"),fill:b,fillRule:"evenodd"}))};jf.displayName="MiniMap";var Pf=t.memo(jf);function If(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},i.default.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Tf(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},i.default.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Mf(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},i.default.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Af(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},i.default.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Rf(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},i.default.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}var Ff=["children","className"];function Lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Vf=function(e){var t=e.children,n=e.className,r=gf(e,Ff);return i.default.createElement("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lf(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"button",className:xf(["react-flow__controls-button",n])},r),t)},zf=function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable},qf=function(e){var n=e.style,r=e.showZoom,o=void 0===r||r,a=e.showFitView,s=void 0===a||a,u=e.showInteractive,c=void 0===u||u,l=e.fitViewOptions,f=e.onZoomIn,d=e.onZoomOut,h=e.onFitView,p=e.onInteractiveChange,v=e.className,y=e.children,g=pf(),m=_l(t.useState(!1),2),b=m[0],w=m[1],_=hf(zf),E=Sf(),O=E.zoomIn,S=E.zoomOut,x=E.fitView;if(t.useEffect((function(){w(!0)}),[]),!b)return null;return i.default.createElement("div",{className:xf(["react-flow__controls",v]),style:n},o&&i.default.createElement(i.default.Fragment,null,i.default.createElement(Vf,{onClick:function(){null==O||O(),null==f||f()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in"},i.default.createElement(If,null)),i.default.createElement(Vf,{onClick:function(){null==S||S(),null==d||d()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out"},i.default.createElement(Tf,null))),s&&i.default.createElement(Vf,{className:"react-flow__controls-fitview",onClick:function(){null==x||x(l),null==h||h()},title:"fit view","aria-label":"fit view"},i.default.createElement(Mf,null)),c&&i.default.createElement(Vf,{className:"react-flow__controls-interactive",onClick:function(){g.setState({nodesDraggable:!_,nodesConnectable:!_,elementsSelectable:!_}),null==p||p(!_)},title:"toggle interactivity","aria-label":"toggle interactivity"},_?i.default.createElement(Rf,null):i.default.createElement(Af,null)),y)};qf.displayName="Controls";var Bf,Qf=t.memo(qf);function Uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hf=(ml(Bf={},ol.Dots,"#81818a"),ml(Bf,ol.Lines,"#eee"),Bf),Wf=function(e){return e.transform};(function(e){var n=e.variant,r=void 0===n?ol.Dots:n,o=e.gap,a=void 0===o?15:o,s=e.size,u=void 0===s?.4:s,c=e.color,l=e.style,f=e.className,d=t.useRef(null),h=_l(t.useState(null),2),p=h[0],v=h[1],y=_l(hf(Wf),3),g=y[0],m=y[1],b=y[2];t.useEffect((function(){var e=document.querySelectorAll(".react-flow__background"),t=Array.from(e).findIndex((function(e){return e===d.current}));v("pattern-".concat(t))}),[]);var w=a*b||1,_=g%w,E=m%w,O=r===ol.Lines,S=c||Hf[r],x=O?function(e,t,n){return i.default.createElement("path",{stroke:n,strokeWidth:t,d:"M".concat(e/2," 0 V").concat(e," M0 ").concat(e/2," H").concat(e)})}(w,u,S):function(e,t){return i.default.createElement("circle",{cx:e,cy:e,r:e,fill:t})}(u*b,S);return i.default.createElement("svg",{className:xf(["react-flow__background","react-flow__container",f]),style:Yf(Yf({},l),{},{width:"100%",height:"100%"}),ref:d},p&&i.default.createElement(i.default.Fragment,null,i.default.createElement("pattern",{id:p,x:_,y:E,width:w,height:w,patternUnits:"userSpaceOnUse"},x),i.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(p,")")})))}).displayName="Background";var Gf=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function Xf(e){var t=e.proOptions,n=e.position,r=void 0===n?"bottom-right":n;if(null!=t&&t.account&&Gf.includes(null==t?void 0:t.account)&&null!=t&&t.hideAttribution)return null;var o="".concat(r).split("-");return i.default.createElement("div",{className:xf(["react-flow__attribution"].concat(mf(o))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},i.default.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var Kf=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Zf=function(e){var n=e.x,r=e.y,o=e.label,a=e.labelStyle,s=void 0===a?{}:a,u=e.labelShowBg,c=void 0===u||u,l=e.labelBgStyle,f=void 0===l?{}:l,d=e.labelBgPadding,h=void 0===d?[2,4]:d,p=e.labelBgBorderRadius,v=void 0===p?2:p,y=e.children,g=e.className,m=gf(e,Kf),b=t.useRef(null),w=_l(t.useState({x:0,y:0,width:0,height:0}),2),_=w[0],E=w[1],O=xf(["react-flow__edge-textwrapper",g]);return t.useEffect((function(){if(b.current){var e=b.current.getBBox();E({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),void 0!==o&&o?i.default.createElement("g",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({transform:"translate(".concat(n-_.width/2," ").concat(r-_.height/2,")"),className:O},m),c&&i.default.createElement("rect",{width:_.width+2*h[0],x:-h[0],y:-h[1],height:_.height+2*h[1],className:"react-flow__edge-textbg",style:f,rx:v,ry:v}),i.default.createElement("text",{className:"react-flow__edge-text",y:_.height/2,dy:"0.3em",ref:b,style:s},o),y):null},Jf=t.memo(Zf),ed=function(e){var t=e.path,n=e.centerX,r=e.centerY,o=e.label,a=e.labelStyle,s=e.labelShowBg,u=e.labelBgStyle,c=e.labelBgPadding,l=e.labelBgBorderRadius,f=e.style,d=e.markerEnd,h=e.markerStart,p=o?i.default.createElement(Jf,{x:n,y:r,label:o,labelStyle:a,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:l}):null;return i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{style:f,d:t,className:"react-flow__edge-path",markerEnd:d,markerStart:h}),p)};function td(e){var t,n,r=e.pos,o=e.x1,i=e.y1,a=e.x2,s=e.y2;switch(r){case ul.Left:case ul.Right:t=.5*(o+a),n=i;break;case ul.Top:case ul.Bottom:t=o,n=.5*(i+s)}return[t,n]}function nd(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ul.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,u=void 0===s?ul.Top:s,c=_l(td({pos:o,x1:t,y1:n,x2:i,y2:a}),2),l=c[0],f=c[1],d=_l(td({pos:u,x1:i,y1:a,x2:t,y2:n}),2),h=d[0],p=d[1];return"M".concat(t,",").concat(n," C").concat(l,",").concat(f," ").concat(h,",").concat(p," ").concat(i,",").concat(a)}var rd=t.memo((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.sourcePosition,s=void 0===a?ul.Bottom:a,u=e.targetPosition,c=void 0===u?ul.Top:u,l=e.label,f=e.labelStyle,d=e.labelShowBg,h=e.labelBgStyle,p=e.labelBgPadding,v=e.labelBgBorderRadius,y=e.style,g=e.markerEnd,m=e.markerStart,b={sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:c},w=nd(b),_=function(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ul.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,u=void 0===s?ul.Top:s,c=_l(td({pos:o,x1:t,y1:n,x2:i,y2:a}),2),l=c[0],f=c[1],d=_l(td({pos:u,x1:i,y1:a,x2:t,y2:n}),2),h=.125*t+.375*l+.375*d[0]+.125*i,p=.125*n+.375*f+.375*d[1]+.125*a;return[h,p,Math.abs(h-t),Math.abs(p-n)]}(b),E=_l(_,2),O=E[0],S=E[1];return i.default.createElement(ed,{path:w,centerX:O,centerY:S,label:l,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:g,markerStart:m})}));function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var id=[ul.Left,ul.Right],ad=function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,i=e.sourcePosition,a=void 0===i?ul.Bottom:i,s=e.targetPosition,u=void 0===s?ul.Top:s,c=id.includes(a),l=id.includes(u);if(c&&!l||l&&!c){var f=c?Math.abs(r-t):0,d=t>r?t-f:t+f,h=c?0:Math.abs(o-n);return[d,n<o?n+h:n-h,f,h]}var p=Math.abs(r-t)/2,v=r<t?r+p:r-p,y=Math.abs(o-n)/2;return[v,o<n?o+y:o-y,p,y]};function sd(e,t,n){return void 0===n?n:function(r){var o=t().edges.find((function(t){return t.id===e}));n(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?od(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o))}}var ud=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},cd=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},ld=function(e,t,n){return"L ".concat(e,",").concat(t-n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},fd=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t-n)},dd=function(e,t,n){return"L ".concat(e+n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)},hd=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e+n,",").concat(t)},pd=function(e,t,n){return"L ".concat(e,",").concat(t+n,"Q ").concat(e,",").concat(t," ").concat(e-n,",").concat(t)},vd=function(e,t,n){return"L ".concat(e-n,",").concat(t,"Q ").concat(e,",").concat(t," ").concat(e,",").concat(t+n)};function yd(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ul.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,u=void 0===s?ul.Top:s,c=e.borderRadius,l=void 0===c?5:c,f=e.centerX,d=e.centerY,h=_l(ad({sourceX:t,sourceY:n,targetX:i,targetY:a}),4),p=h[0],v=h[1],y=h[2],g=h[3],m=Math.min(l,Math.abs(i-t)),b=Math.min(l,Math.abs(a-n)),w=Math.min(m,b,y,g),_=[ul.Left,ul.Right],E=void 0!==f?f:p,O=void 0!==d?d:v,S=null,x=null;return t<=i?(S=n<=a?ud(t,O,w):hd(t,O,w),x=n<=a?vd(i,O,w):fd(i,O,w)):(S=n<a?ld(t,O,w):pd(t,O,w),x=n<a?dd(i,O,w):cd(i,O,w)),_.includes(o)&&_.includes(u)?t<=i?(S=n<=a?vd(E,n,w):fd(E,n,w),x=n<=a?ud(E,a,w):hd(E,a,w)):(o===ul.Right&&u===ul.Left||o===ul.Left&&u===ul.Right||o===ul.Left&&u===ul.Left)&&(S=n<=a?dd(E,n,w):cd(E,n,w),x=n<=a?ld(E,a,w):pd(E,a,w)):_.includes(o)&&!_.includes(u)?(S=t<=i?n<=a?vd(i,n,w):fd(i,n,w):n<=a?dd(i,n,w):cd(i,n,w),x=""):!_.includes(o)&&_.includes(u)&&(S=t<=i?n<=a?ud(t,a,w):hd(t,a,w):n<=a?ld(t,a,w):pd(t,a,w),x=""),"M ".concat(t,",").concat(n).concat(S).concat(x,"L ").concat(i,",").concat(a)}var gd=t.memo((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.label,s=e.labelStyle,u=e.labelShowBg,c=e.labelBgStyle,l=e.labelBgPadding,f=e.labelBgBorderRadius,d=e.style,h=e.sourcePosition,p=void 0===h?ul.Bottom:h,v=e.targetPosition,y=void 0===v?ul.Top:v,g=e.markerEnd,m=e.markerStart,b=e.borderRadius,w=void 0===b?5:b,_=_l(ad({sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:p,targetPosition:y}),2),E=_[0],O=_[1],S=yd({sourceX:t,sourceY:n,sourcePosition:p,targetX:r,targetY:o,targetPosition:y,borderRadius:w});return i.default.createElement(ed,{path:S,centerX:E,centerY:O,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:f,style:d,markerEnd:g,markerStart:m})}));function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wd=t.memo((function(e){return i.default.createElement(gd,bd(bd({},e),{},{borderRadius:0}))})),_d=t.memo((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.label,s=e.labelStyle,u=e.labelShowBg,c=e.labelBgStyle,l=e.labelBgPadding,f=e.labelBgBorderRadius,d=e.style,h=e.markerEnd,p=e.markerStart,v=Math.abs(o-n)/2,y=o<n?o+v:o-v,g=Math.abs(r-t)/2,m=r<t?r+g:r-g,b="M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o);return i.default.createElement(ed,{path:b,centerX:m,centerY:y,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p})}));function Ed(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Od(e){var t,n,r=e.pos,o=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.c;switch(r){case ul.Left:t=o-Ed(o-a,u),n=i;break;case ul.Right:t=o+Ed(a-o,u),n=i;break;case ul.Top:t=o,n=i-Ed(i-s,u);break;case ul.Bottom:t=o,n=i+Ed(s-i,u)}return[t,n]}function Sd(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ul.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,u=void 0===s?ul.Top:s,c=e.curvature,l=void 0===c?.25:c,f=_l(Od({pos:o,x1:t,y1:n,x2:i,y2:a,c:l}),2),d=f[0],h=f[1],p=_l(Od({pos:u,x1:i,y1:a,x2:t,y2:n,c:l}),2),v=p[0],y=p[1];return"M".concat(t,",").concat(n," C").concat(d,",").concat(h," ").concat(v,",").concat(y," ").concat(i,",").concat(a)}var xd=t.memo((function(e){var t=e.sourceX,n=e.sourceY,r=e.targetX,o=e.targetY,a=e.sourcePosition,s=void 0===a?ul.Bottom:a,u=e.targetPosition,c=void 0===u?ul.Top:u,l=e.label,f=e.labelStyle,d=e.labelShowBg,h=e.labelBgStyle,p=e.labelBgPadding,v=e.labelBgBorderRadius,y=e.style,g=e.markerEnd,m=e.markerStart,b={sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:c,curvature:e.curvature},w=Sd(b),_=function(e){var t=e.sourceX,n=e.sourceY,r=e.sourcePosition,o=void 0===r?ul.Bottom:r,i=e.targetX,a=e.targetY,s=e.targetPosition,u=void 0===s?ul.Top:s,c=e.curvature,l=void 0===c?.25:c,f=_l(Od({pos:o,x1:t,y1:n,x2:i,y2:a,c:l}),2),d=f[0],h=f[1],p=_l(Od({pos:u,x1:i,y1:a,x2:t,y2:n,c:l}),2),v=.125*t+.375*d+.375*p[0]+.125*i,y=.125*n+.375*h+.375*p[1]+.125*a;return[v,y,Math.abs(v-t),Math.abs(y-n)]}(b),E=_l(_,2),O=E[0],S=E[1];return i.default.createElement(ed,{path:w,centerX:O,centerY:S,label:l,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:v,style:y,markerEnd:g,markerStart:m})})),kd=t.createContext(null),Nd=kd.Provider;function Cd(e,t,n,r,o,i,a){var s=a.elementFromPoint(e.clientX,e.clientY),u=(null==s?void 0:s.classList.contains("target"))||!1,c=(null==s?void 0:s.classList.contains("source"))||!1,l={elementBelow:s,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(s&&(u||c)&&(l.isHoveringHandle=!0,t!==rl.Strict||(n&&c||!n&&u))){var f=s.getAttribute("data-nodeid"),d=s.getAttribute("data-handleid"),h=n?{source:f,sourceHandle:d,target:r,targetHandle:o}:{source:r,sourceHandle:o,target:f,targetHandle:d};l.connection=h,l.isValid=i(h)}return l}function Dd(e){null==e||e.classList.remove("react-flow__handle-valid"),null==e||e.classList.remove("react-flow__handle-connecting")}function jd(e,t,n,r,o,i,a,s,u,c,l,f,d){var h=e.target.closest(".react-flow"),p=xl(e.target);if(p){var v=p.elementFromPoint(e.clientX,e.clientY),y=null==v?void 0:v.classList.contains("target"),g=null==v?void 0:v.classList.contains("source");if(h&&(y||g||u)){var m,b=u||(y?"target":"source"),w=h.getBoundingClientRect();r({connectionPosition:{x:e.clientX-w.left,y:e.clientY-w.top},connectionNodeId:n,connectionHandleId:t,connectionHandleType:b}),null==l||l(e,{nodeId:n,handleId:t,handleType:b}),p.addEventListener("mousemove",_),p.addEventListener("mouseup",(function e(l){var h=Cd(l,s,i,n,t,a,p),v=h.connection,y=h.isValid;null==f||f(l),y&&(null==o||o(v)),null==d||d(l),u&&c&&c(l),Dd(m),r({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),p.removeEventListener("mousemove",_),p.removeEventListener("mouseup",e)}))}}function _(e){r({connectionPosition:{x:e.clientX-w.left,y:e.clientY-w.top}});var o=Cd(e,s,i,n,t,a,p),u=o.connection,c=o.elementBelow,l=o.isValid;if(!o.isHoveringHandle)return Dd(m);!(u.source===u.target)&&c&&(m=c,c.classList.add("react-flow__handle-connecting"),c.classList.toggle("react-flow__handle-valid",l))}}kd.Consumer;var Pd=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function Id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Id(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Md=function(){return!0},Ad=function(e){return{onConnectAction:e.onConnect,onConnectStart:e.onConnectStart,onConnectStop:e.onConnectStop,onConnectEnd:e.onConnectEnd,onClickConnectStart:e.onClickConnectStart,onClickConnectStop:e.onClickConnectStop,onClickConnectEnd:e.onClickConnectEnd,connectionMode:e.connectionMode,connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,hasDefaultEdges:e.hasDefaultEdges}},Rd=t.forwardRef((function(e,n){var r=e.type,o=void 0===r?"source":r,a=e.position,s=void 0===a?ul.Top:a,u=e.isValidConnection,c=void 0===u?Md:u,l=e.isConnectable,f=void 0===l||l,d=e.id,h=e.onConnect,p=e.children,v=e.className,y=e.onMouseDown,g=gf(e,Pd),m=pf(),b=t.useContext(kd),w=hf(Ad,yf),_=w.onConnectAction,E=w.onConnectStart,O=w.onConnectStop,S=w.onConnectEnd,x=w.onClickConnectStart,k=w.onClickConnectStop,N=w.onClickConnectEnd,C=w.connectionMode,D=w.connectionStartHandle,j=w.connectOnClick,P=w.hasDefaultEdges,I=d||null,T="target"===o,M=function(e){var t=Td(Td({},m.getState().defaultEdgeOptions),e);if(P){var n=m.getState().edges;m.setState({edges:Yl(t,n)})}null==_||_(t),null==h||h(t)},A=xf(["react-flow__handle","react-flow__handle-".concat(s),"nodrag",v,{source:!T,target:T,connectable:f,connecting:(null==D?void 0:D.nodeId)===b&&(null==D?void 0:D.handleId)===I&&(null==D?void 0:D.type)===o}]);return i.default.createElement("div",Td({"data-handleid":I,"data-nodeid":b,"data-handlepos":s,className:A,onMouseDown:function(e){0===e.button&&jd(e,I,b,m.setState,M,T,c,C,void 0,void 0,E,O,S),null==y||y(e)},onClick:j?function(e){if(!D)return null==x||x(e,{nodeId:b,handleId:I,handleType:o}),void m.setState({connectionStartHandle:{nodeId:b,type:o,handleId:I}});var t=xl(e.target),n=Cd(e,C,"target"===D.type,D.nodeId,D.handleId||null,c,t),r=n.connection,i=n.isValid;null==k||k(e),i&&M(r),null==N||N(e),m.setState({connectionStartHandle:null})}:void 0,ref:n},g),p)}));Rd.displayName="Handle";var Fd=t.memo(Rd),Ld=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,o=void 0===r?ul.Top:r,a=e.sourcePosition,s=void 0===a?ul.Bottom:a;return i.default.createElement(i.default.Fragment,null,i.default.createElement(Fd,{type:"target",position:o,isConnectable:n}),null==t?void 0:t.label,i.default.createElement(Fd,{type:"source",position:s,isConnectable:n}))};Ld.displayName="DefaultNode";var Vd=t.memo(Ld),zd=function(e){var t=e.data,n=e.isConnectable,r=e.sourcePosition,o=void 0===r?ul.Bottom:r;return i.default.createElement(i.default.Fragment,null,null==t?void 0:t.label,i.default.createElement(Fd,{type:"source",position:o,isConnectable:n}))};zd.displayName="InputNode";var qd=t.memo(zd),Bd=function(e){var t=e.data,n=e.isConnectable,r=e.targetPosition,o=void 0===r?ul.Top:r;return i.default.createElement(i.default.Fragment,null,i.default.createElement(Fd,{type:"target",position:o,isConnectable:n}),null==t?void 0:t.label)};Bd.displayName="OutputNode";var Qd=t.memo(Bd),Ud=function(e){return{selectedNodes:Array.from(e.nodeInternals.values()).filter((function(e){return e.selected})),selectedEdges:e.edges.filter((function(e){return e.selected}))}},Yd=function(e,t){var n=e.selectedNodes.map((function(e){return e.id})),r=t.selectedNodes.map((function(e){return e.id})),o=e.selectedEdges.map((function(e){return e.id})),i=t.selectedEdges.map((function(e){return e.id}));return yf(n,r)&&yf(o,i)};function Hd(e){var n=e.onSelectionChange,r=hf(Ud,Yd),o=r.selectedNodes,i=r.selectedEdges;return t.useEffect((function(){n({nodes:o,edges:i})}),[o,i]),null}var Wd=t.memo(Hd),Gd=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function Xd(e,n){t.useEffect((function(){void 0!==e&&n(e)}),[e])}function Kd(e,n,r){t.useEffect((function(){void 0!==n&&r(ml({},e,n))}),[n])}var $d=function(e){var n=e.nodes,r=e.edges,o=e.defaultNodes,i=e.defaultEdges,a=e.onConnect,s=e.onConnectStart,u=e.onConnectStop,c=e.onConnectEnd,l=e.onClickConnectStart,f=e.onClickConnectStop,d=e.onClickConnectEnd,h=e.nodesDraggable,p=e.nodesConnectable,v=e.minZoom,y=e.maxZoom,g=e.nodeExtent,m=e.onNodesChange,b=e.onEdgesChange,w=e.elementsSelectable,_=e.connectionMode,E=e.snapGrid,O=e.snapToGrid,S=e.translateExtent,x=e.connectOnClick,k=e.defaultEdgeOptions,N=e.fitView,C=e.fitViewOptions,D=e.onNodesDelete,j=e.onEdgesDelete,P=hf(Gd,yf),I=P.setNodes,T=P.setEdges,M=P.setDefaultNodesAndEdges,A=P.setMinZoom,R=P.setMaxZoom,F=P.setTranslateExtent,L=P.setNodeExtent,V=P.reset,z=pf();return t.useEffect((function(){return M(o,i),function(){V()}}),[]),Kd("defaultEdgeOptions",k,z.setState),Kd("connectionMode",_,z.setState),Kd("onConnect",a,z.setState),Kd("onConnectStart",s,z.setState),Kd("onConnectStop",u,z.setState),Kd("onConnectEnd",c,z.setState),Kd("onClickConnectStart",l,z.setState),Kd("onClickConnectStop",f,z.setState),Kd("onClickConnectEnd",d,z.setState),Kd("nodesDraggable",h,z.setState),Kd("nodesConnectable",p,z.setState),Kd("elementsSelectable",w,z.setState),Kd("snapToGrid",O,z.setState),Kd("snapGrid",E,z.setState),Kd("onNodesChange",m,z.setState),Kd("onEdgesChange",b,z.setState),Kd("connectOnClick",x,z.setState),Kd("fitViewOnInit",N,z.setState),Kd("fitViewOnInitOptions",C,z.setState),Kd("onNodesDelete",D,z.setState),Kd("onEdgesDelete",j,z.setState),Xd(n,I),Xd(r,T),Xd(o,I),Xd(i,T),Xd(v,A),Xd(y,R),Xd(S,F),Xd(g,L),null},Zd=function(e,t,n){return n===ul.Left?e-t:n===ul.Right?e+t:e},Jd=function(e,t,n){return n===ul.Top?e-t:n===ul.Bottom?e+t:e},eh=function(e){var t=e.className,n=e.position,r=e.centerX,o=e.centerY,a=e.radius,s=void 0===a?10:a;return i.default.createElement("circle",{className:xf(["react-flow__edgeupdater",t]),cx:Zd(r,s,n),cy:Jd(o,s,n),r:s,stroke:"transparent",fill:"transparent"})},th=function(e){return{addSelectedEdges:e.addSelectedEdges,connectionMode:e.connectionMode}},nh=function(e){var n=function(n){var r=n.id,o=n.className,a=n.type,s=n.data,u=n.onClick,c=n.onEdgeDoubleClick,l=n.selected,f=n.animated,d=n.label,h=n.labelStyle,p=n.labelShowBg,v=n.labelBgStyle,y=n.labelBgPadding,g=n.labelBgBorderRadius,m=n.style,b=n.source,w=n.target,_=n.sourceX,E=n.sourceY,O=n.targetX,S=n.targetY,x=n.sourcePosition,k=n.targetPosition,N=n.elementsSelectable,C=n.hidden,D=n.sourceHandleId,j=n.targetHandleId,P=n.onContextMenu,I=n.onMouseEnter,T=n.onMouseMove,M=n.onMouseLeave,A=n.edgeUpdaterRadius,R=n.onEdgeUpdate,F=n.onEdgeUpdateStart,L=n.onEdgeUpdateEnd,V=n.markerEnd,z=n.markerStart,q=n.rfId,B=_l(t.useState(!1),2),Q=B[0],U=B[1],Y=hf(th,yf),H=Y.addSelectedEdges,W=Y.connectionMode,G=pf(),X=sd(r,G.getState,c),K=sd(r,G.getState,P),$=sd(r,G.getState,I),Z=sd(r,G.getState,T),J=sd(r,G.getState,M),ee=function(e,t){var n=t?w:b,o=(t?j:D)||null,i=t?"target":"source",a=t,s=G.getState().edges.find((function(e){return e.id===r}));null==F||F(e,s,i);var u=L?function(e){return L(e,s,i)}:void 0;jd(e,o,n,G.setState,(function(e){var t=G.getState().edges.find((function(e){return e.id===r}));t&&R&&R(t,e)}),a,(function(){return!0}),W,i,u,G.getState)},te=function(){return U(!0)},ne=function(){return U(!1)},re=t.useMemo((function(){return"url(#".concat(Ul(z,q),")")}),[z,q]),oe=t.useMemo((function(){return"url(#".concat(Ul(V,q),")")}),[V,q]);if(C)return null;var ie=!N&&!u,ae=void 0!==R,se=xf(["react-flow__edge","react-flow__edge-".concat(a),o,{selected:l,animated:f,inactive:ie,updating:Q}]);return i.default.createElement("g",{className:se,onClick:function(e){var t=G.getState().edges.find((function(e){return e.id===r}));N&&(G.setState({nodesSelectionActive:!1}),H([r])),null==u||u(e,t)},onDoubleClick:X,onContextMenu:K,onMouseEnter:$,onMouseMove:Z,onMouseLeave:J},i.default.createElement(e,{id:r,source:b,target:w,selected:l,animated:f,label:d,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:y,labelBgBorderRadius:g,data:s,style:m,sourceX:_,sourceY:E,targetX:O,targetY:S,sourcePosition:x,targetPosition:k,sourceHandleId:D,targetHandleId:j,markerStart:re,markerEnd:oe}),ae&&i.default.createElement("g",{onMouseDown:function(e){return ee(e,!0)},onMouseEnter:te,onMouseOut:ne},i.default.createElement(eh,{position:x,centerX:_,centerY:E,radius:A})),ae&&i.default.createElement("g",{onMouseDown:function(e){return ee(e,!1)},onMouseEnter:te,onMouseOut:ne},i.default.createElement(eh,{position:k,centerX:O,centerY:S,radius:A})))};return n.displayName="EdgeWrapper",t.memo(n)};function rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rh(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ih(e){var t={default:nh(e.default||xd),straight:nh(e.bezier||_d),step:nh(e.step||wd),smoothstep:nh(e.step||gd),simplebezier:nh(e.simplebezier||rd)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=nh(e[n]||xd),t}),{});return oh(oh({},t),n)}function ah(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=((null==n?void 0:n.x)||0)+t.x,o=((null==n?void 0:n.y)||0)+t.y,i=(null==n?void 0:n.width)||t.width,a=(null==n?void 0:n.height)||t.height;switch(e){case ul.Top:return{x:r+i/2,y:o};case ul.Right:return{x:r+i,y:o+a/2};case ul.Bottom:return{x:r+i/2,y:o+a};case ul.Left:return{x:r,y:o+a/2}}}function sh(e,t){if(!e)return null;var n=null;return 1!==e.length&&t?t&&(n=e.find((function(e){return e.id===t}))):n=e[0],void 0===n?null:n}function uh(e,t){var n,r,o,i,a,s=e.get(t),u=(null==s||null===(n=s[jl])||void 0===n?void 0:n.handleBounds)||null,c=!(s&&u&&s.width&&s.height&&void 0!==(null===(r=s.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==(null===(o=s.positionAbsolute)||void 0===o?void 0:o.y));return[{x:(null==s||null===(i=s.positionAbsolute)||void 0===i?void 0:i.x)||0,y:(null==s||null===(a=s.positionAbsolute)||void 0===a?void 0:a.y)||0,width:(null==s?void 0:s.width)||0,height:(null==s?void 0:s.height)||0},u,!c]}var ch="undefined"!=typeof document?document:null,lh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:ch},r=t.useState(!1),o=_l(r,2),i=o[0],a=o[1],s=t.useRef(new Set([])),u=t.useMemo((function(){if(null!==e){var t=(Array.isArray(e)?e:[e]).filter((function(e){return"string"==typeof e})).map((function(e){return e.split("+")})),n=t.reduce((function(e,t){return e.concat.apply(e,mf(t))}),[]);return[t,n]}return[[],[]]}),[e]),c=_l(u,2),l=c[0],f=c[1];return t.useEffect((function(){if(null!==e){var t,r,o=function(e){if(hh(e))return!1;var t=dh(e.code,f);s.current.add(e[t]),fh(l,s.current,!1)&&(e.preventDefault(),a(!0))},i=function(e){if(hh(e))return!1;var t=dh(e.code,f);fh(l,s.current,!0)?(a(!1),s.current.clear()):s.current.delete(e[t])},u=function(){s.current.clear(),a(!1)};return null==n||null===(t=n.target)||void 0===t||t.addEventListener("keydown",o),null==n||null===(r=n.target)||void 0===r||r.addEventListener("keyup",i),window.addEventListener("blur",u),function(){var e,t;null==n||null===(e=n.target)||void 0===e||e.removeEventListener("keydown",o),null==n||null===(t=n.target)||void 0===t||t.removeEventListener("keyup",i),window.removeEventListener("blur",u)}}}),[e,a]),i};function fh(e,t,n){return e.filter((function(e){return n||e.length===t.size})).some((function(e){return e.every((function(e){return t.has(e)}))}))}function dh(e,t){return t.includes(e)?"code":"key"}function hh(e){var t=e.target;return["INPUT","SELECT","TEXTAREA"].includes(null==t?void 0:t.nodeName)||(null==t?void 0:t.hasAttribute("contenteditable"))}var ph=function(e){return{onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange}};var vh=function(e){return{x:e.x,y:e.y,zoom:e.k}},yh=function(e,t){return e.target.closest(".".concat(t))},gh=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler}},mh=function(e){var n=e.onMove,r=e.onMoveStart,o=e.onMoveEnd,a=e.zoomOnScroll,s=void 0===a||a,u=e.zoomOnPinch,c=void 0===u||u,l=e.panOnScroll,f=void 0!==l&&l,d=e.panOnScrollSpeed,h=void 0===d?.5:d,p=e.panOnScrollMode,v=void 0===p?il.Free:p,y=e.zoomOnDoubleClick,g=void 0===y||y,m=e.selectionKeyPressed,b=e.elementsSelectable,w=e.panOnDrag,_=void 0===w||w,E=e.defaultPosition,O=void 0===E?[0,0]:E,S=e.defaultZoom,x=void 0===S?1:S,k=e.zoomActivationKeyCode,N=e.preventScrolling,C=void 0===N||N,D=e.children,j=e.noWheelClassName,P=e.noPanClassName,I=pf(),T=t.useRef(null),M=t.useRef({x:0,y:0,zoom:0}),A=hf(gh,yf),R=A.d3Zoom,F=A.d3Selection,L=A.d3ZoomHandler,V=lh(k);return function(e){var n=pf();t.useEffect((function(){var t,r=function(){if(e.current){var t=El(e.current);"development"===process.env.NODE_ENV&&(0!==t.height&&0!==t.width||console.warn("[React Flow]: The React Flow parent container needs a width and a height to render the graph. Help: https://reactflow.dev/error#400")),n.setState({width:t.width||500,height:t.height||500})}};return r(),window.onresize=r,e.current&&(t=new ResizeObserver((function(){return r()}))).observe(e.current),function(){window.onresize=null,t&&e.current&&t.unobserve(e.current)}}),[])}(T),t.useEffect((function(){if(T.current){var e=I.getState(),t=e.minZoom,n=e.maxZoom,r=e.translateExtent,o=function(){var e,t,n,r=dl,o=hl,i=gl,a=vl,s=yl,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,f=Hu,d=zi("start","zoom","end"),h=500,p=0,v=10;function y(e){e.property("__zoom",pl).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",x).filter(s).on("touchstart.zoom",k).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new nl(t,e.x,e.y)}function m(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new nl(e.k,r,o)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,a=_(e,i).event(r),s=o.apply(e,i),u=null==n?b(s):"function"==typeof n?n.apply(e,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=e.__zoom,d="function"==typeof t?t.apply(e,i):t,h=f(l.invert(u).concat(c/l.k),d.invert(u).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=c/t[2];e=new nl(n,u[0]-t[0]*n,u[1]-t[1]*n)}a.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new E(e,t)}function E(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function O(e,...t){if(r.apply(this,arguments)){var n=_(this,t).event(e),o=this.__zoom,s=Math.max(u[0],Math.min(u[1],o.k*Math.pow(2,a.apply(this,arguments)))),l=us(e);if(n.wheel)n.mouse[0][0]===l[0]&&n.mouse[0][1]===l[1]||(n.mouse[1]=o.invert(n.mouse[0]=l)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[l,o.invert(l)],mc(this),n.start()}fl(e),n.wheel=setTimeout(f,150),n.zoom("mouse",i(m(g(o,s),n.mouse[0],n.mouse[1]),n.extent,c))}function f(){n.wheel=null,n.end()}}function S(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,a=_(this,t,!0).event(e),s=is(e.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",h,!0),u=us(e,o),l=e.clientX,f=e.clientY;hs(e.view),ll(e),a.mouse=[u,this.__zoom.invert(u)],mc(this),a.start()}function d(e){if(fl(e),!a.moved){var t=e.clientX-l,n=e.clientY-f;a.moved=t*t+n*n>p}a.event(e).zoom("mouse",i(m(a.that.__zoom,a.mouse[0]=us(e,o),a.mouse[1]),a.extent,c))}function h(e){s.on("mousemove.zoom mouseup.zoom",null),ps(e.view,a.moved),fl(e),a.event(e).end()}}function x(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=us(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),u=n.k*(e.shiftKey?.5:2),f=i(m(g(n,u),a,s),o.apply(this,t),c);fl(e),l>0?is(this).transition().duration(l).call(w,f,a,e):is(this).call(y.transform,f,a,e)}}function k(n,...o){if(r.apply(this,arguments)){var i,a,s,u,c=n.touches,l=c.length,f=_(this,o,n.changedTouches.length===l).event(n);for(ll(n),a=0;a<l;++a)u=[u=us(s=c[a],this),this.__zoom.invert(u),s.identifier],f.touch0?f.touch1||f.touch0[2]===u[2]||(f.touch1=u,f.taps=0):(f.touch0=u,i=!0,f.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(f.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),h)),mc(this),f.start())}}function N(e,...t){if(this.__zooming){var n,r,o,a,s=_(this,t).event(e),u=e.changedTouches,l=u.length;for(fl(e),n=0;n<l;++n)o=us(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var f=s.touch0[0],d=s.touch0[1],h=s.touch1[0],p=s.touch1[1],v=(v=h[0]-f[0])*v+(v=h[1]-f[1])*v,y=(y=p[0]-d[0])*y+(y=p[1]-d[1])*y;r=g(r,Math.sqrt(v/y)),o=[(f[0]+h[0])/2,(f[1]+h[1])/2],a=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(m(r,o,a),s.extent,c))}}function C(e,...r){if(this.__zooming){var o,i,a=_(this,r).event(e),s=e.changedTouches,u=s.length;for(ll(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),o=0;o<u;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=us(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<v)){var c=is(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return y.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",pl),e!==o?w(e,t,n,r):o.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},y.scaleBy=function(e,t,n,r){y.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},y.scaleTo=function(e,t,n,r){y.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof t?t.apply(this,arguments):t;return i(m(g(r,u),a,s),e,c)}),n,r)},y.translateBy=function(e,t,n,r){y.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)}),null,r)},y.translateTo=function(e,t,n,r,a){y.transform(e,(function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return i(cl.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,a)},E.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=is(this.that).datum();d.call(e,this.that,new tl(e,{sourceEvent:this.sourceEvent,target:y,type:e,transform:this.that.__zoom,dispatch:d}),t)}},y.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:el(+e),y):a},y.filter=function(e){return arguments.length?(r="function"==typeof e?e:el(!!e),y):r},y.touchable=function(e){return arguments.length?(s="function"==typeof e?e:el(!!e),y):s},y.extent=function(e){return arguments.length?(o="function"==typeof e?e:el([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),y):o},y.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],y):[u[0],u[1]]},y.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(e){return arguments.length?(i=e,y):i},y.duration=function(e){return arguments.length?(l=+e,y):l},y.interpolate=function(e){return arguments.length?(f=e,y):f},y.on=function(){var e=d.on.apply(d,arguments);return e===d?y:e},y.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,y):Math.sqrt(p)},y.tapDistance=function(e){return arguments.length?(v=+e,y):v},y}().scaleExtent([t,n]).translateExtent(r),i=is(T.current).call(o),a=Ol(O[0],r[0][0],r[1][0]),s=Ol(O[1],r[0][1],r[1][1]),u=Ol(x,t,n),c=cl.translate(a,s).scale(u);o.transform(i,c),I.setState({d3Zoom:o,d3Selection:i,d3ZoomHandler:i.on("wheel.zoom"),transform:[a,s,u]})}}),[]),t.useEffect((function(){F&&R&&(f&&!V?F.on("wheel",(function(e){if(yh(e,j))return!1;e.preventDefault(),e.stopImmediatePropagation();var t=F.property("__zoom").k||1;if(e.ctrlKey&&c){var n=us(e),r=-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10,o=t*Math.pow(2,r);R.scaleTo(F,o,n)}else{var i=1===e.deltaMode?20:1,a=v===il.Vertical?0:e.deltaX*i,s=v===il.Horizontal?0:e.deltaY*i;R.translateBy(F,-a/t*h,-s/t*h)}})).on("wheel.zoom",null):void 0!==L&&F.on("wheel",(function(e){if(!C||yh(e,j))return null;e.preventDefault()})).on("wheel.zoom",L))}),[f,v,F,R,L,V,c,C,j]),t.useEffect((function(){R&&(m?R.on("zoom",null):R.on("zoom",(function(e){if(I.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),n){var t=vh(e.transform);n(e.sourceEvent,t)}})))}),[m,R,n]),t.useEffect((function(){R&&(r?R.on("start",(function(e){var t=vh(e.transform);M.current=t,r(e.sourceEvent,t)})):R.on("start",null))}),[R,r]),t.useEffect((function(){R&&(o?R.on("end",(function(e){if(n=M.current,r=e.transform,n.x!==r.x||n.y!==r.y||n.zoom!==r.k){var t=vh(e.transform);M.current=t,o(e.sourceEvent,t)}var n,r})):R.on("end",null))}),[R,o]),t.useEffect((function(){R&&R.filter((function(e){var t=V||s,n=c&&e.ctrlKey;return!!(_||t||f||g||c)&&(!m&&(!(!g&&"dblclick"===e.type)&&((!yh(e,j)||"wheel"!==e.type)&&((!yh(e,P)||"wheel"===e.type)&&(!(!c&&e.ctrlKey&&"wheel"===e.type)&&(!!(t||f||n||"wheel"!==e.type)&&(!!(_||"mousedown"!==e.type&&"touchstart"!==e.type)&&!(e.ctrlKey&&"wheel"!==e.type||e.button))))))))}))}),[R,s,c,f,g,_,m,b,V]),i.default.createElement("div",{className:"react-flow__renderer react-flow__container",ref:T},D)};function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _h(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}var Eh=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable}},Oh={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},Sh=t.memo((function(e){var n=e.selectionKeyPressed,r=pf(),o=t.useRef(0),a=t.useRef(0),s=t.useRef(),u=_l(t.useState(Oh),2),c=u[0],l=u[1],f=hf(Eh,yf),d=f.userSelectionActive;if(!f.elementsSelectable||!(d||n))return null;var h=function(){l(Oh),r.setState({userSelectionActive:!1}),o.current=0,a.current=0};return i.default.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:function(e){var t=e.target.closest(".react-flow");s.current=t.getBoundingClientRect();var n=_h(e,s.current);l({width:0,height:0,startX:n.x,startY:n.y,x:n.x,y:n.y,draw:!0}),r.setState({userSelectionActive:!0,nodesSelectionActive:!1})},onMouseMove:function(e){var t,i;if(n&&c.draw&&s.current){var u=_h(e,s.current),f=null!==(t=c.startX)&&void 0!==t?t:0,d=null!==(i=c.startY)&&void 0!==i?i:0,h=wh(wh({},c),{},{x:u.x<f?u.x:f,y:u.y<d?u.y:d,width:Math.abs(u.x-f),height:Math.abs(u.y-d)}),p=r.getState(),v=p.nodeInternals,y=p.edges,g=p.transform,m=p.onNodesChange,b=p.onEdgesChange,w=Array.from(v.values()),_=Gl(v,h,g,!1,!0),E=Xl(_,y).map((function(e){return e.id})),O=_.map((function(e){return e.id}));if(o.current!==O.length){o.current=O.length;var S=Rl(w,O);S.length&&(null==m||m(S))}if(a.current!==E.length){a.current=E.length;var x=Rl(y,E);x.length&&(null==b||b(x))}l(h)}},onMouseUp:function(){r.setState({nodesSelectionActive:o.current>0}),h()},onMouseLeave:function(){r.setState({nodesSelectionActive:!1}),h()}},c.draw&&i.default.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:c.width,height:c.height,transform:"translate(".concat(c.x,"px, ").concat(c.y,"px)")}}))}));function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kh(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return!!n&&(!!n.selected||kh(n,t))}function Nh(e,t,n){var r=e;do{var o;if(null!==(o=r)&&void 0!==o&&o.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Ch(e,t,n){return Array.from(e.values()).filter((function(t){return(t.selected||t.id===n)&&(!t.parentNode||!kh(t,e))})).map((function(e){var n,r,o,i;return{id:e.id,position:e.positionAbsolute||{x:0,y:0},distance:{x:t.x-(null!==(n=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==n?n:0),y:t.y-(null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==o?o:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode,width:e.width,height:e.height}}))}function Dh(e){var t=e.nodeId,n=e.dragItems,r=e.nodeInternals,o=n.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xh(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.get(e.id))}));return[t?o.find((function(e){return e.id===t})):o[0],o]}function jh(e){var n=e.onStart,r=e.onDrag,o=e.onStop,i=e.nodeRef,a=e.disabled,s=void 0!==a&&a,u=e.noDragClassName,c=e.handleSelector,l=e.nodeId,f=e.isSelectable,d=e.selectNodesOnDrag,h=_l(t.useState(!1),2),p=h[0],v=h[1],y=pf(),g=t.useRef(),m=t.useRef({x:null,y:null}),b=t.useCallback((function(e){var t=e.sourceEvent,n=y.getState(),r=n.transform,o=n.snapGrid,i=n.snapToGrid,a=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY;return Hl({x:a,y:s},r,i,o)}),[]);return t.useEffect((function(){if(null!=i&&i.current){var e=is(i.current);if(!s){var t=function(){var e,t,n,r,o=gs,i=ms,a=bs,s=ws,u={},c=zi("start","drag","end"),l=0,f=0;function d(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",y).on("touchmove.drag",g,cs).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!r&&o.call(this,a,s)){var u=b(this,i.call(this,a,s),a,s,"mouse");u&&(is(a.view).on("mousemove.drag",p,ls).on("mouseup.drag",v,ls),hs(a.view),fs(a),n=!1,e=a.clientX,t=a.clientY,u("start",a))}}function p(r){if(ds(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>f}u.mouse("drag",r)}function v(e){is(e.view).on("mousemove.drag mouseup.drag",null),ps(e.view,n),ds(e),u.mouse("end",e)}function y(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),u=a.length;for(n=0;n<u;++n)(r=b(this,s,e,t,a[n].identifier,a[n]))&&(fs(e),r("start",e,a[n]))}}function g(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=u[r[t].identifier])&&(ds(e),n("drag",e,r[t]))}function m(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=u[o[t].identifier])&&(fs(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var s,f,h,p=c.copy(),v=us(i||n,t);if(null!=(h=a.call(e,new ys("beforestart",{sourceEvent:n,target:d,identifier:o,active:l,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-v[0]||0,f=h.y-v[1]||0,function n(i,a,c){var y,g=v;switch(i){case"start":u[o]=n,y=l++;break;case"end":delete u[o],--l;case"drag":v=us(c||a,t),y=l}p.call(i,e,new ys(i,{sourceEvent:a,subject:h,target:d,identifier:o,active:y,x:v[0]+s,y:v[1]+f,dx:v[0]-g[0],dy:v[1]-g[1],dispatch:p}),r)}}return d.filter=function(e){return arguments.length?(o="function"==typeof e?e:vs(!!e),d):o},d.container=function(e){return arguments.length?(i="function"==typeof e?e:vs(e),d):i},d.subject=function(e){return arguments.length?(a="function"==typeof e?e:vs(e),d):a},d.touchable=function(e){return arguments.length?(s="function"==typeof e?e:vs(!!e),d):s},d.on=function(){var e=c.on.apply(c,arguments);return e===c?d:e},d.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,d):Math.sqrt(f)},d}().on("start",(function(e){var t,r=y.getState(),o=r.nodeInternals,i=r.multiSelectionActive,a=r.unselectNodesAndEdges;d||i||!l||(null!==(t=o.get(l))&&void 0!==t&&t.selected||a());l&&f&&d&&ql({id:l,store:y});var s=b(e);if(g.current=Ch(o,s,l),n&&g.current){var u=_l(Dh({nodeId:l,dragItems:g.current,nodeInternals:o}),2),c=u[0],h=u[1];n(e.sourceEvent,c,h)}})).on("drag",(function(e){var t=y.getState(),n=t.updateNodePositions,i=t.nodeInternals,a=t.nodeExtent,s=b(e);if((m.current.x!==s.x||m.current.y!==s.y)&&g.current&&(m.current=s,g.current=g.current.map((function(e){return function(e,t,n,r){var o=e.extent||r,i={x:t.x-e.distance.x,y:t.y-e.distance.y};if("parent"===e.extent)if(e.parentNode&&e.width&&e.height){var a=n.get(e.parentNode);o=null!=a&&a.positionAbsolute&&null!=a&&a.width&&null!=a&&a.height?[[a.positionAbsolute.x,a.positionAbsolute.y],[a.positionAbsolute.x+a.width-e.width,a.positionAbsolute.y+a.height-e.height]]:o}else"development"===process.env.NODE_ENV&&console.warn("[React Flow]: Only child nodes can use a parent extent. Help: https://reactflow.dev/error#500"),o=r;else if(e.extent&&e.parentNode){var s,u,c,l,f=n.get(e.parentNode),d=null!==(s=null==f||null===(u=f.positionAbsolute)||void 0===u?void 0:u.x)&&void 0!==s?s:0,h=null!==(c=null==f||null===(l=f.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==c?c:0;o=[[e.extent[0][0]+d,e.extent[0][1]+h],[e.extent[1][0]+d,e.extent[1][1]+h]]}return e.position=o?Sl(i,o):i,e}(e,s,i,a)})),n(g.current,!0,!0),v(!0),r)){var u=_l(Dh({nodeId:l,dragItems:g.current,nodeInternals:i}),2),c=u[0],f=u[1];r(e.sourceEvent,c,f)}e.on("end",(function(e){if(v(!1),g.current&&(n(g.current,!1,!1),o)){var t=_l(Dh({nodeId:l,dragItems:g.current,nodeInternals:i}),2),r=t[0],a=t[1];o(e.sourceEvent,r,a)}}))})).filter((function(e){var t=e.target;return!e.button&&(!u||!Nh(t,".".concat(u),i))&&(!c||Nh(t,c,i))}));return e.call(t),function(){e.on(".drag",null)}}e.on(".drag",null)}}),[n,r,o,i,s,u,c,f,y,l,d,b]),p}var Ph=function(e){return{transform:e.transform,userSelectionActive:e.userSelectionActive}},Ih=function(e){var t=Array.from(e.nodeInternals.values()).filter((function(e){return e.selected}));return Wl(t)};function Th(e){return t.useCallback((function(t,n,r){return null==e?void 0:e(t,r)}),[e])}function Mh(e){var n=e.onSelectionDragStart,r=e.onSelectionDrag,o=e.onSelectionDragStop,a=e.onSelectionContextMenu,s=e.noPanClassName,u=pf(),c=hf(Ph,yf),l=c.transform,f=c.userSelectionActive,d=hf(Ih,yf),h=d.width,p=d.height,v=d.x,y=d.y,g=t.useRef(null);if(jh({onStart:Th(n),onDrag:Th(r),onStop:Th(o),nodeRef:g}),f||!h||!p)return null;var m=a?function(e){var t=Array.from(u.getState().nodeInternals.values()).filter((function(e){return e.selected}));a(e,t)}:void 0;return i.default.createElement("div",{className:xf(["react-flow__nodesselection","react-flow__container",s]),style:{transform:"translate(".concat(l[0],"px,").concat(l[1],"px) scale(").concat(l[2],")")}},i.default.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,style:{width:h,height:p,top:y,left:v}}))}var Ah=t.memo(Mh),Rh=function(e){return{resetSelectedElements:e.resetSelectedElements,nodesSelectionActive:e.nodesSelectionActive}},Fh=function(e){var n=e.children,r=e.onPaneClick,o=e.onPaneContextMenu,a=e.onPaneScroll,s=e.deleteKeyCode,u=e.onMove,c=e.onMoveStart,l=e.onMoveEnd,f=e.selectionKeyCode,d=e.multiSelectionKeyCode,h=e.zoomActivationKeyCode,p=e.elementsSelectable,v=e.zoomOnScroll,y=e.zoomOnPinch,g=e.panOnScroll,m=e.panOnScrollSpeed,b=e.panOnScrollMode,w=e.zoomOnDoubleClick,_=e.panOnDrag,E=e.defaultPosition,O=e.defaultZoom,S=e.preventScrolling,x=e.onSelectionDragStart,k=e.onSelectionDrag,N=e.onSelectionDragStop,C=e.onSelectionContextMenu,D=e.noWheelClassName,j=e.noPanClassName,P=pf(),I=hf(Rh,yf),T=I.resetSelectedElements,M=I.nodesSelectionActive,A=lh(f);!function(e){var n=e.deleteKeyCode,r=e.multiSelectionKeyCode,o=pf(),i=hf(ph,yf),a=i.onNodesChange,s=i.onEdgesChange,u=lh(n),c=lh(r);t.useEffect((function(){var e=o.getState(),t=e.nodeInternals,n=e.edges,r=e.hasDefaultNodes,i=e.hasDefaultEdges,c=e.onNodesDelete,l=e.onEdgesDelete,f=Array.from(t.values()).reduce((function(e,t){return(!t.selected&&t.parentNode&&e.find((function(e){return e.id===t.parentNode}))||t.selected)&&e.push(t),e}),[]),d=n.filter((function(e){return e.selected}));if(u&&(f||d)){var h=Xl(f,n),p=[].concat(mf(d),mf(h)),v=p.reduce((function(e,t){return e.includes(t.id)||e.push(t.id),e}),[]);if((i||r)&&(i&&o.setState({edges:n.filter((function(e){return!v.includes(e.id)}))}),r&&(f.forEach((function(e){t.delete(e.id)})),o.setState({nodeInternals:new Map(t)}))),v.length>0&&(null==l||l(p),s)){var y=v.map((function(e){return{id:e,type:"remove"}}));s(y)}if(f.length>0&&(null==c||c(f),a)){var g=f.map((function(e){return{id:e.id,type:"remove"}}));a(g)}o.setState({nodesSelectionActive:!1})}}),[u,a,s]),t.useEffect((function(){o.setState({multiSelectionActive:c})}),[c])}({deleteKeyCode:s,multiSelectionKeyCode:d});return i.default.createElement(mh,{onMove:u,onMoveStart:c,onMoveEnd:l,selectionKeyPressed:A,elementsSelectable:p,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:g,panOnScrollSpeed:m,panOnScrollMode:b,zoomOnDoubleClick:w,panOnDrag:_,defaultPosition:E,defaultZoom:O,zoomActivationKeyCode:h,preventScrolling:S,noWheelClassName:D,noPanClassName:j},n,i.default.createElement(Sh,{selectionKeyPressed:A}),M&&i.default.createElement(Ah,{onSelectionDragStart:x,onSelectionDrag:k,onSelectionDragStop:N,onSelectionContextMenu:C,noPanClassName:j}),i.default.createElement("div",{className:"react-flow__pane react-flow__container",onClick:function(e){null==r||r(e),T(),P.setState({nodesSelectionActive:!1})},onContextMenu:function(e){return null==o?void 0:o(e)},onWheel:function(e){return null==a?void 0:a(e)}}))};Fh.displayName="FlowRenderer";var Lh=t.memo(Fh);var Vh=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions}},zh=function(e){var n,r=hf(Vh,yf),o=r.nodesDraggable,a=r.nodesConnectable,s=r.elementsSelectable,u=r.updateNodeDimensions,c=(n=e.onlyRenderVisibleElements,hf(t.useCallback((function(e){return n?Gl(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):Array.from(e.nodeInternals.values())}),[n]))),l=t.useRef(),f=t.useMemo((function(){if("undefined"==typeof ResizeObserver)return null;var e=new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}}));u(t)}));return l.current=e,e}),[]);return t.useEffect((function(){return function(){var e;null==l||null===(e=l.current)||void 0===e||e.disconnect()}}),[]),i.default.createElement("div",{className:"react-flow__nodes react-flow__container"},c.map((function(t){var n,r,u,c,l,d,h,p=t.type||"default";e.nodeTypes[p]||("development"===process.env.NODE_ENV&&console.warn('[React Flow]: Node type "'.concat(p,'" not found. Using fallback type "default". Help: https://reactflow.dev/error#300')),p="default");var v=e.nodeTypes[p]||e.nodeTypes.default,y=!!(t.draggable||o&&void 0===t.draggable),g=!!(t.selectable||s&&void 0===t.selectable),m=!!(t.connectable||a&&void 0===t.connectable);return i.default.createElement(v,{key:t.id,id:t.id,className:t.className,style:t.style,type:p,data:t.data,sourcePosition:t.sourcePosition||ul.Bottom,targetPosition:t.targetPosition||ul.Top,hidden:t.hidden,xPos:null!==(n=null===(r=t.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==n?n:0,yPos:null!==(u=null===(c=t.positionAbsolute)||void 0===c?void 0:c.y)&&void 0!==u?u:0,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,onDragStart:e.onNodeDragStart,onDrag:e.onNodeDrag,onDragStop:e.onNodeDragStop,selected:!!t.selected,isDraggable:y,isSelectable:g,isConnectable:m,resizeObserver:f,dragHandle:t.dragHandle,zIndex:null!==(l=null===(d=t[jl])||void 0===d?void 0:d.z)&&void 0!==l?l:0,isParent:!(null===(h=t[jl])||void 0===h||!h.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height})})))};zh.displayName="NodeRenderer";var qh=t.memo(zh);function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uh,Yh=function(e){return{nodeInternals:e.nodeInternals,transform:e.transform}},Hh=function(e){var n,r,o,a,s,u,c,l,f=e.connectionNodeId,d=e.connectionHandleId,h=e.connectionHandleType,p=e.connectionLineStyle,v=e.connectionPositionX,y=e.connectionPositionY,g=e.connectionLineType,m=void 0===g?al.Bezier:g,b=e.isConnectable,w=e.CustomConnectionLineComponent,_=f,E=d,O=hf(Yh,yf),S=O.nodeInternals,x=O.transform,k=t.useRef(S.get(_)),N=null===(n=k.current)||void 0===n||null===(r=n[jl])||void 0===r?void 0:r.handleBounds;if(!k.current||!b||null==N||!N[h])return null;var C,D,j,P,I,T,M,A=N[h],R=E?null==A?void 0:A.find((function(e){return e.id===E})):null==A?void 0:A[0],F=R?R.x+R.width/2:(null!==(o=null===(a=k.current)||void 0===a?void 0:a.width)&&void 0!==o?o:0)/2,L=R?R.y+R.height/2:null!==(s=null===(u=k.current)||void 0===u?void 0:u.height)&&void 0!==s?s:0,V=((null===(c=k.current.positionAbsolute)||void 0===c?void 0:c.x)||0)+F,z=((null===(l=k.current.positionAbsolute)||void 0===l?void 0:l.y)||0)+L,q=(v-x[0])/x[2],B=(y-x[1])/x[2],Q=null==R?void 0:R.position;switch(Q){case ul.Left:C=ul.Right;break;case ul.Right:C=ul.Left;break;case ul.Top:C=ul.Bottom;break;case ul.Bottom:C=ul.Top}switch(h){case"source":D=V,j=z,P=Q,I=q,T=B,M=C;break;case"target":D=q,j=B,P=C,I=V,T=z,M=Q}if(w)return i.default.createElement("g",{className:"react-flow__connection"},i.default.createElement(w,{sourceX:D,sourceY:j,sourcePosition:P,targetX:I,targetY:T,targetPosition:M,connectionLineType:m,connectionLineStyle:p,fromNode:k.current,fromHandle:R,sourceNode:k.current,sourceHandle:R}));var U="",Y={sourceX:D,sourceY:j,sourcePosition:P,targetX:I,targetY:T,targetPosition:M};return U=m===al.Bezier?Sd(Y):m===al.Step?yd(Qh(Qh({},Y),{},{borderRadius:0})):m===al.SmoothStep?yd(Y):m===al.SimpleBezier?nd(Y):"M".concat(D,",").concat(j," ").concat(I,",").concat(T),i.default.createElement("g",{className:"react-flow__connection"},i.default.createElement("path",{d:U,className:"react-flow__connection-path",style:p}))};function Wh(e){return Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(e)}var Gh=(ml(Uh={},sl.Arrow,(function(e){var t=e.color,n=void 0===t?"none":t,r=e.strokeWidth,o=void 0===r?1:r;return i.default.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:o,fill:"none",points:"-5,-4 0,0 -5,4"})})),ml(Uh,sl.ArrowClosed,(function(e){var t=e.color,n=void 0===t?"none":t,r=e.strokeWidth,o=void 0===r?1:r;return i.default.createElement("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:o,fill:n,points:"-5,-4 0,0 -5,4 -5,-4"})})),Uh);function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kh=function(e){var n=e.id,r=e.type,o=e.color,a=e.width,s=void 0===a?12.5:a,u=e.height,c=void 0===u?12.5:u,l=e.markerUnits,f=void 0===l?"strokeWidth":l,d=e.strokeWidth,h=e.orient,p=void 0===h?"auto":h,v=function(e){return t.useMemo((function(){return Gh.hasOwnProperty(e)?Gh[e]:("development"===process.env.NODE_ENV&&console.warn('[React Flow]: Marker type "'.concat(e,"\" doesn't exist. Help: https://reactflow.dev/error#900")),function(){return null})}),[e])}(r);return i.default.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:"".concat(s),markerHeight:"".concat(c),viewBox:"-10 -10 20 20",markerUnits:f,orient:p,refX:"0",refY:"0"},i.default.createElement(v,{color:o,strokeWidth:d}))},$h=function(e){var t=e.defaultColor,n=e.rfId;return function(e){var r=[];return e.edges.reduce((function(e,o){return[o.markerStart,o.markerEnd].forEach((function(o){if(o&&"object"===Wh(o)){var i=Ul(o,n);r.includes(i)||(e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xh(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:i,color:o.color||t},o)),r.push(i))}})),e}),[]).sort((function(e,t){return e.id.localeCompare(t.id)}))}},Zh=function(e){var n=e.defaultColor,r=e.rfId,o=hf(t.useCallback($h({defaultColor:n,rfId:r}),[n,r]),(function(e,t){return!(e.length!==t.length||e.some((function(e,n){return e.id!==t[n].id})))}));return i.default.createElement("defs",null,o.map((function(e){return i.default.createElement(Kh,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})})))};Zh.displayName="MarkerDefinitions";var Jh=t.memo(Zh),ep=[{level:0,isMaxLevel:!0,edges:[]}];function tp(e,n,r){var o=hf(t.useCallback((function(t){return e?t.edges.filter((function(e){var r=n.get(e.source),o=n.get(e.target);return(null==r?void 0:r.width)&&(null==r?void 0:r.height)&&(null==o?void 0:o.width)&&(null==o?void 0:o.height)&&function(e){var t=e.sourcePos,n=e.targetPos,r=e.sourceWidth,o=e.sourceHeight,i=e.targetWidth,a=e.targetHeight,s=e.width,u=e.height,c=e.transform,l={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+i),y2:Math.max(t.y+o,n.y+a)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);var f=Nl({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:u/c[2]}),d=Math.max(0,Math.min(f.x2,l.x2)-Math.max(f.x,l.x)),h=Math.max(0,Math.min(f.y2,l.y2)-Math.max(f.y,l.y));return Math.ceil(d*h)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:t.width,height:t.height,transform:t.transform})})):t.edges}),[e,n]));return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1,o=e.reduce((function(e,o){var i,a,s,u,c=Dl(o.zIndex),l=c?o.zIndex:0;return n&&(l=c?o.zIndex:Math.max((null===(i=t.get(o.source))||void 0===i||null===(a=i[jl])||void 0===a?void 0:a.z)||0,(null===(s=t.get(o.target))||void 0===s||null===(u=s[jl])||void 0===u?void 0:u.z)||0)),e[l]?e[l].push(o):e[l]=[o],r=l>r?l:r,e}),{}),i=Object.entries(o).map((function(e){var t=_l(e,2),n=+t[0];return{edges:t[1],level:n,isMaxLevel:n===r}}));return 0===i.length?ep:i}(o,n,r)}var np=function(e){return{connectionNodeId:e.connectionNodeId,connectionHandleId:e.connectionHandleId,connectionHandleType:e.connectionHandleType,connectionPosition:e.connectionPosition,nodesConnectable:e.nodesConnectable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals}},rp=function(e){var t=hf(np,yf),n=t.connectionNodeId,r=t.connectionHandleId,o=t.connectionHandleType,a=t.connectionPosition,s=t.nodesConnectable,u=t.elementsSelectable,c=t.width,l=t.height,f=t.connectionMode,d=t.nodeInternals,h=tp(e.onlyRenderVisibleElements,d,e.elevateEdgesOnSelect);if(!c)return null;var p=e.connectionLineType,v=e.defaultMarkerColor,y=e.connectionLineStyle,g=e.connectionLineComponent,m=e.connectionLineContainerStyle,b=n&&o;return i.default.createElement(i.default.Fragment,null,h.map((function(t){var n=t.level,r=t.edges,o=t.isMaxLevel;return i.default.createElement("svg",{key:n,style:{zIndex:n},width:c,height:l,className:"react-flow__edges react-flow__container"},o&&i.default.createElement(Jh,{defaultColor:v,rfId:e.rfId}),i.default.createElement("g",null,r.map((function(t){var n=_l(uh(d,t.source),3),r=n[0],o=n[1],a=n[2],s=_l(uh(d,t.target),3),c=s[0],l=s[1],h=s[2];if(!a||!h)return null;var p=t.type||"default",v=e.edgeTypes[p]||e.edgeTypes.default,y=f===rl.Strict?l.target:l.target||l.source,g=sh(o.source,t.sourceHandle||null),m=sh(y,t.targetHandle||null),b=(null==g?void 0:g.position)||ul.Bottom,w=(null==m?void 0:m.position)||ul.Top;if(!g)return"development"===process.env.NODE_ENV&&console.warn("[React Flow]: Couldn't create edge for source handle id: ".concat(t.sourceHandle,"; edge id: ").concat(t.id,". Help: https://reactflow.dev/error#800")),null;if(!m)return"development"===process.env.NODE_ENV&&console.warn("[React Flow]: Couldn't create edge for target handle id: ".concat(t.targetHandle,"; edge id: ").concat(t.id,". Help: https://reactflow.dev/error#800")),null;var _=function(e,t,n,r,o,i){var a=ah(n,e,t),s=ah(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}}(r,g,b,c,m,w),E=_.sourceX,O=_.sourceY,S=_.targetX,x=_.targetY;return i.default.createElement(v,{key:t.id,id:t.id,className:xf([t.className,e.noPanClassName]),type:p,data:t.data,selected:!!t.selected,animated:!!t.animated,hidden:!!t.hidden,label:t.label,labelStyle:t.labelStyle,labelShowBg:t.labelShowBg,labelBgStyle:t.labelBgStyle,labelBgPadding:t.labelBgPadding,labelBgBorderRadius:t.labelBgBorderRadius,style:t.style,source:t.source,target:t.target,sourceHandleId:t.sourceHandle,targetHandleId:t.targetHandle,markerEnd:t.markerEnd,markerStart:t.markerStart,sourceX:E,sourceY:O,targetX:S,targetY:x,sourcePosition:b,targetPosition:w,elementsSelectable:u,onEdgeUpdate:e.onEdgeUpdate,onContextMenu:e.onEdgeContextMenu,onMouseEnter:e.onEdgeMouseEnter,onMouseMove:e.onEdgeMouseMove,onMouseLeave:e.onEdgeMouseLeave,onClick:e.onEdgeClick,edgeUpdaterRadius:e.edgeUpdaterRadius,onEdgeDoubleClick:e.onEdgeDoubleClick,onEdgeUpdateStart:e.onEdgeUpdateStart,onEdgeUpdateEnd:e.onEdgeUpdateEnd,rfId:e.rfId})}))))})),b&&i.default.createElement("svg",{style:m,width:c,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},i.default.createElement(Hh,{connectionNodeId:n,connectionHandleId:r,connectionHandleType:o,connectionPositionX:a.x,connectionPositionY:a.y,connectionLineStyle:y,connectionLineType:p,isConnectable:s,CustomConnectionLineComponent:g})))};rp.displayName="EdgeRenderer";var op=t.memo(rp),ip=function(e){return e.transform};function ap(e){var t=e.children,n=hf(ip);return i.default.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:"translate(".concat(n[0],"px,").concat(n[1],"px) scale(").concat(n[2],")")}},t)}var sp=function(e){var n=e.nodeTypes,r=e.edgeTypes,o=e.onMove,a=e.onMoveStart,s=e.onMoveEnd,u=e.onInit,c=e.onNodeClick,l=e.onEdgeClick,f=e.onNodeDoubleClick,d=e.onEdgeDoubleClick,h=e.onNodeMouseEnter,p=e.onNodeMouseMove,v=e.onNodeMouseLeave,y=e.onNodeContextMenu,g=e.onNodeDragStart,m=e.onNodeDrag,b=e.onNodeDragStop,w=e.onSelectionDragStart,_=e.onSelectionDrag,E=e.onSelectionDragStop,O=e.onSelectionContextMenu,S=e.connectionLineType,x=e.connectionLineStyle,k=e.connectionLineComponent,N=e.connectionLineContainerStyle,C=e.selectionKeyCode,D=e.multiSelectionKeyCode,j=e.zoomActivationKeyCode,P=e.deleteKeyCode,I=e.onlyRenderVisibleElements,T=e.elementsSelectable,M=e.selectNodesOnDrag,A=e.defaultZoom,R=e.defaultPosition,F=e.preventScrolling,L=e.defaultMarkerColor,V=e.zoomOnScroll,z=e.zoomOnPinch,q=e.panOnScroll,B=e.panOnScrollSpeed,Q=e.panOnScrollMode,U=e.zoomOnDoubleClick,Y=e.panOnDrag,H=e.onPaneClick,W=e.onPaneScroll,G=e.onPaneContextMenu,X=e.onEdgeUpdate,K=e.onEdgeContextMenu,$=e.onEdgeMouseEnter,Z=e.onEdgeMouseMove,J=e.onEdgeMouseLeave,ee=e.edgeUpdaterRadius,te=e.onEdgeUpdateStart,ne=e.onEdgeUpdateEnd,re=e.noDragClassName,oe=e.noWheelClassName,ie=e.noPanClassName,ae=e.elevateEdgesOnSelect,se=e.id;return function(e){var n=Sf(),r=t.useRef(!1);t.useEffect((function(){!r.current&&n.viewportInitialized&&e&&(setTimeout((function(){return e(n)}),1),r.current=!0)}),[e,n.viewportInitialized])}(u),i.default.createElement(Lh,{onPaneClick:H,onPaneContextMenu:G,onPaneScroll:W,deleteKeyCode:P,selectionKeyCode:C,multiSelectionKeyCode:D,zoomActivationKeyCode:j,elementsSelectable:T,onMove:o,onMoveStart:a,onMoveEnd:s,zoomOnScroll:V,zoomOnPinch:z,zoomOnDoubleClick:U,panOnScroll:q,panOnScrollSpeed:B,panOnScrollMode:Q,panOnDrag:Y,defaultPosition:R,defaultZoom:A,onSelectionDragStart:w,onSelectionDrag:_,onSelectionDragStop:E,onSelectionContextMenu:O,preventScrolling:F,noDragClassName:re,noWheelClassName:oe,noPanClassName:ie},i.default.createElement(ap,null,i.default.createElement(op,{edgeTypes:r,onEdgeClick:l,onEdgeDoubleClick:d,connectionLineType:S,connectionLineStyle:x,connectionLineComponent:k,connectionLineContainerStyle:N,onEdgeUpdate:X,onlyRenderVisibleElements:I,onEdgeContextMenu:K,onEdgeMouseEnter:$,onEdgeMouseMove:Z,onEdgeMouseLeave:J,onEdgeUpdateStart:te,onEdgeUpdateEnd:ne,edgeUpdaterRadius:ee,defaultMarkerColor:L,noPanClassName:ie,elevateEdgesOnSelect:!!ae,rfId:se}),i.default.createElement(qh,{nodeTypes:n,onNodeClick:c,onNodeDoubleClick:f,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:v,onNodeContextMenu:y,onNodeDragStop:b,onNodeDrag:m,onNodeDragStart:g,selectNodesOnDrag:M,onlyRenderVisibleElements:I,noPanClassName:ie,noDragClassName:re})))};sp.displayName="GraphView";var up=t.memo(sp),cp=function(){return null};function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}cp.displayName="GroupNode";var dp=function(e){return e.updateNodeDimensions},hp=function(e){var n=function(n){var r=n.id,o=n.type,a=n.data,s=n.xPos,u=n.yPos,c=n.selected,l=n.onClick,f=n.onMouseEnter,d=n.onMouseMove,h=n.onMouseLeave,p=n.onContextMenu,v=n.onDoubleClick,y=n.onDragStart,g=n.onDrag,m=n.onDragStop,b=n.style,w=n.className,_=n.isDraggable,E=n.isSelectable,O=n.isConnectable,S=n.selectNodesOnDrag,x=n.sourcePosition,k=n.targetPosition,N=n.hidden,C=n.resizeObserver,D=n.dragHandle,j=n.zIndex,P=n.isParent,I=n.noPanClassName,T=n.noDragClassName,M=n.initialized,A=pf(),R=hf(dp),F=t.useRef(null),L=t.useRef(x),V=t.useRef(k),z=t.useRef(o),q=E||_||l||f||d||h,B=zl(r,A.getState,f),Q=zl(r,A.getState,d),U=zl(r,A.getState,h),Y=zl(r,A.getState,p),H=zl(r,A.getState,v);t.useEffect((function(){if(F.current&&!N){var e=F.current;return null==C||C.observe(e),function(){return null==C?void 0:C.unobserve(e)}}}),[N]),t.useEffect((function(){var e=z.current!==o,t=L.current!==x,n=V.current!==k;F.current&&(e||t||n)&&(e&&(z.current=o),t&&(L.current=x),n&&(V.current=k),R([{id:r,nodeElement:F.current,forceUpdate:!0}]))}),[r,o,x,k]);var W=jh({onStart:y,onDrag:g,onStop:m,nodeRef:F,disabled:N||!_,noDragClassName:T,handleSelector:D,nodeId:r,isSelectable:E,selectNodesOnDrag:S});return N?null:i.default.createElement("div",{className:xf(["react-flow__node","react-flow__node-".concat(o),I,w,{selected:c,selectable:E,parent:P}]),ref:F,style:fp({zIndex:j,transform:"translate(".concat(s,"px,").concat(u,"px)"),pointerEvents:q?"all":"none",visibility:M?"visible":"hidden"},b),onMouseEnter:B,onMouseMove:Q,onMouseLeave:U,onContextMenu:Y,onClick:function(e){if(!E||S&&_||ql({id:r,store:A}),l){var t=A.getState().nodeInternals.get(r);l(e,fp({},t))}},onDoubleClick:H,"data-id":r},i.default.createElement(Nd,{value:r},i.default.createElement(e,{id:r,data:a,type:o,xPos:s,yPos:u,selected:c,isConnectable:O,sourcePosition:x,targetPosition:k,dragging:W,dragHandle:D,zIndex:j})))};return n.displayName="NodeWrapper",t.memo(n)};function pp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pp(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yp(e){var t={input:hp(e.input||qd),default:hp(e.default||Vd),output:hp(e.output||Qd),group:hp(e.group||cp)},n=Object.keys(e).filter((function(e){return!["input","default","output","group"].includes(e)})).reduce((function(t,n){return t[n]=hp(e[n]||Vd),t}),{});return vp(vp({},t),n)}function gp(e,n){var r=t.useRef(null);return t.useMemo((function(){if("development"===process.env.NODE_ENV){var t=Object.keys(e);yf(r.current,t)&&console.warn("[React Flow]: It looks like you have created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them. Help: https://reactflow.dev/error#200"),r.current=t}return n(e)}),[e])}function mp(e){if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");t.appendChild(n),n.appendChild(document.createTextNode(e))}}var bp=function(e){var t=e.children,n=!0;try{pf()}catch(e){n=!1}return n?i.default.createElement(i.default.Fragment,null,t):i.default.createElement(df,{createStore:vf},t)};bp.displayName="ReactFlowWrapper";var wp=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function _p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(n),!0).forEach((function(t){ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}mp(".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}"),mp(".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var Op={input:qd,default:Vd,output:Qd},Sp={default:xd,straight:_d,step:wd,smoothstep:gd,simplebezier:rd},xp=[15,15],kp=[0,0],Np=t.forwardRef((function(e,t){var n=e.nodes,r=e.edges,o=e.defaultNodes,a=e.defaultEdges,s=e.className,u=e.nodeTypes,c=void 0===u?Op:u,l=e.edgeTypes,f=void 0===l?Sp:l,d=e.onNodeClick,h=e.onEdgeClick,p=e.onInit,v=e.onMove,y=e.onMoveStart,g=e.onMoveEnd,m=e.onConnect,b=e.onConnectStart,w=e.onConnectStop,_=e.onConnectEnd,E=e.onClickConnectStart,O=e.onClickConnectStop,S=e.onClickConnectEnd,x=e.onNodeMouseEnter,k=e.onNodeMouseMove,N=e.onNodeMouseLeave,C=e.onNodeContextMenu,D=e.onNodeDoubleClick,j=e.onNodeDragStart,P=e.onNodeDrag,I=e.onNodeDragStop,T=e.onNodesDelete,M=e.onEdgesDelete,A=e.onSelectionChange,R=e.onSelectionDragStart,F=e.onSelectionDrag,L=e.onSelectionDragStop,V=e.onSelectionContextMenu,z=e.connectionMode,q=void 0===z?rl.Strict:z,B=e.connectionLineType,Q=void 0===B?al.Bezier:B,U=e.connectionLineStyle,Y=e.connectionLineComponent,H=e.connectionLineContainerStyle,W=e.deleteKeyCode,G=void 0===W?"Backspace":W,X=e.selectionKeyCode,K=void 0===X?"Shift":X,$=e.multiSelectionKeyCode,Z=void 0===$?"Meta":$,J=e.zoomActivationKeyCode,ee=void 0===J?"Meta":J,te=e.snapToGrid,ne=void 0!==te&&te,re=e.snapGrid,oe=void 0===re?xp:re,ie=e.onlyRenderVisibleElements,ae=void 0!==ie&&ie,se=e.selectNodesOnDrag,ue=void 0===se||se,ce=e.nodesDraggable,le=e.nodesConnectable,fe=e.elementsSelectable,de=e.minZoom,he=e.maxZoom,pe=e.defaultZoom,ve=void 0===pe?1:pe,ye=e.defaultPosition,ge=void 0===ye?kp:ye,me=e.translateExtent,be=e.preventScrolling,we=void 0===be||be,_e=e.nodeExtent,Ee=e.defaultMarkerColor,Oe=void 0===Ee?"#b1b1b7":Ee,Se=e.zoomOnScroll,xe=void 0===Se||Se,ke=e.zoomOnPinch,Ne=void 0===ke||ke,Ce=e.panOnScroll,De=void 0!==Ce&&Ce,je=e.panOnScrollSpeed,Pe=void 0===je?.5:je,Ie=e.panOnScrollMode,Te=void 0===Ie?il.Free:Ie,Me=e.zoomOnDoubleClick,Ae=void 0===Me||Me,Re=e.panOnDrag,Fe=void 0===Re||Re,Le=e.onPaneClick,Ve=e.onPaneScroll,ze=e.onPaneContextMenu,qe=e.children,Be=e.onEdgeUpdate,Qe=e.onEdgeContextMenu,Ue=e.onEdgeDoubleClick,Ye=e.onEdgeMouseEnter,He=e.onEdgeMouseMove,We=e.onEdgeMouseLeave,Ge=e.onEdgeUpdateStart,Xe=e.onEdgeUpdateEnd,Ke=e.edgeUpdaterRadius,$e=void 0===Ke?10:Ke,Ze=e.onNodesChange,Je=e.onEdgesChange,et=e.noDragClassName,tt=void 0===et?"nodrag":et,nt=e.noWheelClassName,rt=void 0===nt?"nowheel":nt,ot=e.noPanClassName,it=void 0===ot?"nopan":ot,at=e.fitView,st=void 0!==at&&at,ut=e.fitViewOptions,ct=e.connectOnClick,lt=void 0===ct||ct,ft=e.attributionPosition,dt=e.proOptions,ht=e.defaultEdgeOptions,pt=e.elevateEdgesOnSelect,vt=void 0!==pt&&pt,yt=gf(e,wp),gt=gp(c,yp),mt=gp(f,ih),bt=xf(["react-flow",s]);return i.default.createElement("div",Ep(Ep({},yt),{},{ref:t,className:bt}),i.default.createElement(bp,null,i.default.createElement(up,{onInit:p,onMove:v,onMoveStart:y,onMoveEnd:g,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:x,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:C,onNodeDoubleClick:D,onNodeDragStart:j,onNodeDrag:P,onNodeDragStop:I,nodeTypes:gt,edgeTypes:mt,connectionLineType:Q,connectionLineStyle:U,connectionLineComponent:Y,connectionLineContainerStyle:H,selectionKeyCode:K,deleteKeyCode:G,multiSelectionKeyCode:Z,zoomActivationKeyCode:ee,onlyRenderVisibleElements:ae,selectNodesOnDrag:ue,defaultZoom:ve,defaultPosition:ge,preventScrolling:we,zoomOnScroll:xe,zoomOnPinch:Ne,zoomOnDoubleClick:Ae,panOnScroll:De,panOnScrollSpeed:Pe,panOnScrollMode:Te,panOnDrag:Fe,onPaneClick:Le,onPaneScroll:Ve,onPaneContextMenu:ze,onSelectionDragStart:R,onSelectionDrag:F,onSelectionDragStop:L,onSelectionContextMenu:V,onEdgeUpdate:Be,onEdgeContextMenu:Qe,onEdgeDoubleClick:Ue,onEdgeMouseEnter:Ye,onEdgeMouseMove:He,onEdgeMouseLeave:We,onEdgeUpdateStart:Ge,onEdgeUpdateEnd:Xe,edgeUpdaterRadius:$e,defaultMarkerColor:Oe,noDragClassName:tt,noWheelClassName:rt,noPanClassName:it,elevateEdgesOnSelect:vt,id:null==yt?void 0:yt.id}),i.default.createElement($d,{nodes:n,edges:r,defaultNodes:o,defaultEdges:a,onConnect:m,onConnectStart:b,onConnectStop:w,onConnectEnd:_,onClickConnectStart:E,onClickConnectStop:O,onClickConnectEnd:S,nodesDraggable:ce,nodesConnectable:le,elementsSelectable:fe,minZoom:de,maxZoom:he,nodeExtent:_e,onNodesChange:Ze,onEdgesChange:Je,snapToGrid:ne,snapGrid:oe,connectionMode:q,translateExtent:me,connectOnClick:lt,defaultEdgeOptions:ht,fitView:st,fitViewOptions:ut,onNodesDelete:T,onEdgesDelete:M}),A&&i.default.createElement(Wd,{onSelectionChange:A}),qe,i.default.createElement(Xf,{proOptions:dt,position:ft})))}));Np.displayName="ReactFlow";var Cp,Dp,jp,Pp,Ip,Tp,Mp,Ap,Rp,Fp,Lp,Vp,zp,qp,Bp,Qp,Up,Yp,Hp,Wp,Gp,Xp,Kp,$p,Zp,Jp,ev,tv,nv,rv,ov,iv,av,sv,uv,cv,lv,fv,dv,hv,pv,vv,yv,gv,mv,bv,wv,_v,Ev,Ov,Sv,xv,kv,Nv,Cv,Dv,jv,Pv,Iv,Tv,Mv,Av,Rv,Fv,Lv,Vv,zv,qv,Bv,Qv,Uv,Yv,Hv,Wv,Gv,Xv,Kv,$v,Zv,Jv,ey,ty,ny,ry,oy,iy,ay,sy,uy,cy,ly,fy,dy,hy,py,vy,yy,gy,my,by,wy,_y,Ey,Oy,Sy,xy,ky,Ny,Cy="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Dy(){if(Pp)return jp;return Pp=1,jp=function(e,t){return e===t||e!=e&&t!=t}}function jy(){if(Tp)return Ip;Tp=1;var e=Dy();return Ip=function(t,n){for(var r=t.length;r--;)if(e(t[r][0],n))return r;return-1},Ip}function Py(){if(Qp)return Bp;Qp=1;var e=Dp?Cp:(Dp=1,Cp=function(){this.__data__=[],this.size=0}),t=function(){if(Ap)return Mp;Ap=1;var e=jy(),t=Array.prototype.splice;return Mp=function(n){var r=this.__data__,o=e(r,n);return!(o<0||(o==r.length-1?r.pop():t.call(r,o,1),--this.size,0))},Mp}(),n=function(){if(Fp)return Rp;Fp=1;var e=jy();return Rp=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},Rp}(),r=function(){if(Vp)return Lp;Vp=1;var e=jy();return Lp=function(t){return e(this.__data__,t)>-1}}(),o=function(){if(qp)return zp;qp=1;var e=jy();return zp=function(t,n){var r=this.__data__,o=e(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this},zp}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Bp=i}function Iy(){if(Jp)return Zp;Jp=1;var e="object"==typeof Cy&&Cy&&Cy.Object===Object&&Cy;return Zp=e}function Ty(){if(tv)return ev;tv=1;var e=Iy(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return ev=n}function My(){if(rv)return nv;rv=1;var e=Ty().Symbol;return nv=e}function Ay(){if(cv)return uv;cv=1;var e=My(),t=function(){if(iv)return ov;iv=1;var e=My(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;return ov=function(e){var t=n.call(e,o),i=e[o];try{e[o]=void 0;var a=!0}catch(e){}var s=r.call(e);return a&&(t?e[o]=i:delete e[o]),s}}(),n=function(){if(sv)return av;sv=1;var e=Object.prototype.toString;return av=function(t){return e.call(t)}}(),r=e?e.toStringTag:void 0;return uv=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e)}}function Ry(){if(fv)return lv;return fv=1,lv=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Fy(){if(hv)return dv;hv=1;var e=Ay(),t=Ry();return dv=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}}function Ly(){if(gv)return yv;gv=1;var e,t=function(){if(vv)return pv;vv=1;var e=Ty()["__core-js_shared__"];return pv=e}(),n=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return yv=function(e){return!!n&&n in e}}function Vy(){if(bv)return mv;bv=1;var e=Function.prototype.toString;return mv=function(t){if(null!=t){try{return e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}}function zy(){if(xv)return Sv;xv=1;var e=function(){if(_v)return wv;_v=1;var e=Fy(),t=Ly(),n=Ry(),r=Vy(),o=/^\[object .+?Constructor\]$/,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return wv=function(i){return!(!n(i)||t(i))&&(e(i)?c:o).test(r(i))}}(),t=Ov?Ev:(Ov=1,Ev=function(e,t){return null==e?void 0:e[t]});return Sv=function(n,r){var o=t(n,r);return e(o)?o:void 0}}function qy(){if(Nv)return kv;Nv=1;var e=zy()(Ty(),"Map");return kv=e}function By(){if(Dv)return Cv;Dv=1;var e=zy()(Object,"create");return Cv=e}function Qy(){if(qv)return zv;qv=1;var e=function(){if(Pv)return jv;Pv=1;var e=By();return jv=function(){this.__data__=e?e(null):{},this.size=0}}(),t=Tv?Iv:(Tv=1,Iv=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),n=function(){if(Av)return Mv;Av=1;var e=By(),t=Object.prototype.hasOwnProperty;return Mv=function(n){var r=this.__data__;if(e){var o=r[n];return"__lodash_hash_undefined__"===o?void 0:o}return t.call(r,n)?r[n]:void 0}}(),r=function(){if(Fv)return Rv;Fv=1;var e=By(),t=Object.prototype.hasOwnProperty;return Rv=function(n){var r=this.__data__;return e?void 0!==r[n]:t.call(r,n)}}(),o=function(){if(Vv)return Lv;Vv=1;var e=By();return Lv=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=e&&void 0===n?"__lodash_hash_undefined__":n,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,zv=i}function Uy(){if(Wv)return Hv;Wv=1;var e=Yv?Uv:(Yv=1,Uv=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Hv=function(t,n){var r=t.__data__;return e(n)?r["string"==typeof n?"string":"hash"]:r.map}}function Yy(){if(ry)return ny;ry=1;var e=function(){if(Qv)return Bv;Qv=1;var e=Qy(),t=Py(),n=qy();return Bv=function(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}}(),t=function(){if(Xv)return Gv;Xv=1;var e=Uy();return Gv=function(t){var n=e(this,t).delete(t);return this.size-=n?1:0,n}}(),n=function(){if($v)return Kv;$v=1;var e=Uy();return Kv=function(t){return e(this,t).get(t)}}(),r=function(){if(Jv)return Zv;Jv=1;var e=Uy();return Zv=function(t){return e(this,t).has(t)}}(),o=function(){if(ty)return ey;ty=1;var e=Uy();return ey=function(t,n){var r=e(this,t),o=r.size;return r.set(t,n),this.size+=r.size==o?0:1,this}}();function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,ny=i}function Hy(){if(sy)return ay;sy=1;var e=Py(),t=function(){if(Yp)return Up;Yp=1;var e=Py();return Up=function(){this.__data__=new e,this.size=0}}(),n=Wp?Hp:(Wp=1,Hp=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}),r=Xp?Gp:(Xp=1,Gp=function(e){return this.__data__.get(e)}),o=$p?Kp:($p=1,Kp=function(e){return this.__data__.has(e)}),i=function(){if(iy)return oy;iy=1;var e=Py(),t=qy(),n=Yy();return oy=function(r,o){var i=this.__data__;if(i instanceof e){var a=i.__data__;if(!t||a.length<199)return a.push([r,o]),this.size=++i.size,this;i=this.__data__=new n(a)}return i.set(r,o),this.size=i.size,this}}();function a(t){var n=this.__data__=new e(t);this.size=n.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,ay=a}function Wy(){if(cy)return uy;return cy=1,uy=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},uy}function Gy(){if(fy)return ly;fy=1;var e=zy(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();return ly=t}function Xy(){if(hy)return dy;hy=1;var e=Gy();return dy=function(t,n,r){"__proto__"==n&&e?e(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}}function Ky(){if(vy)return py;vy=1;var e=Xy(),t=Dy(),n=Object.prototype.hasOwnProperty;return py=function(r,o,i){var a=r[o];n.call(r,o)&&t(a,i)&&(void 0!==i||o in r)||e(r,o,i)}}function $y(){if(gy)return yy;gy=1;var e=Ky(),t=Xy();return yy=function(n,r,o,i){var a=!o;o||(o={});for(var s=-1,u=r.length;++s<u;){var c=r[s],l=i?i(o[c],n[c],c,o,n):void 0;void 0===l&&(l=n[c]),a?t(o,c,l):e(o,c,l)}return o},yy}function Zy(){if(_y)return wy;return _y=1,wy=function(e){return null!=e&&"object"==typeof e}}function Jy(){if(xy)return Sy;xy=1;var e=function(){if(Oy)return Ey;Oy=1;var e=Ay(),t=Zy();return Ey=function(n){return t(n)&&"[object Arguments]"==e(n)}}(),t=Zy(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(e){return t(e)&&r.call(e,"callee")&&!o.call(e,"callee")};return Sy=i}function eg(){if(Ny)return ky;Ny=1;var e=Array.isArray;return ky=e}var tg,ng,rg,og,ig,ag,sg,ug,cg,lg,fg,dg={exports:{}};function hg(){return rg||(rg=1,function(e,t){var n=Ty(),r=ng?tg:(ng=1,tg=function(){return!1}),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s}(dg,dg.exports)),dg.exports}function pg(){if(ig)return og;ig=1;var e=/^(?:0|[1-9]\d*)$/;return og=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}}function vg(){if(sg)return ag;sg=1;return ag=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function yg(){if(fg)return lg;return fg=1,lg=function(e){return function(t){return e(t)}}}var gg,mg,bg,wg,_g,Eg,Og,Sg,xg,kg,Ng,Cg,Dg,jg,Pg,Ig,Tg,Mg,Ag,Rg,Fg,Lg,Vg,zg,qg,Bg,Qg,Ug={exports:{}};function Yg(){return gg||(gg=1,function(e,t){var n=Iy(),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}(Ug,Ug.exports)),Ug.exports}function Hg(){if(bg)return mg;bg=1;var e=function(){if(cg)return ug;cg=1;var e=Ay(),t=vg(),n=Zy(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,ug=function(o){return n(o)&&t(o.length)&&!!r[e(o)]}}(),t=yg(),n=Yg(),r=n&&n.isTypedArray,o=r?t(r):e;return mg=o}function Wg(){if(_g)return wg;_g=1;var e=(by||(by=1,my=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}),my),t=Jy(),n=eg(),r=hg(),o=pg(),i=Hg(),a=Object.prototype.hasOwnProperty;return wg=function(s,u){var c=n(s),l=!c&&t(s),f=!c&&!l&&r(s),d=!c&&!l&&!f&&i(s),h=c||l||f||d,p=h?e(s.length,String):[],v=p.length;for(var y in s)!u&&!a.call(s,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||d&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||o(y,v))||p.push(y);return p}}function Gg(){if(Og)return Eg;Og=1;var e=Object.prototype;return Eg=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}}function Xg(){if(xg)return Sg;return xg=1,Sg=function(e,t){return function(n){return e(t(n))}}}function Kg(){if(Dg)return Cg;Dg=1;var e=Gg(),t=function(){if(Ng)return kg;Ng=1;var e=Xg()(Object.keys,Object);return kg=e}(),n=Object.prototype.hasOwnProperty;return Cg=function(r){if(!e(r))return t(r);var o=[];for(var i in Object(r))n.call(r,i)&&"constructor"!=i&&o.push(i);return o}}function $g(){if(Pg)return jg;Pg=1;var e=Fy(),t=vg();return jg=function(n){return null!=n&&t(n.length)&&!e(n)}}function Zg(){if(Tg)return Ig;Tg=1;var e=Wg(),t=Kg(),n=$g();return Ig=function(r){return n(r)?e(r):t(r)}}function Jg(){if(Vg)return Lg;Vg=1;var e=Ry(),t=Gg(),n=Fg?Rg:(Fg=1,Rg=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}),r=Object.prototype.hasOwnProperty;return Lg=function(o){if(!e(o))return n(o);var i=t(o),a=[];for(var s in o)("constructor"!=s||!i&&r.call(o,s))&&a.push(s);return a}}function em(){if(qg)return zg;qg=1;var e=Wg(),t=Jg(),n=$g();return zg=function(r){return n(r)?e(r,!0):t(r)}}var tm,nm,rm,om,im,am,sm,um,cm,lm,fm,dm,hm,pm,vm,ym,gm,mm,bm,wm,_m,Em,Om,Sm,xm,km,Nm,Cm,Dm,jm,Pm,Im,Tm,Mm,Am,Rm,Fm,Lm,Vm,zm,qm,Bm,Qm,Um,Ym,Hm,Wm,Gm,Xm,Km,$m,Zm,Jm,eb,tb,nb,rb,ob,ib,ab,sb,ub,cb,lb,fb,db,hb,pb,vb,yb={exports:{}};function gb(){return tm||(tm=1,function(e,t){var n=Ty(),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,i=o&&o.exports===r?n.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}(yb,yb.exports)),yb.exports}function mb(){if(rm)return nm;return rm=1,nm=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},nm}function bb(){if(im)return om;return im=1,om=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},om}function wb(){if(sm)return am;return sm=1,am=function(){return[]}}function _b(){if(cm)return um;cm=1;var e=bb(),t=wb(),n=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return um=r?function(t){return null==t?[]:(t=Object(t),e(r(t),(function(e){return n.call(t,e)})))}:t}function Eb(){if(hm)return dm;return hm=1,dm=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},dm}function Ob(){if(vm)return pm;vm=1;var e=Xg()(Object.getPrototypeOf,Object);return pm=e}function Sb(){if(gm)return ym;gm=1;var e=Eb(),t=Ob(),n=_b(),r=wb(),o=Object.getOwnPropertySymbols;return ym=o?function(r){for(var o=[];r;)e(o,n(r)),r=t(r);return o}:r}function xb(){if(_m)return wm;_m=1;var e=Eb(),t=eg();return wm=function(n,r,o){var i=r(n);return t(n)?i:e(i,o(n))}}function kb(){if(Om)return Em;Om=1;var e=xb(),t=_b(),n=Zg();return Em=function(r){return e(r,n,t)}}function Nb(){if(Pm)return jm;Pm=1;var e=zy()(Ty(),"Set");return jm=e}function Cb(){if(Am)return Mm;Am=1;var e=function(){if(Nm)return km;Nm=1;var e=zy()(Ty(),"DataView");return km=e}(),t=qy(),n=function(){if(Dm)return Cm;Dm=1;var e=zy()(Ty(),"Promise");return Cm=e}(),r=Nb(),o=function(){if(Tm)return Im;Tm=1;var e=zy()(Ty(),"WeakMap");return Im=e}(),i=Ay(),a=Vy(),s="[object Map]",u="[object Promise]",c="[object Set]",l="[object WeakMap]",f="[object DataView]",d=a(e),h=a(t),p=a(n),v=a(r),y=a(o),g=i;return(e&&g(new e(new ArrayBuffer(1)))!=f||t&&g(new t)!=s||n&&g(n.resolve())!=u||r&&g(new r)!=c||o&&g(new o)!=l)&&(g=function(e){var t=i(e),n="[object Object]"==t?e.constructor:void 0,r=n?a(n):"";if(r)switch(r){case d:return f;case h:return s;case p:return u;case v:return c;case y:return l}return t}),Mm=g}function Db(){if(Vm)return Lm;Vm=1;var e=Ty().Uint8Array;return Lm=e}function jb(){if(qm)return zm;qm=1;var e=Db();return zm=function(t){var n=new t.constructor(t.byteLength);return new e(n).set(new e(t)),n}}function Pb(){if(Xm)return Gm;Xm=1;var e=jb();return Gm=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}}function Ib(){if($m)return Km;$m=1;var e=jb(),t=function(){if(Qm)return Bm;Qm=1;var e=jb();return Bm=function(t,n){var r=n?e(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}}(),n=function(){if(Ym)return Um;Ym=1;var e=/\w*$/;return Um=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}}(),r=function(){if(Wm)return Hm;Wm=1;var e=My(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;return Hm=function(e){return n?Object(n.call(e)):{}}}(),o=Pb();return Km=function(i,a,s){var u=i.constructor;switch(a){case"[object ArrayBuffer]":return e(i);case"[object Boolean]":case"[object Date]":return new u(+i);case"[object DataView]":return t(i,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(i,s);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(i);case"[object RegExp]":return n(i);case"[object Symbol]":return r(i)}}}function Tb(){if(Jm)return Zm;Jm=1;var e=Ry(),t=Object.create,n=function(){function n(){}return function(r){if(!e(r))return{};if(t)return t(r);n.prototype=r;var o=new n;return n.prototype=void 0,o}}();return Zm=n}function Mb(){if(tb)return eb;tb=1;var e=Tb(),t=Ob(),n=Gg();return eb=function(r){return"function"!=typeof r.constructor||n(r)?{}:e(t(r))}}function Ab(){if(ib)return ob;ib=1;var e=function(){if(rb)return nb;rb=1;var e=Cb(),t=Zy();return nb=function(n){return t(n)&&"[object Map]"==e(n)}}(),t=yg(),n=Yg(),r=n&&n.isMap,o=r?t(r):e;return ob=o}function Rb(){if(cb)return ub;cb=1;var e=function(){if(sb)return ab;sb=1;var e=Cb(),t=Zy();return ab=function(n){return t(n)&&"[object Set]"==e(n)}}(),t=yg(),n=Yg(),r=n&&n.isSet,o=r?t(r):e;return ub=o}function Fb(){if(fb)return lb;fb=1;var e=Hy(),t=Wy(),n=Ky(),r=function(){if(Ag)return Mg;Ag=1;var e=$y(),t=Zg();return Mg=function(n,r){return n&&e(r,t(r),n)}}(),o=function(){if(Qg)return Bg;Qg=1;var e=$y(),t=em();return Bg=function(n,r){return n&&e(r,t(r),n)}}(),i=gb(),a=mb(),s=function(){if(fm)return lm;fm=1;var e=$y(),t=_b();return lm=function(n,r){return e(n,t(n),r)}}(),u=function(){if(bm)return mm;bm=1;var e=$y(),t=Sb();return mm=function(n,r){return e(n,t(n),r)}}(),c=kb(),l=function(){if(xm)return Sm;xm=1;var e=xb(),t=Sb(),n=em();return Sm=function(r){return e(r,n,t)}}(),f=Cb(),d=function(){if(Fm)return Rm;Fm=1;var e=Object.prototype.hasOwnProperty;return Rm=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Rm}(),h=Ib(),p=Mb(),v=eg(),y=hg(),g=Ab(),m=Ry(),b=Rb(),w=Zg(),_=em(),E="[object Arguments]",O="[object Function]",S="[object Object]",x={};return x[E]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[S]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[O]=x["[object WeakMap]"]=!1,lb=function k(N,C,D,j,P,I){var T,M=1&C,A=2&C,R=4&C;if(D&&(T=P?D(N,j,P,I):D(N)),void 0!==T)return T;if(!m(N))return N;var F=v(N);if(F){if(T=d(N),!M)return a(N,T)}else{var L=f(N),V=L==O||"[object GeneratorFunction]"==L;if(y(N))return i(N,M);if(L==S||L==E||V&&!P){if(T=A||V?{}:p(N),!M)return A?u(N,o(T,N)):s(N,r(T,N))}else{if(!x[L])return P?N:{};T=h(N,L,M)}}I||(I=new e);var z=I.get(N);if(z)return z;I.set(N,T),b(N)?N.forEach((function(e){T.add(k(e,C,D,e,N,I))})):g(N)&&N.forEach((function(e,t){T.set(t,k(e,C,D,t,N,I))}));var q=F?void 0:(R?A?l:c:A?_:w)(N);return t(q||N,(function(e,t){q&&(e=N[t=e]),n(T,t,k(e,C,D,t,N,I))})),T},lb}function Lb(){if(hb)return db;hb=1;var e=Fb();return db=function(t){return e(t,4)}}function Vb(){if(vb)return pb;return vb=1,pb=function(e){return function(){return e}}}var zb,qb,Bb,Qb,Ub,Yb,Hb,Wb,Gb,Xb,Kb,$b,Zb,Jb,ew,tw,nw,rw,ow,iw,aw,sw,uw,cw,lw,fw,dw,hw,pw,vw,yw,gw,mw,bw,ww,_w,Ew,Ow,Sw,xw,kw,Nw,Cw,Dw,jw,Pw,Iw,Tw,Mw,Aw,Rw,Fw,Lw,Vw,zw,qw,Bw,Qw,Uw,Yw,Hw,Ww,Gw,Xw,Kw,$w,Zw,Jw,e_,t_,n_,r_,o_,i_,a_,s_,u_,c_,l_,f_,d_,h_,p_,v_,y_,g_,m_,b_,w_,__,E_,O_,S_,x_,k_,N_,C_,D_,j_,P_,I_,T_,M_,A_,R_,F_,L_,V_,z_,q_,B_,Q_,U_,Y_,H_,W_,G_,X_,K_,$_,Z_,J_,eE,tE,nE,rE,oE,iE,aE,sE,uE,cE,lE,fE,dE,hE,pE,vE,yE,gE,mE,bE,wE,_E,EE,OE,SE,xE,kE,NE,CE,DE,jE,PE,IE,TE,ME,AE,RE,FE,LE,VE,zE,qE,BE,QE,UE,YE,HE,WE,GE,XE,KE,$E,ZE,JE,eO,tO,nO,rO,oO,iO,aO,sO,uO,cO,lO,fO,dO,hO,pO,vO,yO,gO,mO,bO,wO,_O,EO,OO,SO,xO,kO,NO,CO,DO,jO,PO,IO,TO,MO={exports:{}};function AO(){if(Qb)return Bb;Qb=1;var e=(qb||(qb=1,zb=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}),zb),t=e();return Bb=t}function RO(){if(Yb)return Ub;Yb=1;var e=AO(),t=Zg();return Ub=function(n,r){return n&&e(n,r,t)}}function FO(){if(Xb)return Gb;Xb=1;var e=RO(),t=function(){if(Wb)return Hb;Wb=1;var e=$g();return Hb=function(t,n){return function(r,o){if(null==r)return r;if(!e(r))return t(r,o);for(var i=r.length,a=n?i:-1,s=Object(r);(n?a--:++a<i)&&!1!==o(s[a],a,s););return r}},Hb}(),n=t(e);return Gb=n}function LO(){if($b)return Kb;return $b=1,Kb=function(e){return e}}function VO(){if(Jb)return Zb;Jb=1;var e=LO();return Zb=function(t){return"function"==typeof t?t:e}}function zO(){if(tw)return ew;tw=1;var e=Wy(),t=FO(),n=VO(),r=eg();return ew=function(o,i){return(r(o)?e:t)(o,n(i))}}function qO(){return nw||(nw=1,function(e){e.exports=zO()}(MO)),MO.exports}function BO(){if(lw)return cw;lw=1;var e=Yy(),t=aw?iw:(aw=1,iw=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),n=uw?sw:(uw=1,sw=function(e){return this.__data__.has(e)});function r(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new e;++n<r;)this.add(t[n])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,cw=r}function QO(){if(pw)return hw;return pw=1,hw=function(e,t){return e.has(t)},hw}function UO(){if(yw)return vw;yw=1;var e=BO(),t=(dw||(dw=1,fw=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}),fw),n=QO();return vw=function(r,o,i,a,s,u){var c=1&i,l=r.length,f=o.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(r),h=u.get(o);if(d&&h)return d==o&&h==r;var p=-1,v=!0,y=2&i?new e:void 0;for(u.set(r,o),u.set(o,r);++p<l;){var g=r[p],m=o[p];if(a)var b=c?a(m,g,p,o,r,u):a(g,m,p,r,o,u);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!t(o,(function(e,t){if(!n(y,t)&&(g===e||s(g,e,i,a,u)))return y.push(t)}))){v=!1;break}}else if(g!==m&&!s(g,m,i,a,u)){v=!1;break}}return u.delete(r),u.delete(o),v},vw}function YO(){if(ww)return bw;return ww=1,bw=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},bw}function HO(){if(Ew)return _w;Ew=1;var e=My(),t=Db(),n=Dy(),r=UO(),o=(mw||(mw=1,gw=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}),gw),i=YO(),a=e?e.prototype:void 0,s=a?a.valueOf:void 0;return _w=function(e,a,u,c,l,f,d){switch(u){case"[object DataView]":if(e.byteLength!=a.byteLength||e.byteOffset!=a.byteOffset)return!1;e=e.buffer,a=a.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=a.byteLength||!f(new t(e),new t(a)));case"[object Boolean]":case"[object Date]":case"[object Number]":return n(+e,+a);case"[object Error]":return e.name==a.name&&e.message==a.message;case"[object RegExp]":case"[object String]":return e==a+"";case"[object Map]":var h=o;case"[object Set]":var p=1&c;if(h||(h=i),e.size!=a.size&&!p)return!1;var v=d.get(e);if(v)return v==a;c|=2,d.set(e,a);var y=r(h(e),h(a),c,l,f,d);return d.delete(e),y;case"[object Symbol]":if(s)return s.call(e)==s.call(a)}return!1}}function WO(){if(kw)return xw;kw=1;var e=Hy(),t=UO(),n=HO(),r=function(){if(Sw)return Ow;Sw=1;var e=kb(),t=Object.prototype.hasOwnProperty;return Ow=function(n,r,o,i,a,s){var u=1&o,c=e(n),l=c.length;if(l!=e(r).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in r:t.call(r,d)))return!1}var h=s.get(n),p=s.get(r);if(h&&p)return h==r&&p==n;var v=!0;s.set(n,r),s.set(r,n);for(var y=u;++f<l;){var g=n[d=c[f]],m=r[d];if(i)var b=u?i(m,g,d,r,n,s):i(g,m,d,n,r,s);if(!(void 0===b?g===m||a(g,m,o,i,s):b)){v=!1;break}y||(y="constructor"==d)}if(v&&!y){var w=n.constructor,_=r.constructor;w==_||!("constructor"in n)||!("constructor"in r)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(v=!1)}return s.delete(n),s.delete(r),v},Ow}(),o=Cb(),i=eg(),a=hg(),s=Hg(),u="[object Arguments]",c="[object Array]",l="[object Object]",f=Object.prototype.hasOwnProperty;return xw=function(d,h,p,v,y,g){var m=i(d),b=i(h),w=m?c:o(d),_=b?c:o(h),E=(w=w==u?l:w)==l,O=(_=_==u?l:_)==l,S=w==_;if(S&&a(d)){if(!a(h))return!1;m=!0,E=!1}if(S&&!E)return g||(g=new e),m||s(d)?t(d,h,p,v,y,g):n(d,h,w,p,v,y,g);if(!(1&p)){var x=E&&f.call(d,"__wrapped__"),k=O&&f.call(h,"__wrapped__");if(x||k){var N=x?d.value():d,C=k?h.value():h;return g||(g=new e),y(N,C,p,v,g)}}return!!S&&(g||(g=new e),r(d,h,p,v,y,g))}}function GO(){if(Cw)return Nw;Cw=1;var e=WO(),t=Zy();return Nw=function n(r,o,i,a,s){return r===o||(null==r||null==o||!t(r)&&!t(o)?r!=r&&o!=o:e(r,o,i,a,n,s))},Nw}function XO(){if(Iw)return Pw;Iw=1;var e=Ry();return Pw=function(t){return t==t&&!e(t)}}function KO(){if(Rw)return Aw;return Rw=1,Aw=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}}function $O(){if(Lw)return Fw;Lw=1;var e=function(){if(jw)return Dw;jw=1;var e=Hy(),t=GO();return Dw=function(n,r,o,i){var a=o.length,s=a,u=!i;if(null==n)return!s;for(n=Object(n);a--;){var c=o[a];if(u&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++a<s;){var l=(c=o[a])[0],f=n[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in n))return!1}else{var h=new e;if(i)var p=i(f,d,l,n,r,h);if(!(void 0===p?t(d,f,3,i,h):p))return!1}}return!0},Dw}(),t=function(){if(Mw)return Tw;Mw=1;var e=XO(),t=Zg();return Tw=function(n){for(var r=t(n),o=r.length;o--;){var i=r[o],a=n[i];r[o]=[i,a,e(a)]}return r}}(),n=KO();return Fw=function(r){var o=t(r);return 1==o.length&&o[0][2]?n(o[0][0],o[0][1]):function(t){return t===r||e(t,r,o)}}}function ZO(){if(zw)return Vw;zw=1;var e=Ay(),t=Zy();return Vw=function(n){return"symbol"==typeof n||t(n)&&"[object Symbol]"==e(n)}}function JO(){if(Bw)return qw;Bw=1;var e=eg(),t=ZO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;return qw=function(o,i){if(e(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!t(o))||(r.test(o)||!n.test(o)||null!=i&&o in Object(i))}}function eS(){if(Hw)return Yw;Hw=1;var e=function(){if(Uw)return Qw;Uw=1;var e=Yy();function t(n,r){if("function"!=typeof n||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var o=function(){var e=arguments,t=r?r.apply(this,e):e[0],i=o.cache;if(i.has(t))return i.get(t);var a=n.apply(this,e);return o.cache=i.set(t,a)||i,a};return o.cache=new(t.Cache||e),o}return t.Cache=e,Qw=t}();return Yw=function(t){var n=e(t,(function(e){return 500===r.size&&r.clear(),e})),r=n.cache;return n},Yw}function tS(){if(Kw)return Xw;return Kw=1,Xw=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},Xw}function nS(){if(e_)return Jw;e_=1;var e=function(){if(Zw)return $w;Zw=1;var e=My(),t=tS(),n=eg(),r=ZO(),o=e?e.prototype:void 0,i=o?o.toString:void 0;return $w=function e(o){if("string"==typeof o)return o;if(n(o))return t(o,e)+"";if(r(o))return i?i.call(o):"";var a=o+"";return"0"==a&&1/o==-1/0?"-0":a},$w}();return Jw=function(t){return null==t?"":e(t)}}function rS(){if(n_)return t_;n_=1;var e=eg(),t=JO(),n=function(){if(Gw)return Ww;Gw=1;var e=eS(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e((function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(t,(function(e,t,o,i){r.push(o?i.replace(n,"$1"):t||e)})),r}));return Ww=r}(),r=nS();return t_=function(o,i){return e(o)?o:t(o,i)?[o]:n(r(o))}}function oS(){if(o_)return r_;o_=1;var e=ZO();return r_=function(t){if("string"==typeof t||e(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}}function iS(){if(a_)return i_;a_=1;var e=rS(),t=oS();return i_=function(n,r){for(var o=0,i=(r=e(r,n)).length;null!=n&&o<i;)n=n[t(r[o++])];return o&&o==i?n:void 0},i_}function aS(){if(d_)return f_;d_=1;var e=rS(),t=Jy(),n=eg(),r=pg(),o=vg(),i=oS();return f_=function(a,s,u){for(var c=-1,l=(s=e(s,a)).length,f=!1;++c<l;){var d=i(s[c]);if(!(f=null!=a&&u(a,d)))break;a=a[d]}return f||++c!=l?f:!!(l=null==a?0:a.length)&&o(l)&&r(d,l)&&(n(a)||t(a))},f_}function sS(){if(p_)return h_;p_=1;var e=l_?c_:(l_=1,c_=function(e,t){return null!=e&&t in Object(e)}),t=aS();return h_=function(n,r){return null!=n&&t(n,r,e)}}function uS(){if(y_)return v_;y_=1;var e=GO(),t=function(){if(u_)return s_;u_=1;var e=iS();return s_=function(t,n,r){var o=null==t?void 0:e(t,n);return void 0===o?r:o}}(),n=sS(),r=JO(),o=XO(),i=KO(),a=oS();return v_=function(s,u){return r(s)&&o(u)?i(a(s),u):function(r){var o=t(r,s);return void 0===o&&o===u?n(r,s):e(u,o,3)}}}function cS(){if(m_)return g_;return m_=1,g_=function(e){return function(t){return null==t?void 0:t[e]}}}function lS(){if(E_)return __;E_=1;var e=cS(),t=function(){if(w_)return b_;w_=1;var e=iS();return b_=function(t){return function(n){return e(n,t)}}}(),n=JO(),r=oS();return __=function(o){return n(o)?e(r(o)):t(o)}}function fS(){if(S_)return O_;S_=1;var e=$O(),t=uS(),n=LO(),r=eg(),o=lS();return O_=function(i){return"function"==typeof i?i:null==i?n:"object"==typeof i?r(i)?t(i[0],i[1]):e(i):o(i)}}function dS(){if(k_)return x_;k_=1;var e=bb(),t=function(){if(ow)return rw;ow=1;var e=FO();return rw=function(t,n){var r=[];return e(t,(function(e,t,o){n(e,t,o)&&r.push(e)})),r},rw}(),n=fS(),r=eg();return x_=function(o,i){return(r(o)?e:t)(o,n(i,3))}}function hS(){if(j_)return D_;j_=1;var e=function(){if(C_)return N_;C_=1;var e=Object.prototype.hasOwnProperty;return N_=function(t,n){return null!=t&&e.call(t,n)}}(),t=aS();return D_=function(n,r){return null!=n&&t(n,r,e)}}function pS(){if(I_)return P_;I_=1;var e=Kg(),t=Cb(),n=Jy(),r=eg(),o=$g(),i=hg(),a=Gg(),s=Hg(),u=Object.prototype.hasOwnProperty;return P_=function(c){if(null==c)return!0;if(o(c)&&(r(c)||"string"==typeof c||"function"==typeof c.splice||i(c)||s(c)||n(c)))return!c.length;var l=t(c);if("[object Map]"==l||"[object Set]"==l)return!c.size;if(a(c))return!e(c).length;for(var f in c)if(u.call(c,f))return!1;return!0}}function vS(){if(M_)return T_;return M_=1,T_=function(e){return void 0===e}}function yS(){if(R_)return A_;R_=1;var e=FO(),t=$g();return A_=function(n,r){var o=-1,i=t(n)?Array(n.length):[];return e(n,(function(e,t,n){i[++o]=r(e,t,n)})),i},A_}function gS(){if(L_)return F_;L_=1;var e=tS(),t=fS(),n=yS(),r=eg();return F_=function(o,i){return(r(o)?e:n)(o,t(i,3))}}function mS(){if(U_)return Q_;U_=1;var e=(z_||(z_=1,V_=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}),V_),t=FO(),n=fS(),r=(B_||(B_=1,q_=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}),q_),o=eg();return Q_=function(i,a,s){var u=o(i)?e:r,c=arguments.length<3;return u(i,n(a,4),s,c,t)},Q_}function bS(){if(eE)return J_;eE=1;var e=function(){if(G_)return W_;G_=1;var e=cS()("length");return W_=e}(),t=function(){if(K_)return X_;K_=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return X_=function(t){return e.test(t)}}(),n=function(){if(Z_)return $_;Z_=1;var e="[\\ud800-\\udfff]",t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+t+"|"+n+")?",s="[\\ufe0e\\ufe0f]?",u=s+a+"(?:\\u200d(?:"+[r,o,i].join("|")+")"+s+a+")*",c="(?:"+[r+t+"?",t,o,i,e].join("|")+")",l=RegExp(n+"(?="+n+")|"+c+u,"g");return $_=function(e){for(var t=l.lastIndex=0;l.test(e);)++t;return t}}();return J_=function(r){return t(r)?n(r):e(r)}}function wS(){if(nE)return tE;nE=1;var e=Kg(),t=Cb(),n=$g(),r=function(){if(H_)return Y_;H_=1;var e=Ay(),t=eg(),n=Zy();return Y_=function(r){return"string"==typeof r||!t(r)&&n(r)&&"[object String]"==e(r)}}(),o=bS();return tE=function(i){if(null==i)return 0;if(n(i))return r(i)?o(i):i.length;var a=t(i);return"[object Map]"==a||"[object Set]"==a?i.size:e(i).length}}function _S(){if(oE)return rE;oE=1;var e=Wy(),t=Tb(),n=RO(),r=fS(),o=Ob(),i=eg(),a=hg(),s=Fy(),u=Ry(),c=Hg();return rE=function(l,f,d){var h=i(l),p=h||a(l)||c(l);if(f=r(f,4),null==d){var v=l&&l.constructor;d=p?h?new v:[]:u(l)&&s(v)?t(o(l)):{}}return(p?e:n)(l,(function(e,t,n){return f(d,e,t,n)})),d},rE}function ES(){if(uE)return sE;uE=1;var e=Eb(),t=function(){if(aE)return iE;aE=1;var e=My(),t=Jy(),n=eg(),r=e?e.isConcatSpreadable:void 0;return iE=function(e){return n(e)||t(e)||!!(r&&e&&e[r])}}();return sE=function n(r,o,i,a,s){var u=-1,c=r.length;for(i||(i=t),s||(s=[]);++u<c;){var l=r[u];o>0&&i(l)?o>1?n(l,o-1,i,a,s):e(s,l):a||(s[s.length]=l)}return s},sE}function OS(){if(dE)return fE;dE=1;var e=lE?cE:(lE=1,cE=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}),t=Math.max;return fE=function(n,r,o){return r=t(void 0===r?n.length-1:r,0),function(){for(var i=arguments,a=-1,s=t(i.length-r,0),u=Array(s);++a<s;)u[a]=i[r+a];a=-1;for(var c=Array(r+1);++a<r;)c[a]=i[a];return c[r]=o(u),e(n,this,c)}},fE}function SS(){if(mE)return gE;mE=1;var e=function(){if(pE)return hE;pE=1;var e=Vb(),t=Gy(),n=LO();return hE=t?function(n,r){return t(n,"toString",{configurable:!0,enumerable:!1,value:e(r),writable:!0})}:n}(),t=function(){if(yE)return vE;yE=1;var e=Date.now;return vE=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}},vE}(),n=t(e);return gE=n}function xS(){if(wE)return bE;wE=1;var e=LO(),t=OS(),n=SS();return bE=function(r,o){return n(t(r,o,e),r+"")},bE}function kS(){if(EE)return _E;return EE=1,_E=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1},_E}function NS(){if(CE)return NE;CE=1;var e=kS(),t=SE?OE:(SE=1,OE=function(e){return e!=e}),n=(kE||(kE=1,xE=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}),xE);return NE=function(r,o,i){return o==o?n(r,o,i):e(r,t,i)},NE}function CS(){if(RE)return AE;RE=1;var e=Nb(),t=ME?TE:(ME=1,TE=function(){}),n=YO(),r=e&&1/n(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return AE=r}function DS(){if(LE)return FE;LE=1;var e=BO(),t=function(){if(jE)return DE;jE=1;var e=NS();return DE=function(t,n){return!(null==t||!t.length)&&e(t,n,0)>-1},DE}(),n=(IE||(IE=1,PE=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}),PE),r=QO(),o=CS(),i=YO();return FE=function(a,s,u){var c=-1,l=t,f=a.length,d=!0,h=[],p=h;if(u)d=!1,l=n;else if(f>=200){var v=s?null:o(a);if(v)return i(v);d=!1,l=r,p=new e}else p=s?[]:h;e:for(;++c<f;){var y=a[c],g=s?s(y):y;if(y=u||0!==y?y:0,d&&g==g){for(var m=p.length;m--;)if(p[m]===g)continue e;s&&p.push(g),h.push(y)}else l(p,g,u)||(p!==h&&p.push(g),h.push(y))}return h},FE}function jS(){if(zE)return VE;zE=1;var e=$g(),t=Zy();return VE=function(n){return t(n)&&e(n)}}function PS(){if(BE)return qE;BE=1;var e=ES(),t=xS(),n=DS(),r=jS(),o=t((function(t){return n(e(t,1,r,!0))}));return qE=o}function IS(){if(HE)return YE;HE=1;var e=function(){if(UE)return QE;UE=1;var e=tS();return QE=function(t,n){return e(n,(function(e){return t[e]}))}}(),t=Zg();return YE=function(n){return null==n?[]:e(n,t(n))}}function TS(){if(GE)return WE;var e;GE=1;try{e={clone:Lb(),constant:Vb(),each:qO(),filter:dS(),has:hS(),isArray:eg(),isEmpty:pS(),isFunction:Fy(),isUndefined:vS(),keys:Zg(),map:gS(),reduce:mS(),size:wS(),transform:_S(),union:PS(),values:IS()}}catch(e){}return e||(e=window._),WE=e}function MS(){if(KE)return XE;KE=1;var e=TS();XE=n;var t="\0";function n(t){this._isDirected=!e.has(t,"directed")||t.directed,this._isMultigraph=!!e.has(t,"multigraph")&&t.multigraph,this._isCompound=!!e.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function r(e,t){e[t]?e[t]++:e[t]=1}function o(e,t){--e[t]||delete e[t]}function i(t,n,r,o){var i=""+n,a=""+r;if(!t&&i>a){var s=i;i=a,a=s}return i+""+a+""+(e.isUndefined(o)?"\0":o)}function a(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function s(e,t){return i(e,t.v,t.w,t.name)}return n.prototype._nodeCount=0,n.prototype._edgeCount=0,n.prototype.isDirected=function(){return this._isDirected},n.prototype.isMultigraph=function(){return this._isMultigraph},n.prototype.isCompound=function(){return this._isCompound},n.prototype.setGraph=function(e){return this._label=e,this},n.prototype.graph=function(){return this._label},n.prototype.setDefaultNodeLabel=function(t){return e.isFunction(t)||(t=e.constant(t)),this._defaultNodeLabelFn=t,this},n.prototype.nodeCount=function(){return this._nodeCount},n.prototype.nodes=function(){return e.keys(this._nodes)},n.prototype.sources=function(){var t=this;return e.filter(this.nodes(),(function(n){return e.isEmpty(t._in[n])}))},n.prototype.sinks=function(){var t=this;return e.filter(this.nodes(),(function(n){return e.isEmpty(t._out[n])}))},n.prototype.setNodes=function(t,n){var r=arguments,o=this;return e.each(t,(function(e){r.length>1?o.setNode(e,n):o.setNode(e)})),this},n.prototype.setNode=function(n,r){return e.has(this._nodes,n)?(arguments.length>1&&(this._nodes[n]=r),this):(this._nodes[n]=arguments.length>1?r:this._defaultNodeLabelFn(n),this._isCompound&&(this._parent[n]=t,this._children[n]={},this._children["\0"][n]=!0),this._in[n]={},this._preds[n]={},this._out[n]={},this._sucs[n]={},++this._nodeCount,this)},n.prototype.node=function(e){return this._nodes[e]},n.prototype.hasNode=function(t){return e.has(this._nodes,t)},n.prototype.removeNode=function(t){var n=this;if(e.has(this._nodes,t)){var r=function(e){n.removeEdge(n._edgeObjs[e])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],e.each(this.children(t),(function(e){n.setParent(e)})),delete this._children[t]),e.each(e.keys(this._in[t]),r),delete this._in[t],delete this._preds[t],e.each(e.keys(this._out[t]),r),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},n.prototype.setParent=function(n,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(r))r=t;else{for(var o=r+="";!e.isUndefined(o);o=this.parent(o))if(o===n)throw new Error("Setting "+r+" as parent of "+n+" would create a cycle");this.setNode(r)}return this.setNode(n),this._removeFromParentsChildList(n),this._parent[n]=r,this._children[r][n]=!0,this},n.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},n.prototype.parent=function(e){if(this._isCompound){var n=this._parent[e];if(n!==t)return n}},n.prototype.children=function(n){if(e.isUndefined(n)&&(n=t),this._isCompound){var r=this._children[n];if(r)return e.keys(r)}else{if(n===t)return this.nodes();if(this.hasNode(n))return[]}},n.prototype.predecessors=function(t){var n=this._preds[t];if(n)return e.keys(n)},n.prototype.successors=function(t){var n=this._sucs[t];if(n)return e.keys(n)},n.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return e.union(n,this.successors(t))},n.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},n.prototype.filterNodes=function(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var r=this;e.each(this._nodes,(function(e,r){t(r)&&n.setNode(r,e)})),e.each(this._edgeObjs,(function(e){n.hasNode(e.v)&&n.hasNode(e.w)&&n.setEdge(e,r.edge(e))}));var o={};function i(e){var t=r.parent(e);return void 0===t||n.hasNode(t)?(o[e]=t,t):t in o?o[t]:i(t)}return this._isCompound&&e.each(n.nodes(),(function(e){n.setParent(e,i(e))})),n},n.prototype.setDefaultEdgeLabel=function(t){return e.isFunction(t)||(t=e.constant(t)),this._defaultEdgeLabelFn=t,this},n.prototype.edgeCount=function(){return this._edgeCount},n.prototype.edges=function(){return e.values(this._edgeObjs)},n.prototype.setPath=function(t,n){var r=this,o=arguments;return e.reduce(t,(function(e,t){return o.length>1?r.setEdge(e,t,n):r.setEdge(e,t),t})),this},n.prototype.setEdge=function(){var t,n,o,s,u=!1,c=arguments[0];"object"==typeof c&&null!==c&&"v"in c?(t=c.v,n=c.w,o=c.name,2===arguments.length&&(s=arguments[1],u=!0)):(t=c,n=arguments[1],o=arguments[3],arguments.length>2&&(s=arguments[2],u=!0)),t=""+t,n=""+n,e.isUndefined(o)||(o=""+o);var l=i(this._isDirected,t,n,o);if(e.has(this._edgeLabels,l))return u&&(this._edgeLabels[l]=s),this;if(!e.isUndefined(o)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[l]=u?s:this._defaultEdgeLabelFn(t,n,o);var f=a(this._isDirected,t,n,o);return t=f.v,n=f.w,Object.freeze(f),this._edgeObjs[l]=f,r(this._preds[n],t),r(this._sucs[t],n),this._in[n][l]=f,this._out[t][l]=f,this._edgeCount++,this},n.prototype.edge=function(e,t,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):i(this._isDirected,e,t,n);return this._edgeLabels[r]},n.prototype.hasEdge=function(t,n,r){var o=1===arguments.length?s(this._isDirected,arguments[0]):i(this._isDirected,t,n,r);return e.has(this._edgeLabels,o)},n.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?s(this._isDirected,arguments[0]):i(this._isDirected,e,t,n),a=this._edgeObjs[r];return a&&(e=a.v,t=a.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[t],e),o(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},n.prototype.inEdges=function(t,n){var r=this._in[t];if(r){var o=e.values(r);return n?e.filter(o,(function(e){return e.v===n})):o}},n.prototype.outEdges=function(t,n){var r=this._out[t];if(r){var o=e.values(r);return n?e.filter(o,(function(e){return e.w===n})):o}},n.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))},XE}function AS(){return eO?JE:(eO=1,JE={Graph:MS(),version:ZE?$E:(ZE=1,$E="2.1.8")})}function RS(){if(nO)return tO;nO=1;var e=TS(),t=MS();function n(t){return e.map(t.nodes(),(function(n){var r=t.node(n),o=t.parent(n),i={v:n};return e.isUndefined(r)||(i.value=r),e.isUndefined(o)||(i.parent=o),i}))}function r(t){return e.map(t.edges(),(function(n){var r=t.edge(n),o={v:n.v,w:n.w};return e.isUndefined(n.name)||(o.name=n.name),e.isUndefined(r)||(o.value=r),o}))}return tO={write:function(t){var o={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:n(t),edges:r(t)};e.isUndefined(t.graph())||(o.value=e.clone(t.graph()));return o},read:function(n){var r=new t(n.options).setGraph(n.value);return e.each(n.nodes,(function(e){r.setNode(e.v,e.value),e.parent&&r.setParent(e.v,e.parent)})),e.each(n.edges,(function(e){r.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),r}}}function FS(){if(oO)return rO;oO=1;var e=TS();return rO=function(t){var n,r={},o=[];function i(o){e.has(r,o)||(r[o]=!0,n.push(o),e.each(t.successors(o),i),e.each(t.predecessors(o),i))}return e.each(t.nodes(),(function(e){n=[],i(e),n.length&&o.push(n)})),o},rO}function LS(){if(aO)return iO;aO=1;var e=TS();function t(){this._arr=[],this._keyIndices={}}return iO=t,t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},t.prototype.has=function(t){return e.has(this._keyIndices,t)},t.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},t.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(t,n){var r=this._keyIndices;if(t=String(t),!e.has(r,t)){var o=this._arr,i=o.length;return r[t]=i,o.push({key:t,priority:n}),this._decrease(i),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},t.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},t.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},t.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},t.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t},iO}function VS(){if(uO)return sO;uO=1;var e=TS(),t=LS();sO=function(e,r,o,i){return function(e,n,r,o){var i,a,s={},u=new t,c=function(e){var t=e.v!==i?e.v:e.w,n=s[t],o=r(e),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<n.distance&&(n.distance=c,n.predecessor=i,u.decrease(t,c))};e.nodes().forEach((function(e){var t=e===n?0:Number.POSITIVE_INFINITY;s[e]={distance:t},u.add(e,t)}));for(;u.size()>0&&(i=u.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)o(i).forEach(c);return s}(e,String(r),o||n,i||function(t){return e.outEdges(t)})};var n=e.constant(1);return sO}function zS(){if(lO)return cO;lO=1;var e=VS(),t=TS();return cO=function(n,r,o){return t.transform(n.nodes(),(function(t,i){t[i]=e(n,i,r,o)}),{})}}function qS(){if(dO)return fO;dO=1;var e=TS();return fO=function(t){var n=0,r=[],o={},i=[];function a(s){var u=o[s]={onStack:!0,lowlink:n,index:n++};if(r.push(s),t.successors(s).forEach((function(t){e.has(o,t)?o[t].onStack&&(u.lowlink=Math.min(u.lowlink,o[t].index)):(a(t),u.lowlink=Math.min(u.lowlink,o[t].lowlink))})),u.lowlink===u.index){var c,l=[];do{c=r.pop(),o[c].onStack=!1,l.push(c)}while(s!==c);i.push(l)}}return t.nodes().forEach((function(t){e.has(o,t)||a(t)})),i},fO}function BS(){if(pO)return hO;pO=1;var e=TS(),t=qS();return hO=function(n){return e.filter(t(n),(function(e){return e.length>1||1===e.length&&n.hasEdge(e[0],e[0])}))}}function QS(){if(yO)return vO;yO=1;var e=TS();vO=function(e,n,r){return function(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}(e,n||t,r||function(t){return e.outEdges(t)})};var t=e.constant(1);return vO}function US(){if(mO)return gO;mO=1;var e=TS();function t(t){var r={},o={},i=[];if(e.each(t.sinks(),(function a(s){if(e.has(o,s))throw new n;e.has(r,s)||(o[s]=!0,r[s]=!0,e.each(t.predecessors(s),a),delete o[s],i.push(s))})),e.size(r)!==t.nodeCount())throw new n;return i}function n(){}return gO=t,t.CycleException=n,n.prototype=new Error,gO}function YS(){if(wO)return bO;wO=1;var e=US();return bO=function(t){try{e(t)}catch(t){if(t instanceof e.CycleException)return!1;throw t}return!0}}function HS(){if(EO)return _O;EO=1;var e=TS();function t(n,r,o,i,a,s){e.has(i,r)||(i[r]=!0,o||s.push(r),e.each(a(r),(function(e){t(n,e,o,i,a,s)})),o&&s.push(r))}return _O=function(n,r,o){e.isArray(r)||(r=[r]);var i=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],s={};return e.each(r,(function(e){if(!n.hasNode(e))throw new Error("Graph does not have node: "+e);t(n,e,"post"===o,s,i,a)})),a},_O}function WS(){if(SO)return OO;SO=1;var e=HS();return OO=function(t,n){return e(t,n,"post")}}function GS(){if(kO)return xO;kO=1;var e=HS();return xO=function(t,n){return e(t,n,"pre")}}function XS(){if(CO)return NO;CO=1;var e=TS(),t=MS(),n=LS();return NO=function(r,o){var i,a=new t,s={},u=new n;function c(e){var t=e.v===i?e.w:e.v,n=u.priority(t);if(void 0!==n){var r=o(e);r<n&&(s[t]=i,u.decrease(t,r))}}if(0===r.nodeCount())return a;e.each(r.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(r.nodes()[0],0);var l=!1;for(;u.size()>0;){if(i=u.removeMin(),e.has(s,i))a.setEdge(i,s[i]);else{if(l)throw new Error("Input graph is not connected: "+r);l=!0}r.nodeEdges(i).forEach(c)}return a},NO}try{TO=function(){if(IO)return PO;IO=1;var e=AS();return PO={Graph:e.Graph,json:RS(),alg:jO?DO:(jO=1,DO={components:FS(),dijkstra:VS(),dijkstraAll:zS(),findCycles:BS(),floydWarshall:QS(),isAcyclic:YS(),postorder:WS(),preorder:GS(),prim:XS(),tarjan:qS(),topsort:US()}),version:e.version}}()}catch(e){}TO||(TO=window.graphlib);var KS,$S,ZS,JS,ex,tx,nx,rx,ox,ix,ax,sx,ux,cx,lx,fx,dx,hx,px,vx,yx,gx,mx,bx,wx,_x,Ex,Ox,Sx,xx,kx,Nx,Cx,Dx,jx,Px,Ix,Tx,Mx,Ax,Rx,Fx,Lx,Vx,zx,qx,Bx,Qx,Ux,Yx,Hx,Wx,Gx,Xx,Kx,$x,Zx,Jx,ek,tk,nk,rk,ok,ik,ak,sk,uk,ck,lk,fk,dk,hk,pk,vk,yk,gk,mk,bk,wk,_k,Ek,Ok,Sk,xk,kk,Nk,Ck,Dk,jk,Pk,Ik,Tk,Mk,Ak=TO;function Rk(){if(JS)return ZS;JS=1;var e=Dy(),t=$g(),n=pg(),r=Ry();return ZS=function(o,i,a){if(!r(a))return!1;var s=typeof i;return!!("number"==s?t(a)&&n(i,a.length):"string"==s&&i in a)&&e(a[i],o)},ZS}function Fk(){if(sx)return ax;sx=1;var e=function(){if(ix)return ox;ix=1;var e=/\s/;return ox=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n},ox}(),t=/^\s+/;return ax=function(n){return n?n.slice(0,e(n)+1).replace(t,""):n}}function Lk(){if(fx)return lx;fx=1;var e=function(){if(cx)return ux;cx=1;var e=Fk(),t=Ry(),n=ZO(),r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt;return ux=function(s){if("number"==typeof s)return s;if(n(s))return NaN;if(t(s)){var u="function"==typeof s.valueOf?s.valueOf():s;s=t(u)?u+"":u}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var c=o.test(s);return c||i.test(s)?a(s.slice(2),c?2:8):r.test(s)?NaN:+s}}(),t=1/0;return lx=function(n){return n?(n=e(n))===t||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}}function Vk(){if(vx)return px;vx=1;var e=kS(),t=fS(),n=function(){if(hx)return dx;hx=1;var e=Lk();return dx=function(t){var n=e(t),r=n%1;return n==n?r?n-r:n:0}}(),r=Math.max;return px=function(o,i,a){var s=null==o?0:o.length;if(!s)return-1;var u=null==a?0:n(a);return u<0&&(u=r(s+u,0)),e(o,t(i,3),u)},px}function zk(){if(bx)return mx;bx=1;var e=ES();return mx=function(t){return(null==t?0:t.length)?e(t,1):[]},mx}function qk(){if(Nx)return kx;Nx=1;var e=ZO();return kx=function(t,n,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n(a);if(null!=s&&(void 0===u?s==s&&!e(s):r(s,u)))var u=s,c=a}return c},kx}function Bk(){if(Tx)return Ix;Tx=1;var e=Xy(),t=Dy();return Ix=function(n,r,o){(void 0!==o&&!t(n[r],o)||void 0===o&&!(r in n))&&e(n,r,o)}}function Qk(){if(Fx)return Rx;return Fx=1,Rx=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}}function Uk(){if(qx)return zx;qx=1;var e=Bk(),t=gb(),n=Pb(),r=mb(),o=Mb(),i=Jy(),a=eg(),s=jS(),u=hg(),c=Fy(),l=Ry(),f=function(){if(Ax)return Mx;Ax=1;var e=Ay(),t=Ob(),n=Zy(),r=Function.prototype,o=Object.prototype,i=r.toString,a=o.hasOwnProperty,s=i.call(Object);return Mx=function(r){if(!n(r)||"[object Object]"!=e(r))return!1;var o=t(r);if(null===o)return!0;var u=a.call(o,"constructor")&&o.constructor;return"function"==typeof u&&u instanceof u&&i.call(u)==s}}(),d=Hg(),h=Qk(),p=function(){if(Vx)return Lx;Vx=1;var e=$y(),t=em();return Lx=function(n){return e(n,t(n))}}();return zx=function(v,y,g,m,b,w,_){var E=h(v,g),O=h(y,g),S=_.get(O);if(S)e(v,g,S);else{var x=w?w(E,O,g+"",v,y,_):void 0,k=void 0===x;if(k){var N=a(O),C=!N&&u(O),D=!N&&!C&&d(O);x=O,N||C||D?a(E)?x=E:s(E)?x=r(E):C?(k=!1,x=t(O,!0)):D?(k=!1,x=n(O,!0)):x=[]:f(O)||i(O)?(x=E,i(E)?x=p(E):l(E)&&!c(E)||(x=o(O))):k=!1}k&&(_.set(O,x),b(x,O,m,w,_),_.delete(O)),e(v,g,x)}}}function Yk(){if(Xx)return Gx;return Xx=1,Gx=function(e,t){return e<t}}function Hk(){if(ik)return ok;ik=1;var e=iS(),t=function(){if(rk)return nk;rk=1;var e=Ky(),t=rS(),n=pg(),r=Ry(),o=oS();return nk=function(i,a,s,u){if(!r(i))return i;for(var c=-1,l=(a=t(a,i)).length,f=l-1,d=i;null!=d&&++c<l;){var h=o(a[c]),p=s;if("__proto__"===h||"constructor"===h||"prototype"===h)return i;if(c!=f){var v=d[h];void 0===(p=u?u(v,h,d):void 0)&&(p=r(v)?v:n(a[c+1])?[]:{})}e(d,h,p),d=d[h]}return i},nk}(),n=rS();return ok=function(r,o,i){for(var a=-1,s=o.length,u={};++a<s;){var c=o[a],l=e(r,c);i(l,c)&&t(u,n(c,r),l)}return u},ok}function Wk(){if(vk)return pk;vk=1;var e=function(){if(hk)return dk;hk=1;var e=Math.ceil,t=Math.max;return dk=function(n,r,o,i){for(var a=-1,s=t(e((r-n)/(o||1)),0),u=Array(s);s--;)u[i?s:++a]=n,n+=o;return u},dk}(),t=Rk(),n=Lk();return pk=function(r){return function(o,i,a){return a&&"number"!=typeof a&&t(o,i,a)&&(i=a=void 0),o=n(o),void 0===i?(i=o,o=0):i=n(i),a=void 0===a?o<i?1:-1:n(a),e(o,i,a,r)}},pk}function Gk(){if(Ok)return Ek;Ok=1;var e=function(){if(_k)return wk;_k=1;var e=ZO();return wk=function(t,n){if(t!==n){var r=void 0!==t,o=null===t,i=t==t,a=e(t),s=void 0!==n,u=null===n,c=n==n,l=e(n);if(!u&&!l&&!a&&t>n||a&&s&&c&&!u&&!l||o&&s&&c||!r&&c||!i)return 1;if(!o&&!a&&!l&&t<n||l&&r&&i&&!o&&!a||u&&r&&i||!s&&i||!c)return-1}return 0}}();return Ek=function(t,n,r){for(var o=-1,i=t.criteria,a=n.criteria,s=i.length,u=r.length;++o<s;){var c=e(i[o],a[o]);if(c)return o>=u?c:c*("desc"==r[o]?-1:1)}return t.index-n.index},Ek}function Xk(){if(xk)return Sk;xk=1;var e=tS(),t=iS(),n=fS(),r=yS(),o=(bk||(bk=1,mk=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}),mk),i=yg(),a=Gk(),s=LO(),u=eg();return Sk=function(c,l,f){l=l.length?e(l,(function(e){return u(e)?function(n){return t(n,1===e.length?e[0]:e)}:e})):[s];var d=-1;l=e(l,i(n));var h=r(c,(function(t,n,r){return{criteria:e(l,(function(e){return e(t)})),index:++d,value:t}}));return o(h,(function(e,t){return a(e,t,f)}))},Sk}try{Mk={cloneDeep:function(){if($S)return KS;$S=1;var e=Fb();return KS=function(t){return e(t,5)}}(),constant:Vb(),defaults:function(){if(tx)return ex;tx=1;var e=xS(),t=Dy(),n=Rk(),r=em(),o=Object.prototype,i=o.hasOwnProperty,a=e((function(e,a){e=Object(e);var s=-1,u=a.length,c=u>2?a[2]:void 0;for(c&&n(a[0],a[1],c)&&(u=1);++s<u;)for(var l=a[s],f=r(l),d=-1,h=f.length;++d<h;){var p=f[d],v=e[p];(void 0===v||t(v,o[p])&&!i.call(e,p))&&(e[p]=l[p])}return e}));return ex=a}(),each:qO(),filter:dS(),find:function(){if(gx)return yx;gx=1;var e=function(){if(rx)return nx;rx=1;var e=fS(),t=$g(),n=Zg();return nx=function(r){return function(o,i,a){var s=Object(o);if(!t(o)){var u=e(i,3);o=n(o),i=function(e){return u(s[e],e,s)}}var c=r(o,i,a);return c>-1?s[u?o[c]:c]:void 0}},nx}(),t=e(Vk());return yx=t}(),flatten:zk(),forEach:zO(),forIn:function(){if(_x)return wx;_x=1;var e=AO(),t=VO(),n=em();return wx=function(r,o){return null==r?r:e(r,t(o),n)}}(),has:hS(),isUndefined:vS(),last:(Ox||(Ox=1,Ex=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}),Ex),map:gS(),mapValues:function(){if(xx)return Sx;xx=1;var e=Xy(),t=RO(),n=fS();return Sx=function(r,o){var i={};return o=n(o,3),t(r,(function(t,n,r){e(i,n,o(t,n,r))})),i}}(),max:function(){if(Px)return jx;Px=1;var e=qk(),t=Dx?Cx:(Dx=1,Cx=function(e,t){return e>t}),n=LO();return jx=function(r){return r&&r.length?e(r,n,t):void 0},jx}(),merge:function(){if(Wx)return Hx;Wx=1;var e=function(){if(Qx)return Bx;Qx=1;var e=Hy(),t=Bk(),n=AO(),r=Uk(),o=Ry(),i=em(),a=Qk();return Bx=function s(u,c,l,f,d){u!==c&&n(c,(function(n,i){if(d||(d=new e),o(n))r(u,c,i,l,s,f,d);else{var h=f?f(a(u,i),n,i+"",u,c,d):void 0;void 0===h&&(h=n),t(u,i,h)}}),i)},Bx}(),t=function(){if(Yx)return Ux;Yx=1;var e=xS(),t=Rk();return Ux=function(n){return e((function(e,r){var o=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=n.length>3&&"function"==typeof a?(i--,a):void 0,s&&t(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++o<i;){var u=r[o];u&&n(e,u,o,a)}return e}))},Ux}(),n=t((function(t,n,r){e(t,n,r)}));return Hx=n}(),min:function(){if($x)return Kx;$x=1;var e=qk(),t=Yk(),n=LO();return Kx=function(r){return r&&r.length?e(r,n,t):void 0},Kx}(),minBy:function(){if(Jx)return Zx;Jx=1;var e=qk(),t=fS(),n=Yk();return Zx=function(r,o){return r&&r.length?e(r,t(o,2),n):void 0},Zx}(),now:function(){if(tk)return ek;tk=1;var e=Ty();return ek=function(){return e.Date.now()}}(),pick:function(){if(fk)return lk;fk=1;var e=function(){if(sk)return ak;sk=1;var e=Hk(),t=sS();return ak=function(n,r){return e(n,r,(function(e,r){return t(n,r)}))}}(),t=function(){if(ck)return uk;ck=1;var e=zk(),t=OS(),n=SS();return uk=function(r){return n(t(r,void 0,e),r+"")}}()((function(t,n){return null==t?{}:e(t,n)}));return lk=t}(),range:function(){if(gk)return yk;gk=1;var e=Wk()();return yk=e}(),reduce:mS(),sortBy:function(){if(Nk)return kk;Nk=1;var e=ES(),t=Xk(),n=xS(),r=Rk(),o=n((function(n,o){if(null==n)return[];var i=o.length;return i>1&&r(n,o[0],o[1])?o=[]:i>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(n,e(o,1),[])}));return kk=o}(),uniqueId:function(){if(Dk)return Ck;Dk=1;var e=nS(),t=0;return Ck=function(n){var r=++t;return e(n)+r},Ck}(),values:IS(),zipObject:function(){if(Tk)return Ik;Tk=1;var e=Ky(),t=(Pk||(Pk=1,jk=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}),jk);return Ik=function(n,r){return t(n||[],r||[],e)}}()}}catch(e){}Mk||(Mk=window._);var Kk=Mk,$k=Zk;function Zk(){var e={};e._next=e._prev=e,this._sentinel=e}function Jk(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function eN(e,t){if("_next"!==e&&"_prev"!==e)return t}Zk.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Jk(t),t},Zk.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Jk(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},Zk.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,eN)),n=n._prev;return"["+e.join(", ")+"]"};var tN=Kk,nN=Ak.Graph,rN=$k,oN=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new nN,r=0,o=0;tN.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),tN.forEach(e.edges(),(function(e){var i=n.edge(e.v,e.w)||0,a=t(e),s=i+a;n.setEdge(e.v,e.w,s),o=Math.max(o,n.node(e.v).out+=a),r=Math.max(r,n.node(e.w).in+=a)}));var i=tN.range(o+r+3).map((function(){return new rN})),a=r+1;return tN.forEach(n.nodes(),(function(e){sN(i,a,n.node(e))})),{graph:n,buckets:i,zeroIdx:a}}(e,t||iN),r=function(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)aN(e,t,n,r);for(;r=i.dequeue();)aN(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue()){o=o.concat(aN(e,t,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return tN.flatten(tN.map(r,(function(t){return e.outEdges(t.v,t.w)})),!0)},iN=tN.constant(1);function aN(e,t,n,r,o){var i=o?[]:void 0;return tN.forEach(e.inEdges(r.v),(function(r){var a=e.edge(r),s=e.node(r.v);o&&i.push({v:r.v,w:r.w}),s.out-=a,sN(t,n,s)})),tN.forEach(e.outEdges(r.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,sN(t,n,a)})),e.removeNode(r.v),i}function sN(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var uN=Kk,cN=oN,lN={run:function(e){var t="greedy"===e.graph().acyclicer?cN(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function o(i){uN.has(r,i)||(r[i]=!0,n[i]=!0,uN.forEach(e.outEdges(i),(function(e){uN.has(n,e.w)?t.push(e):o(e.w)})),delete n[i])}return uN.forEach(e.nodes(),o),t}(e);uN.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,uN.uniqueId("rev"))}))},undo:function(e){uN.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}};var fN=Kk,dN=Ak.Graph,hN={addDummyNode:pN,simplify:function(e){var t=(new dN).setGraph(e.graph());return fN.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),fN.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t},asNonCompoundGraph:function(e){var t=new dN({multigraph:e.isMultigraph()}).setGraph(e.graph());return fN.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),fN.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=fN.map(e.nodes(),(function(t){var n={};return fN.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return fN.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=fN.map(e.nodes(),(function(t){var n={};return fN.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return fN.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=fN.map(fN.range(vN(e)+1),(function(){return[]}));return fN.forEach(e.nodes(),(function(n){var r=e.node(n),o=r.rank;fN.isUndefined(o)||(t[o][r.order]=n)})),t},normalizeRanks:function(e){var t=fN.min(fN.map(e.nodes(),(function(t){return e.node(t).rank})));fN.forEach(e.nodes(),(function(n){var r=e.node(n);fN.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=fN.min(fN.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];fN.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var r=0,o=e.graph().nodeRankFactor;fN.forEach(n,(function(t,n){fN.isUndefined(t)&&n%o!=0?--r:r&&fN.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return pN(e,"border",o,t)},maxRank:vN,partition:function(e,t){var n={lhs:[],rhs:[]};return fN.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=fN.now();try{return t()}finally{console.log(e+" time: "+(fN.now()-n)+"ms")}},notime:function(e,t){return t()}};function pN(e,t,n,r){var o;do{o=fN.uniqueId(r)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function vN(e){return fN.max(fN.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!fN.isUndefined(n))return n})))}var yN=Kk,gN=hN,mN={run:function(e){e.graph().dummyChains=[],yN.forEach(e.edges(),(function(t){!function(e,t){var n,r,o,i=t.v,a=e.node(i).rank,s=t.w,u=e.node(s).rank,c=t.name,l=e.edge(t),f=l.labelRank;if(u===a+1)return;for(e.removeEdge(t),o=0,++a;a<u;++o,++a)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:t,rank:a},n=gN.addDummyNode(e,"edge",r,"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),e.setEdge(i,n,{weight:l.weight},c),0===o&&e.graph().dummyChains.push(n),i=n;e.setEdge(i,s,{weight:l.weight},c)}(e,t)}))},undo:function(e){yN.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))}};var bN=Kk,wN={longestPath:function(e){var t={};bN.forEach(e.sources(),(function n(r){var o=e.node(r);if(bN.has(t,r))return o.rank;t[r]=!0;var i=bN.min(bN.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return i!==Number.POSITIVE_INFINITY&&null!=i||(i=0),o.rank=i}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}};var _N=Kk,EN=Ak.Graph,ON=wN.slack,SN=function(e){var t,n,r=new EN({directed:!1}),o=e.nodes()[0],i=e.nodeCount();r.setNode(o,{});for(;xN(r,e)<i;)t=kN(r,e),n=r.hasNode(t.v)?ON(e,t):-ON(e,t),NN(r,e,n);return r};function xN(e,t){return _N.forEach(e.nodes(),(function n(r){_N.forEach(t.nodeEdges(r),(function(o){var i=o.v,a=r===i?o.w:i;e.hasNode(a)||ON(t,o)||(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))}))})),e.nodeCount()}function kN(e,t){return _N.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return ON(t,n)}))}function NN(e,t,n){_N.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}var CN=Kk,DN=SN,jN=wN.slack,PN=wN.longestPath,IN=Ak.alg.preorder,TN=Ak.alg.postorder,MN=hN.simplify,AN=RN;function RN(e){e=MN(e),PN(e);var t,n=DN(e);for(VN(n),FN(n,e);t=qN(n);)QN(n,e,t,BN(n,e,t))}function FN(e,t){var n=TN(e,e.nodes());n=n.slice(0,n.length-1),CN.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=LN(e,t,n)}(e,t,n)}))}function LN(e,t,n){var r=e.node(n).parent,o=!0,i=t.edge(n,r),a=0;return i||(o=!1,i=t.edge(r,n)),a=i.weight,CN.forEach(t.nodeEdges(n),(function(i){var s,u,c=i.v===n,l=c?i.w:i.v;if(l!==r){var f=c===o,d=t.edge(i).weight;if(a+=f?d:-d,s=n,u=l,e.hasEdge(s,u)){var h=e.edge(n,l).cutvalue;a+=f?-h:h}}})),a}function VN(e,t){arguments.length<2&&(t=e.nodes()[0]),zN(e,{},1,t)}function zN(e,t,n,r,o){var i=n,a=e.node(r);return t[r]=!0,CN.forEach(e.neighbors(r),(function(o){CN.has(t,o)||(n=zN(e,t,n,o,r))})),a.low=i,a.lim=n++,o?a.parent=o:delete a.parent,n}function qN(e){return CN.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function BN(e,t,n){var r=n.v,o=n.w;t.hasEdge(r,o)||(r=n.w,o=n.v);var i=e.node(r),a=e.node(o),s=i,u=!1;i.lim>a.lim&&(s=a,u=!0);var c=CN.filter(t.edges(),(function(t){return u===UN(e,e.node(t.v),s)&&u!==UN(e,e.node(t.w),s)}));return CN.minBy(c,(function(e){return jN(t,e)}))}function QN(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),VN(e),FN(e,t),function(e,t){var n=CN.find(e.nodes(),(function(e){return!t.node(e).parent})),r=IN(e,n);r=r.slice(1),CN.forEach(r,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}(e,t)}function UN(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}RN.initLowLimValues=VN,RN.initCutValues=FN,RN.calcCutValue=LN,RN.leaveEdge=qN,RN.enterEdge=BN,RN.exchangeEdges=QN;var YN=wN.longestPath,HN=SN,WN=AN,GN=function(e){switch(e.graph().ranker){case"network-simplex":default:KN(e);break;case"tight-tree":!function(e){YN(e),HN(e)}(e);break;case"longest-path":XN(e)}};var XN=YN;function KN(e){WN(e)}var $N=Kk,ZN=function(e){var t=function(e){var t={},n=0;function r(o){var i=n;$N.forEach(e.children(o),r),t[o]={low:i,lim:n++}}return $N.forEach(e.children(),r),t}(e);$N.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>u||c>t[o].lim));i=o,o=r;for(;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,s=i.lca,u=0,c=a[u],l=!0;n!==o.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}}))};var JN=Kk,eC=hN,tC={run:function(e){var t=eC.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,o){var i=e.children(r);i&&i.length&&JN.forEach(i,(function(e){n(e,o+1)})),t[r]=o}return JN.forEach(e.children(),(function(e){n(e,1)})),t}(e),r=JN.max(JN.values(n))-1,o=2*r+1;e.graph().nestingRoot=t,JN.forEach(e.edges(),(function(t){e.edge(t).minlen*=o}));var i=function(e){return JN.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;JN.forEach(e.children(),(function(a){nC(e,t,o,i,r,n,a)})),e.graph().nodeRankFactor=o},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,JN.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}};function nC(e,t,n,r,o,i,a){var s=e.children(a);if(s.length){var u=eC.addBorderNode(e,"_bt"),c=eC.addBorderNode(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(c,a),l.borderBottom=c,JN.forEach(s,(function(s){nC(e,t,n,r,o,i,s);var l=e.node(s),f=l.borderTop?l.borderTop:s,d=l.borderBottom?l.borderBottom:s,h=l.borderTop?r:2*r,p=f!==d?1:o-i[a]+1;e.setEdge(u,f,{weight:h,minlen:p,nestingEdge:!0}),e.setEdge(d,c,{weight:h,minlen:p,nestingEdge:!0})})),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:o+i[a]})}else a!==t&&e.setEdge(t,a,{weight:0,minlen:n})}var rC=Kk,oC=hN,iC=function(e){rC.forEach(e.children(),(function t(n){var r=e.children(n),o=e.node(n);if(r.length&&rC.forEach(r,t),rC.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)aC(e,"borderLeft","_bl",n,o,i),aC(e,"borderRight","_br",n,o,i)}}))};function aC(e,t,n,r,o,i){var a={width:0,height:0,rank:i,borderType:t},s=o[t][i-1],u=oC.addDummyNode(e,"border",a,n);o[t][i]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}var sC=Kk,uC={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||cC(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){sC.forEach(e.nodes(),(function(t){fC(e.node(t))})),sC.forEach(e.edges(),(function(t){var n=e.edge(t);sC.forEach(n.points,fC),sC.has(n,"y")&&fC(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){sC.forEach(e.nodes(),(function(t){dC(e.node(t))})),sC.forEach(e.edges(),(function(t){var n=e.edge(t);sC.forEach(n.points,dC),sC.has(n,"x")&&dC(n)}))}(e),cC(e))}};function cC(e){sC.forEach(e.nodes(),(function(t){lC(e.node(t))})),sC.forEach(e.edges(),(function(t){lC(e.edge(t))}))}function lC(e){var t=e.width;e.width=e.height,e.height=t}function fC(e){e.y=-e.y}function dC(e){var t=e.x;e.x=e.y,e.y=t}var hC=Kk,pC=function(e){var t={},n=hC.filter(e.nodes(),(function(t){return!e.children(t).length})),r=hC.max(hC.map(n,(function(t){return e.node(t).rank}))),o=hC.map(hC.range(r+1),(function(){return[]}));function i(n){if(!hC.has(t,n)){t[n]=!0;var r=e.node(n);o[r.rank].push(n),hC.forEach(e.successors(n),i)}}var a=hC.sortBy(n,(function(t){return e.node(t).rank}));return hC.forEach(a,i),o};var vC=Kk,yC=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=gC(e,t[r-1],t[r]);return n};function gC(e,t,n){for(var r=vC.zipObject(n,vC.map(n,(function(e,t){return t}))),o=vC.flatten(vC.map(t,(function(t){return vC.sortBy(vC.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),i=1;i<n.length;)i<<=1;var a=2*i-1;i-=1;var s=vC.map(new Array(a),(function(){return 0})),u=0;return vC.forEach(o.forEach((function(e){var t=e.pos+i;s[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}var mC=Kk;var bC=Kk;var wC=Kk,_C=hN;function EC(e,t,n){for(var r;t.length&&(r=wC.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}var OC=Kk,SC=function(e,t){return mC.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=mC.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))},xC=function(e,t){var n={};return bC.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};bC.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),bC.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];bC.isUndefined(t)||bC.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(bC.isUndefined(t.barycenter)||bC.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),bC.forEach(o.in.reverse(),n(o)),bC.forEach(o.out,r(o))}return bC.map(bC.filter(t,(function(e){return!e.merged})),(function(e){return bC.pick(e,["vs","i","barycenter","weight"])}))}(bC.filter(n,(function(e){return!e.indegree})))},kC=function(e,t){var n=_C.partition(e,(function(e){return wC.has(e,"barycenter")})),r=n.lhs,o=wC.sortBy(n.rhs,(function(e){return-e.i})),i=[],a=0,s=0,u=0;r.sort((c=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:c?t.i-e.i:e.i-t.i})),u=EC(i,o,u),wC.forEach(r,(function(e){u+=e.vs.length,i.push(e.vs),a+=e.barycenter*e.weight,s+=e.weight,u=EC(i,o,u)}));var c;var l={vs:wC.flatten(i,!0)};s&&(l.barycenter=a/s,l.weight=s);return l},NC=function e(t,n,r,o){var i=t.children(n),a=t.node(n),s=a?a.borderLeft:void 0,u=a?a.borderRight:void 0,c={};s&&(i=OC.filter(i,(function(e){return e!==s&&e!==u})));var l=SC(t,i);OC.forEach(l,(function(n){if(t.children(n.v).length){var i=e(t,n.v,r,o);c[n.v]=i,OC.has(i,"barycenter")&&(a=n,s=i,OC.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s}));var f=xC(l,r);!function(e,t){OC.forEach(e,(function(e){e.vs=OC.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(f,c);var d=kC(f,o);if(s&&(d.vs=OC.flatten([s,d.vs,u],!0),t.predecessors(s).length)){var h=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(u)[0]);OC.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+h.order+p.order)/(d.weight+2),d.weight+=2}return d};var CC=Kk,DC=Ak.Graph,jC=function(e,t,n){var r=function(e){var t;for(;e.hasNode(t=CC.uniqueId("_root")););return t}(e),o=new DC({compound:!0}).setGraph({root:r}).setDefaultNodeLabel((function(t){return e.node(t)}));return CC.forEach(e.nodes(),(function(i){var a=e.node(i),s=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,s||r),CC.forEach(e[n](i),(function(t){var n=t.v===i?t.w:t.v,r=o.edge(n,i),a=CC.isUndefined(r)?0:r.weight;o.setEdge(n,i,{weight:e.edge(t).weight+a})})),CC.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),o};var PC=Kk;var IC=Kk,TC=pC,MC=yC,AC=NC,RC=jC,FC=function(e,t,n){var r,o={};PC.forEach(n,(function(n){for(var i,a,s=e.parent(n);s;){if((i=e.parent(s))?(a=o[i],o[i]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=i}}))},LC=Ak.Graph,VC=hN,zC=function(e){var t=VC.maxRank(e),n=qC(e,IC.range(1,t+1),"inEdges"),r=qC(e,IC.range(t-1,-1,-1),"outEdges"),o=TC(e);QC(e,o);for(var i,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){BC(s%2?n:r,s%4>=2),o=VC.buildLayerMatrix(e);var c=MC(e,o);c<a&&(u=0,i=IC.cloneDeep(o),a=c)}QC(e,i)};function qC(e,t,n){return IC.map(t,(function(t){return RC(e,t,n)}))}function BC(e,t){var n=new LC;IC.forEach(e,(function(e){var r=e.graph().root,o=AC(e,r,n,t);IC.forEach(o.vs,(function(t,n){e.node(t).order=n})),FC(e,n,o.vs)}))}function QC(e,t){IC.forEach(t,(function(t){IC.forEach(t,(function(t,n){e.node(t).order=n}))}))}var UC=Kk,YC=Ak.Graph,HC=hN,WC=function(e){var t,n=HC.buildLayerMatrix(e),r=UC.merge(GC(e,n),XC(e,n)),o={};UC.forEach(["u","d"],(function(i){t="u"===i?n:UC.values(n).reverse(),UC.forEach(["l","r"],(function(n){"r"===n&&(t=UC.map(t,(function(e){return UC.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=ZC(e,t,r,a),u=JC(e,t,s.root,s.align,"r"===n);"r"===n&&(u=UC.mapValues(u,(function(e){return-e}))),o[i+n]=u}))}));var i=eD(e,o);return tD(o,i),nD(o,e.graph().align)};function GC(e,t){var n={};return UC.reduce(t,(function(t,r){var o=0,i=0,a=t.length,s=UC.last(r);return UC.forEach(r,(function(t,u){var c=function(e,t){if(e.node(t).dummy)return UC.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),l=c?e.node(c).order:a;(c||t===s)&&(UC.forEach(r.slice(i,u+1),(function(t){UC.forEach(e.predecessors(t),(function(r){var i=e.node(r),a=i.order;!(a<o||l<a)||i.dummy&&e.node(t).dummy||KC(n,r,t)}))})),i=u+1,o=l)})),r})),n}function XC(e,t){var n={};function r(t,r,o,i,a){var s;UC.forEach(UC.range(r,o),(function(r){s=t[r],e.node(s).dummy&&UC.forEach(e.predecessors(s),(function(t){var r=e.node(t);r.dummy&&(r.order<i||r.order>a)&&KC(n,t,s)}))}))}return UC.reduce(t,(function(t,n){var o,i=-1,a=0;return UC.forEach(n,(function(s,u){if("border"===e.node(s).dummy){var c=e.predecessors(s);c.length&&(o=e.node(c[0]).order,r(n,a,u,i,o),a=u,i=o)}r(n,a,n.length,o,t.length)})),n})),n}function KC(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function $C(e,t,n){if(t>n){var r=t;t=n,n=r}return UC.has(e[t],n)}function ZC(e,t,n,r){var o={},i={},a={};return UC.forEach(t,(function(e){UC.forEach(e,(function(e,t){o[e]=e,i[e]=e,a[e]=t}))})),UC.forEach(t,(function(e){var t=-1;UC.forEach(e,(function(e){var s=r(e);if(s.length){s=UC.sortBy(s,(function(e){return a[e]}));for(var u=(s.length-1)/2,c=Math.floor(u),l=Math.ceil(u);c<=l;++c){var f=s[c];i[e]===e&&t<a[f]&&!$C(n,e,f)&&(i[f]=e,i[e]=o[e]=o[f],t=a[f])}}}))})),{root:o,align:i}}function JC(e,t,n,r,o){var i={},a=function(e,t,n,r){var o=new YC,i=e.graph(),a=function(e,t,n){return function(r,o,i){var a,s=r.node(o),u=r.node(i),c=0;if(c+=s.width/2,UC.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(c+=n?a:-a),a=0,c+=(s.dummy?t:e)/2,c+=(u.dummy?t:e)/2,c+=u.width/2,UC.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":a=u.width/2;break;case"r":a=-u.width/2}return a&&(c+=n?a:-a),a=0,c}}(i.nodesep,i.edgesep,r);return UC.forEach(t,(function(t){var r;UC.forEach(t,(function(t){var i=n[t];if(o.setNode(i),r){var s=n[r],u=o.edge(s,i);o.setEdge(s,i,Math.max(a(e,t,r),u||0))}r=t}))})),o}(e,t,n,o),s=o?"borderLeft":"borderRight";function u(e,t){for(var n=a.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){i[e]=a.inEdges(e).reduce((function(e,t){return Math.max(e,i[t.v]+a.edge(t))}),0)}),a.predecessors.bind(a)),u((function(t){var n=a.outEdges(t).reduce((function(e,t){return Math.min(e,i[t.w]-a.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(i[t]=Math.max(i[t],n))}),a.successors.bind(a)),UC.forEach(r,(function(e){i[e]=i[n[e]]})),i}function eD(e,t){return UC.minBy(UC.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return UC.forIn(t,(function(t,o){var i=function(e,t){return e.node(t).width}(e,o)/2;n=Math.max(t+i,n),r=Math.min(t-i,r)})),n-r}))}function tD(e,t){var n=UC.values(t),r=UC.min(n),o=UC.max(n);UC.forEach(["u","d"],(function(n){UC.forEach(["l","r"],(function(i){var a,s=n+i,u=e[s];if(u!==t){var c=UC.values(u);(a="l"===i?r-UC.min(c):o-UC.max(c))&&(e[s]=UC.mapValues(u,(function(e){return e+a})))}}))}))}function nD(e,t){return UC.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var o=UC.sortBy(UC.map(e,r));return(o[1]+o[2])/2}))}var rD=Kk,oD=hN,iD=WC;var aD=Kk,sD=lN,uD=mN,cD=GN,lD=hN.normalizeRanks,fD=ZN,dD=hN.removeEmptyRanks,hD=tC,pD=iC,vD=uC,yD=zC,gD=function(e){(function(e){var t=oD.buildLayerMatrix(e),n=e.graph().ranksep,r=0;rD.forEach(t,(function(t){var o=rD.max(rD.map(t,(function(t){return e.node(t).height})));rD.forEach(t,(function(t){e.node(t).y=r+o/2})),r+=o+n}))})(e=oD.asNonCompoundGraph(e)),rD.forEach(iD(e),(function(t,n){e.node(n).x=t}))},mD=hN,bD=Ak.Graph,wD=function(e,t){var n=t&&t.debugTiming?mD.time:mD.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new bD({multigraph:!0,compound:!0}),n=jD(e.graph());return t.setGraph(aD.merge({},ED,DD(n,_D),aD.pick(n,OD))),aD.forEach(e.nodes(),(function(n){var r=jD(e.node(n));t.setNode(n,aD.defaults(DD(r,SD),xD)),t.setParent(n,e.parent(n))})),aD.forEach(e.edges(),(function(n){var r=jD(e.edge(n));t.setEdge(n,aD.merge({},ND,DD(r,kD),aD.pick(r,CD)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,aD.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){aD.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){sD.run(e)})),t("    nestingGraph.run",(function(){hD.run(e)})),t("    rank",(function(){cD(mD.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){aD.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};mD.addDummyNode(e,"edge-proxy",o,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){dD(e)})),t("    nestingGraph.cleanup",(function(){hD.cleanup(e)})),t("    normalizeRanks",(function(){lD(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;aD.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=aD.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){aD.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){uD.run(e)})),t("    parentDummyChains",(function(){fD(e)})),t("    addBorderSegments",(function(){pD(e)})),t("    order",(function(){yD(e)})),t("    insertSelfEdges",(function(){!function(e){var t=mD.buildLayerMatrix(e);aD.forEach(t,(function(t){var n=0;aD.forEach(t,(function(t,r){var o=e.node(t);o.order=r+n,aD.forEach(o.selfEdges,(function(t){mD.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){vD.adjust(e)})),t("    position",(function(){gD(e)})),t("    positionSelfEdges",(function(){!function(e){aD.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){aD.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),o=e.node(n.borderBottom),i=e.node(aD.last(n.borderLeft)),a=e.node(aD.last(n.borderRight));n.width=Math.abs(a.x-i.x),n.height=Math.abs(o.y-r.y),n.x=i.x+n.width/2,n.y=r.y+n.height/2}})),aD.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){uD.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){aD.forEach(e.edges(),(function(t){var n=e.edge(t);if(aD.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){vD.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,s=i.marginy||0;function u(e){var i=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,i-s/2),n=Math.max(n,i+s/2),r=Math.min(r,a-u/2),o=Math.max(o,a+u/2)}aD.forEach(e.nodes(),(function(t){u(e.node(t))})),aD.forEach(e.edges(),(function(t){var n=e.edge(t);aD.has(n,"x")&&u(n)})),t-=a,r-=s,aD.forEach(e.nodes(),(function(n){var o=e.node(n);o.x-=t,o.y-=r})),aD.forEach(e.edges(),(function(n){var o=e.edge(n);aD.forEach(o.points,(function(e){e.x-=t,e.y-=r})),aD.has(o,"x")&&(o.x-=t),aD.has(o,"y")&&(o.y-=r)})),i.width=n-t+a,i.height=o-r+s}(e)})),t("    assignNodeIntersects",(function(){!function(e){aD.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(mD.intersectRect(i,n)),o.points.push(mD.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){aD.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){sD.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){aD.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),aD.forEach(e.edges(),(function(n){var r=e.edge(n),o=t.edge(n);r.points=o.points,aD.has(o,"x")&&(r.x=o.x,r.y=o.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var _D=["nodesep","edgesep","ranksep","marginx","marginy"],ED={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},OD=["acyclicer","ranker","rankdir","align"],SD=["width","height"],xD={width:0,height:0},kD=["minlen","weight","width","height","labeloffset"],ND={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},CD=["labelpos"];function DD(e,t){return aD.mapValues(aD.pick(e,t),Number)}function jD(e){var t={};return aD.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}var PD=Kk,ID=hN,TD=Ak.Graph;var MD,AD,RD,FD={graphlib:Ak,layout:wD,debug:{debugOrdering:function(e){var t=ID.buildLayerMatrix(e),n=new TD({compound:!0,multigraph:!0}).setGraph({});return PD.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),PD.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),PD.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),PD.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}},util:{time:hN.time,notime:hN.notime},version:"0.8.5"},LD=yi(MD||(AD=["\nquery MyQuery {\n  demo_value_driver_tree {\n    component\n    component_type\n    parent_component\n    id\n    model_id\n  }\n}"],RD||(RD=AD.slice(0)),MD=Object.freeze(Object.defineProperties(AD,{raw:{value:Object.freeze(RD)}})))),VD=new FD.graphlib.Graph;VD.setDefaultEdgeLabel((function(){return{}}));var zD={componentNode:function(e){return i.default.createElement("div",{className:"ComponentNode"},i.default.createElement(Fd,{type:"target",position:ul.Left}),i.default.createElement("div",{className:"ComponentTitle"},i.default.createElement("p",null,e.data.label)),i.default.createElement("div",{className:"ModelStatus"},i.default.createElement("p",null,"Model Status:"),i.default.createElement("span",{className:"StatusCircle StatusCircle"+e.data.status})),i.default.createElement("div",{className:"ModelStatus"},i.default.createElement("p",null,"Model Accuracy:"),i.default.createElement("p",null,(100*e.data.accuracy).toFixed(2)+"%")))}};function qD(){var e=Ai(LD),t=e.loading,n=e.error,r=e.data;if(t)return i.default.createElement("p",null,"Loading...");if(n)return i.default.createElement("p",null,"Error loading data - "+n);VD.setGraph({rankdir:"LR"});var o=[{id:"Model",data:{label:"Model"},type:"input",sourcePosition:ul.Right,position:{x:0,y:0}},{id:"Supply",data:{label:"Supply"},targetPosition:ul.Left,sourcePosition:ul.Right,position:{x:0,y:0}},{id:"Demand",data:{label:"Demand"},targetPosition:ul.Left,sourcePosition:ul.Right,position:{x:0,y:0}}],a=r.demo_value_driver_tree;o=o.concat(a.map((function(e){return{id:""+e.id,data:{label:e.component,status:Math.random()>.3?"Ok":"Warning",accuracy:Math.random()},targetPosition:ul.Left,sourcePosition:ul.Right,type:a.filter((function(t){return t.parent_component===e.id})).length>0?"default":"componentNode",position:{x:0,y:0}}})));var s=[{id:"edge-Model-Demand",source:"Model",target:"Demand"},{id:"edge-Model-Supply",source:"Model",target:"Supply"}];return s=s.concat(a.map((function(e){return{id:"edge-"+e.id,source:null===e.parent_component?e.component_type:""+e.parent_component,target:""+e.id}}))),o.forEach((function(e){VD.setNode(e.id,{width:172,height:"default"===e.type?36:90})})),s.forEach((function(e){VD.setEdge(e.source,e.target)})),FD.layout(VD),o.forEach((function(e){var t=VD.node(e.id);e.position={x:t.x-86,y:t.y-18}})),i.default.createElement(Np,{nodes:o,edges:s,nodeTypes:zD},i.default.createElement(Pf,{nodeColor:"#9b9b9b"}),i.default.createElement(Qf,null))}e.App=function(e){var n=e.gqlEndpoint,r=e.hasuraSecret,o=s(t.useState(new ui({uri:n,cache:new Qo,headers:{"x-hasura-admin-secret":r}})),1)[0];return i.default.createElement(ki,{client:o},i.default.createElement("div",{className:"App"},i.default.createElement(qD,null)))},Object.defineProperty(e,"__esModule",{value:!0})}));
